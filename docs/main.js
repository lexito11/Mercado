var KO=Object.defineProperty;var QO=(i,e,t)=>e in i?KO(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ee=(i,e,t)=>QO(i,typeof e!="symbol"?e+"":e,t);function XO(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function xb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pv={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function ZO(){if(fS)return oh;fS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return oh.Fragment=e,oh.jsx=t,oh.jsxs=t,oh}var pS;function JO(){return pS||(pS=1,Pv.exports=ZO()),Pv.exports}var R=JO(),Nv={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function eP(){if(mS)return Ne;mS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function x(Y,ie,ye){this.props=Y,this.context=ie,this.refs=S,this.updater=ye||b}x.prototype.isReactComponent={},x.prototype.setState=function(Y,ie){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ie,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=x.prototype;function L(Y,ie,ye){this.props=Y,this.context=ie,this.refs=S,this.updater=ye||b}var j=L.prototype=new M;j.constructor=L,E(j,x.prototype),j.isPureReactComponent=!0;var W=Array.isArray,H={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function O(Y,ie,ye,me,ge,Re){return ye=Re.ref,{$$typeof:i,type:Y,key:ie,ref:ye!==void 0?ye:null,props:Re}}function C(Y,ie){return O(Y.type,ie,void 0,void 0,void 0,Y.props)}function A(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function k(Y){var ie={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ye){return ie[ye]})}var V=/\/+/g;function U(Y,ie){return typeof Y=="object"&&Y!==null&&Y.key!=null?k(""+Y.key):ie.toString(36)}function N(){}function de(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(N,N):(Y.status="pending",Y.then(function(ie){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ie)},function(ie){Y.status==="pending"&&(Y.status="rejected",Y.reason=ie)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,ie,ye,me,ge){var Re=typeof Y;(Re==="undefined"||Re==="boolean")&&(Y=null);var xe=!1;if(Y===null)xe=!0;else switch(Re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(Y.$$typeof){case i:case e:xe=!0;break;case p:return xe=Y._init,q(xe(Y._payload),ie,ye,me,ge)}}if(xe)return ge=ge(Y),xe=me===""?"."+U(Y,0):me,W(ge)?(ye="",xe!=null&&(ye=xe.replace(V,"$&/")+"/"),q(ge,ie,ye,"",function(Mt){return Mt})):ge!=null&&(A(ge)&&(ge=C(ge,ye+(ge.key==null||Y&&Y.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+xe)),ie.push(ge)),1;xe=0;var yt=me===""?".":me+":";if(W(Y))for(var Ze=0;Ze<Y.length;Ze++)me=Y[Ze],Re=yt+U(me,Ze),xe+=q(me,ie,ye,Re,ge);else if(Ze=v(Y),typeof Ze=="function")for(Y=Ze.call(Y),Ze=0;!(me=Y.next()).done;)me=me.value,Re=yt+U(me,Ze++),xe+=q(me,ie,ye,Re,ge);else if(Re==="object"){if(typeof Y.then=="function")return q(de(Y),ie,ye,me,ge);throw ie=String(Y),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return xe}function z(Y,ie,ye){if(Y==null)return Y;var me=[],ge=0;return q(Y,me,"","",function(Re){return ie.call(ye,Re,ge++)}),me}function te(Y){if(Y._status===-1){var ie=Y._result;ie=ie(),ie.then(function(ye){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ye)},function(ye){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ye)}),Y._status===-1&&(Y._status=0,Y._result=ie)}if(Y._status===1)return Y._result.default;throw Y._result}var re=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function fe(){}return Ne.Children={map:z,forEach:function(Y,ie,ye){z(Y,function(){ie.apply(this,arguments)},ye)},count:function(Y){var ie=0;return z(Y,function(){ie++}),ie},toArray:function(Y){return z(Y,function(ie){return ie})||[]},only:function(Y){if(!A(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ne.Component=x,Ne.Fragment=t,Ne.Profiler=r,Ne.PureComponent=L,Ne.StrictMode=n,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ne.cloneElement=function(Y,ie,ye){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var me=E({},Y.props),ge=Y.key,Re=void 0;if(ie!=null)for(xe in ie.ref!==void 0&&(Re=void 0),ie.key!==void 0&&(ge=""+ie.key),ie)!Q.call(ie,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ie.ref===void 0||(me[xe]=ie[xe]);var xe=arguments.length-2;if(xe===1)me.children=ye;else if(1<xe){for(var yt=Array(xe),Ze=0;Ze<xe;Ze++)yt[Ze]=arguments[Ze+2];me.children=yt}return O(Y.type,ge,void 0,void 0,Re,me)},Ne.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Ne.createElement=function(Y,ie,ye){var me,ge={},Re=null;if(ie!=null)for(me in ie.key!==void 0&&(Re=""+ie.key),ie)Q.call(ie,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=ie[me]);var xe=arguments.length-2;if(xe===1)ge.children=ye;else if(1<xe){for(var yt=Array(xe),Ze=0;Ze<xe;Ze++)yt[Ze]=arguments[Ze+2];ge.children=yt}if(Y&&Y.defaultProps)for(me in xe=Y.defaultProps,xe)ge[me]===void 0&&(ge[me]=xe[me]);return O(Y,Re,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(Y){return{$$typeof:c,render:Y}},Ne.isValidElement=A,Ne.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:te}},Ne.memo=function(Y,ie){return{$$typeof:d,type:Y,compare:ie===void 0?null:ie}},Ne.startTransition=function(Y){var ie=H.T,ye={};H.T=ye;try{var me=Y(),ge=H.S;ge!==null&&ge(ye,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(fe,re)}catch(Re){re(Re)}finally{H.T=ie}},Ne.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ne.use=function(Y){return H.H.use(Y)},Ne.useActionState=function(Y,ie,ye){return H.H.useActionState(Y,ie,ye)},Ne.useCallback=function(Y,ie){return H.H.useCallback(Y,ie)},Ne.useContext=function(Y){return H.H.useContext(Y)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(Y,ie){return H.H.useDeferredValue(Y,ie)},Ne.useEffect=function(Y,ie){return H.H.useEffect(Y,ie)},Ne.useId=function(){return H.H.useId()},Ne.useImperativeHandle=function(Y,ie,ye){return H.H.useImperativeHandle(Y,ie,ye)},Ne.useInsertionEffect=function(Y,ie){return H.H.useInsertionEffect(Y,ie)},Ne.useLayoutEffect=function(Y,ie){return H.H.useLayoutEffect(Y,ie)},Ne.useMemo=function(Y,ie){return H.H.useMemo(Y,ie)},Ne.useOptimistic=function(Y,ie){return H.H.useOptimistic(Y,ie)},Ne.useReducer=function(Y,ie,ye){return H.H.useReducer(Y,ie,ye)},Ne.useRef=function(Y){return H.H.useRef(Y)},Ne.useState=function(Y){return H.H.useState(Y)},Ne.useSyncExternalStore=function(Y,ie,ye){return H.H.useSyncExternalStore(Y,ie,ye)},Ne.useTransition=function(){return H.H.useTransition()},Ne.version="19.0.0",Ne}var gS;function Db(){return gS||(gS=1,Nv.exports=eP()),Nv.exports}var F=Db();const ae=xb(F),tP=XO({__proto__:null,default:ae},[F]);var Lv={exports:{}},lh={},Vv={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function nP(){return yS||(yS=1,function(i){function e(z,te){var re=z.length;z.push(te);e:for(;0<re;){var fe=re-1>>>1,Y=z[fe];if(0<r(Y,te))z[fe]=te,z[re]=Y,re=fe;else break e}}function t(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var te=z[0],re=z.pop();if(re!==te){z[0]=re;e:for(var fe=0,Y=z.length,ie=Y>>>1;fe<ie;){var ye=2*(fe+1)-1,me=z[ye],ge=ye+1,Re=z[ge];if(0>r(me,re))ge<Y&&0>r(Re,me)?(z[fe]=Re,z[ge]=re,fe=ge):(z[fe]=me,z[ye]=re,fe=ye);else if(ge<Y&&0>r(Re,re))z[fe]=Re,z[ge]=re,fe=ge;else break e}}return te}function r(z,te){var re=z.sortIndex-te.sortIndex;return re!==0?re:z.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,y=null,v=3,b=!1,E=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function j(z){for(var te=t(d);te!==null;){if(te.callback===null)n(d);else if(te.startTime<=z)n(d),te.sortIndex=te.expirationTime,e(h,te);else break;te=t(d)}}function W(z){if(S=!1,j(z),!E)if(t(h)!==null)E=!0,de();else{var te=t(d);te!==null&&q(W,te.startTime-z)}}var H=!1,Q=-1,O=5,C=-1;function A(){return!(i.unstable_now()-C<O)}function k(){if(H){var z=i.unstable_now();C=z;var te=!0;try{e:{E=!1,S&&(S=!1,M(Q),Q=-1),b=!0;var re=v;try{t:{for(j(z),y=t(h);y!==null&&!(y.expirationTime>z&&A());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,v=y.priorityLevel;var Y=fe(y.expirationTime<=z);if(z=i.unstable_now(),typeof Y=="function"){y.callback=Y,j(z),te=!0;break t}y===t(h)&&n(h),j(z)}else n(h);y=t(h)}if(y!==null)te=!0;else{var ie=t(d);ie!==null&&q(W,ie.startTime-z),te=!1}}break e}finally{y=null,v=re,b=!1}te=void 0}}finally{te?V():H=!1}}}var V;if(typeof L=="function")V=function(){L(k)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,N=U.port2;U.port1.onmessage=k,V=function(){N.postMessage(null)}}else V=function(){x(k,0)};function de(){H||(H=!0,V())}function q(z,te){Q=x(function(){z(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){E||b||(E=!0,de())},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_getFirstCallbackNode=function(){return t(h)},i.unstable_next=function(z){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var re=v;v=te;try{return z()}finally{v=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,te){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=v;v=z;try{return te()}finally{v=re}},i.unstable_scheduleCallback=function(z,te,re){var fe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?fe+re:fe):re=fe,z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=re+Y,z={id:p++,callback:te,priorityLevel:z,startTime:re,expirationTime:Y,sortIndex:-1},re>fe?(z.sortIndex=re,e(d,z),t(h)===null&&z===t(d)&&(S?(M(Q),Q=-1):S=!0,q(W,re-fe))):(z.sortIndex=Y,e(h,z),E||b||(E=!0,de())),z},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(z){var te=v;return function(){var re=v;v=te;try{return z.apply(this,arguments)}finally{v=re}}}}(Fv)),Fv}var vS;function iP(){return vS||(vS=1,Vv.exports=nP()),Vv.exports}var jv={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function rP(){if(_S)return An;_S=1;var i=Db();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,An.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,p)},An.flushSync=function(h){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=d,n.p=p,n.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},An.requestFormReset=function(h){n.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},An.useFormStatus=function(){return o.H.useHostTransitionStatus()},An.version="19.0.0",An}var bS;function vC(){if(bS)return jv.exports;bS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jv.exports=rP(),jv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function sP(){if(wS)return lh;wS=1;var i=iP(),e=Db(),t=vC();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var O=Symbol.for("react.client.reference");function C(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===O?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case x:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case b:return(a.displayName||"Context")+".Provider";case v:return(a._context.displayName||"Context")+".Consumer";case E:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:C(a.type)||"Memo";case L:l=a._payload,a=a._init;try{return C(a(l))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=Object.assign,V,U;function N(a){if(V===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);V=l&&l[1]||"",U=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+a+U}var de=!1;function q(a,l){if(!a||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var J=se}Reflect.construct(a,[],he)}else{try{he.call()}catch(se){J=se}a.call(he.prototype)}}else{try{throw Error()}catch(se){J=se}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&J&&typeof se.stack=="string")return[se.stack,J.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),D=_[0],I=_[1];if(D&&I){var B=D.split(`
`),G=I.split(`
`);for(g=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(f===B.length||g===G.length)for(f=B.length-1,g=G.length-1;1<=f&&0<=g&&B[f]!==G[g];)g--;for(;1<=f&&0<=g;f--,g--)if(B[f]!==G[g]){if(f!==1||g!==1)do if(f--,g--,0>g||B[f]!==G[g]){var oe=`
`+B[f].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=f&&0<=g);break}}}finally{de=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?N(u):""}function z(a){switch(a.tag){case 26:case 27:case 5:return N(a.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return a=q(a.type,!1),a;case 11:return a=q(a.type.render,!1),a;case 1:return a=q(a.type,!0),a;default:return""}}function te(a){try{var l="";do l+=z(a),a=a.return;while(a);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function re(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function fe(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Y(a){if(re(a)!==a)throw Error(n(188))}function ie(a){var l=a.alternate;if(!l){if(l=re(a),l===null)throw Error(n(188));return l!==a?null:a}for(var u=a,f=l;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return Y(g),a;if(_===f)return Y(g),l;_=_.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=_;else{for(var D=!1,I=g.child;I;){if(I===u){D=!0,u=g,f=_;break}if(I===f){D=!0,f=g,u=_;break}I=I.sibling}if(!D){for(I=_.child;I;){if(I===u){D=!0,u=_,f=g;break}if(I===f){D=!0,f=_,u=g;break}I=I.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:l}function ye(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=ye(a),l!==null)return l;a=a.sibling}return null}var me=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},xe=[],yt=-1;function Ze(a){return{current:a}}function Mt(a){0>yt||(a.current=xe[yt],xe[yt]=null,yt--)}function at(a,l){yt++,xe[yt]=a.current,a.current=l}var Nn=Ze(null),Vr=Ze(null),di=Ze(null),js=Ze(null);function Us(a,l){switch(at(di,l),at(Vr,a),at(Nn,null),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)&&(l=l.namespaceURI)?zT(l):0;break;default:if(a=a===8?l.parentNode:l,l=a.tagName,a=a.namespaceURI)a=zT(a),l=HT(a,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Mt(Nn),at(Nn,l)}function Fr(){Mt(Nn),Mt(Vr),Mt(di)}function nu(a){a.memoizedState!==null&&at(js,a);var l=Nn.current,u=HT(l,a.type);l!==u&&(at(Vr,a),at(Nn,u))}function wl(a){Vr.current===a&&(Mt(Nn),Mt(Vr)),js.current===a&&(Mt(js),nh._currentValue=Re)}var El=Object.prototype.hasOwnProperty,ao=i.unstable_scheduleCallback,Tl=i.unstable_cancelCallback,Lg=i.unstable_shouldYield,iu=i.unstable_requestPaint,Yn=i.unstable_now,Pd=i.unstable_getCurrentPriorityLevel,Qt=i.unstable_ImmediatePriority,an=i.unstable_UserBlockingPriority,jr=i.unstable_NormalPriority,Nd=i.unstable_LowPriority,ru=i.unstable_IdlePriority,Vg=i.log,oo=i.unstable_setDisableYieldValue,Bs=null,xn=null;function su(a){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Bs,a,void 0,(a.current.flags&128)===128)}catch{}}function tr(a){if(typeof Vg=="function"&&oo(a),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(Bs,a)}catch{}}var Ln=Math.clz32?Math.clz32:Vd,au=Math.log,Ld=Math.LN2;function Vd(a){return a>>>=0,a===0?32:31-(au(a)/Ld|0)|0}var nr=128,zs=4194304;function Fi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function fi(a,l){var u=a.pendingLanes;if(u===0)return 0;var f=0,g=a.suspendedLanes,_=a.pingedLanes,D=a.warmLanes;a=a.finishedLanes!==0;var I=u&134217727;return I!==0?(u=I&~g,u!==0?f=Fi(u):(_&=I,_!==0?f=Fi(_):a||(D=I&~D,D!==0&&(f=Fi(D))))):(I=u&~g,I!==0?f=Fi(I):_!==0?f=Fi(_):a||(D=u&~D,D!==0&&(f=Fi(D)))),f===0?0:l!==0&&l!==f&&(l&g)===0&&(g=f&-f,D=l&-l,g>=D||g===32&&(D&4194176)!==0)?l:f}function Hs(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Sl(a,l){switch(a){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var a=nr;return nr<<=1,(nr&4194176)===0&&(nr=128),a}function Ys(){var a=zs;return zs<<=1,(zs&62914560)===0&&(zs=4194304),a}function xl(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Vt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Fd(a,l,u,f,g,_){var D=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var I=a.entanglements,B=a.expirationTimes,G=a.hiddenUpdates;for(u=D&~u;0<u;){var oe=31-Ln(u),he=1<<oe;I[oe]=0,B[oe]=-1;var J=G[oe];if(J!==null)for(G[oe]=null,oe=0;oe<J.length;oe++){var se=J[oe];se!==null&&(se.lane&=-536870913)}u&=~he}f!==0&&qs(a,f,0),_!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=_&~(D&~l))}function qs(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-Ln(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194218}function Ws(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var f=31-Ln(u),g=1<<f;g&l|a[f]&l&&(a[f]|=l),u&=~g}}function jd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ud(){var a=ge.p;return a!==0?a:(a=window.event,a===void 0?32:oS(a.type))}function $s(a,l){var u=ge.p;try{return ge.p=a,l()}finally{ge.p=u}}var ir=Math.random().toString(36).slice(2),on="__reactFiber$"+ir,Xt="__reactProps$"+ir,Ur="__reactContainer$"+ir,lo="__reactEvents$"+ir,Dl="__reactListeners$"+ir,rr="__reactHandles$"+ir,lu="__reactResources$"+ir,Gs="__reactMarker$"+ir;function co(a){delete a[on],delete a[Xt],delete a[lo],delete a[Dl],delete a[rr]}function ji(a){var l=a[on];if(l)return l;for(var u=a.parentNode;u;){if(l=u[Ur]||u[on]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=WT(a);a!==null;){if(u=a[on])return u;a=WT(a)}return l}a=u,u=a.parentNode}return null}function Br(a){if(a=a[on]||a[Ur]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ks(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Qs(a){var l=a[lu];return l||(l=a[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function xt(a){a[Gs]=!0}var cu=new Set,Al={};function ei(a,l){qn(a,l),qn(a+"Capture",l)}function qn(a,l){for(Al[a]=l,a=0;a<l.length;a++)cu.add(l[a])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},hu={};function Bd(a){return El.call(hu,a)?!0:El.call(uu,a)?!1:Fg.test(a)?hu[a]=!0:(uu[a]=!0,!1)}function Xs(a,l,u){if(Bd(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function Zs(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function pi(a,l,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+f)}}function Vn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zd(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jg(a){var l=zd(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return g.call(this)},set:function(D){f=""+D,_.call(this,D)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function uo(a){a._valueTracker||(a._valueTracker=jg(a))}function du(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return a&&(f=zd(a)?a.checked?"true":"false":a.value),a=f,a!==u?(l.setValue(a),!0):!1}function Cl(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var zr=/[\n"\\]/g;function kt(a){return a.replace(zr,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Js(a,l,u,f,g,_,D,I){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),l!=null?D==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Vn(l)):a.value!==""+Vn(l)&&(a.value=""+Vn(l)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),l!=null?Rl(a,D,Vn(l)):u!=null?Rl(a,D,Vn(u)):f!=null&&a.removeAttribute("value"),g==null&&_!=null&&(a.defaultChecked=!!_),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+Vn(I):a.removeAttribute("name")}function ho(a,l,u,f,g,_,D,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;u=u!=null?""+Vn(u):"",l=l!=null?""+Vn(l):u,I||l===a.value||(a.value=l),a.defaultValue=l}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=I?a.checked:!!f,a.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function Rl(a,l,u){l==="number"&&Cl(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Je(a,l,u,f){if(a=a.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<a.length;u++)g=l.hasOwnProperty("$"+a[u].value),a[u].selected!==g&&(a[u].selected=g),g&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Vn(u),l=null,g=0;g<a.length;g++){if(a[g].value===u){a[g].selected=!0,f&&(a[g].defaultSelected=!0);return}l!==null||a[g].disabled||(l=a[g])}l!==null&&(l.selected=!0)}}function fo(a,l,u){if(l!=null&&(l=""+Vn(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Vn(u):""}function ea(a,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(n(92));if(me(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=Vn(l),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function mi(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Ug=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(a,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,u):typeof u!="number"||u===0||Ug.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function Hd(a,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var g in l)f=l[g],l.hasOwnProperty(g)&&u[g]!==f&&fu(a,g,f)}else for(var _ in l)l.hasOwnProperty(_)&&fu(a,_,l[_])}function pu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(a){return zg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var gi=null;function Ml(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hr=null,Yr=null;function qr(a){var l=Br(a);if(l&&(a=l.stateNode)){var u=a[Xt]||null;e:switch(a=l.stateNode,l.type){case"input":if(Js(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+kt(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==a&&f.form===a.form){var g=f[Xt]||null;if(!g)throw Error(n(90));Js(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===a.form&&du(f)}break e;case"textarea":fo(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Je(a,!!u.multiple,l,!1)}}}var mu=!1;function Yd(a,l,u){if(mu)return a(l,u);mu=!0;try{var f=a(l);return f}finally{if(mu=!1,(Hr!==null||Yr!==null)&&(Lf(),Hr&&(l=Hr,a=Yr,Yr=Hr=null,qr(l),a)))for(l=0;l<a.length;l++)qr(a[l])}}function po(a,l){var u=a.stateNode;if(u===null)return null;var f=u[Xt]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var yi=!1;if(ti)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){yi=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{yi=!1}var ar=null,ta=null,Wr=null;function gu(){if(Wr)return Wr;var a,l=ta,u=l.length,f,g="value"in ar?ar.value:ar.textContent,_=g.length;for(a=0;a<u&&l[a]===g[a];a++);var D=u-a;for(f=1;f<=D&&l[u-f]===g[_-f];f++);return Wr=g.slice(a,1<f?1-f:void 0)}function or(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function lr(){return!0}function yu(){return!1}function ln(a){function l(u,f,g,_,D){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=D,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(u=a[I],this[I]=u?u(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?lr:yu,this.isPropagationStopped=yu,this}return k(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),l}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=ln(it),go=k({},it,{view:0,detail:0}),qd=ln(go),Il,Ol,cr,yo=k({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cr&&(cr&&a.type==="mousemove"?(Il=a.screenX-cr.screenX,Ol=a.screenY-cr.screenY):Ol=Il=0,cr=a),Il)},movementY:function(a){return"movementY"in a?a.movementY:Ol}}),vi=ln(yo),Wd=k({},yo,{dataTransfer:0}),Hg=ln(Wd),vo=k({},go,{relatedTarget:0}),Pl=ln(vo),vu=k({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Nl=ln(vu),$d=k({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ll=ln($d),Yg=k({},it,{data:0}),_u=ln(Yg),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Kd[a])?!!l[a]:!1}function bo(){return bu}var Qd=k({},go,{key:function(a){if(a.key){var l=_o[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=or(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Gd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(a){return a.type==="keypress"?or(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?or(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Vl=ln(Qd),Xd=k({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=ln(Xd),$r=k({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),Zd=ln($r),Jd=k({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),ef=ln(Jd),tf=k({},yo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Fl=ln(tf),Fn=k({},it,{newState:0,oldState:0}),nf=ln(Fn),rf=[9,13,27,32],ur=ti&&"CompositionEvent"in window,m=null;ti&&"documentMode"in document&&(m=document.documentMode);var w=ti&&"TextEvent"in window&&!m,T=ti&&(!ur||m&&8<m&&11>=m),P=" ",X=!1;function ne(a,l){switch(a){case"keyup":return rf.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var We=!1;function Zt(a,l){switch(a){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:(X=!0,P);case"textInput":return a=l.data,a===P&&X?null:a;default:return null}}function $e(a,l){if(We)return a==="compositionend"||!ur&&ne(a,l)?(a=gu(),Wr=ta=ar=null,We=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T&&l.locale!=="ko"?null:l.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!cn[a.type]:l==="textarea"}function Gr(a,l,u,f){Hr?Yr?Yr.push(f):Yr=[f]:Hr=f,l=Bf(l,"onChange"),0<l.length&&(u=new kl("onChange","change",null,u,f),a.push({event:u,listeners:l}))}var gn=null,hr=null;function Eu(a){VT(a,0)}function sf(a){var l=Ks(a);if(du(l))return a}function dw(a,l){if(a==="change")return l}var fw=!1;if(ti){var qg;if(ti){var Wg="oninput"in document;if(!Wg){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),Wg=typeof pw.oninput=="function"}qg=Wg}else qg=!1;fw=qg&&(!document.documentMode||9<document.documentMode)}function mw(){gn&&(gn.detachEvent("onpropertychange",gw),hr=gn=null)}function gw(a){if(a.propertyName==="value"&&sf(hr)){var l=[];Gr(l,hr,a,Ml(a)),Yd(Eu,l)}}function xI(a,l,u){a==="focusin"?(mw(),gn=l,hr=u,gn.attachEvent("onpropertychange",gw)):a==="focusout"&&mw()}function DI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return sf(hr)}function AI(a,l){if(a==="click")return sf(l)}function CI(a,l){if(a==="input"||a==="change")return sf(l)}function RI(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ni=typeof Object.is=="function"?Object.is:RI;function Tu(a,l){if(ni(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!El.call(l,g)||!ni(a[g],l[g]))return!1}return!0}function yw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vw(a,l){var u=yw(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=l&&f>=l)return{node:u,offset:l-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=yw(u)}}function _w(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?_w(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function bw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Cl(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=Cl(a.document)}return l}function $g(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function MI(a,l){var u=bw(l);l=a.focusedElem;var f=a.selectionRange;if(u!==l&&l&&l.ownerDocument&&_w(l.ownerDocument.documentElement,l)){if(f!==null&&$g(l)){if(a=f.start,u=f.end,u===void 0&&(u=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(u,l.value.length);else if(u=(a=l.ownerDocument||document)&&a.defaultView||window,u.getSelection){u=u.getSelection();var g=l.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!u.extend&&_>f&&(g=f,f=_,_=g),g=vw(l,_);var D=vw(l,f);g&&D&&(u.rangeCount!==1||u.anchorNode!==g.node||u.anchorOffset!==g.offset||u.focusNode!==D.node||u.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),u.removeAllRanges(),_>f?(u.addRange(a),u.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),u.addRange(a)))}}for(a=[],u=l;u=u.parentNode;)u.nodeType===1&&a.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)u=a[l],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var kI=ti&&"documentMode"in document&&11>=document.documentMode,jl=null,Gg=null,Su=null,Kg=!1;function ww(a,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Kg||jl==null||jl!==Cl(f)||(f=jl,"selectionStart"in f&&$g(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Su&&Tu(Su,f)||(Su=f,f=Bf(Gg,"onSelect"),0<f.length&&(l=new kl("onSelect","select",null,l,u),a.push({event:l,listeners:f}),l.target=jl)))}function wo(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var Ul={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionrun:wo("Transition","TransitionRun"),transitionstart:wo("Transition","TransitionStart"),transitioncancel:wo("Transition","TransitionCancel"),transitionend:wo("Transition","TransitionEnd")},Qg={},Ew={};ti&&(Ew=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Eo(a){if(Qg[a])return Qg[a];if(!Ul[a])return a;var l=Ul[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ew)return Qg[a]=l[u];return a}var Tw=Eo("animationend"),Sw=Eo("animationiteration"),xw=Eo("animationstart"),II=Eo("transitionrun"),OI=Eo("transitionstart"),PI=Eo("transitioncancel"),Dw=Eo("transitionend"),Aw=new Map,Cw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ui(a,l){Aw.set(a,l),ei(l,[a])}var _i=[],Bl=0,Xg=0;function af(){for(var a=Bl,l=Xg=Bl=0;l<a;){var u=_i[l];_i[l++]=null;var f=_i[l];_i[l++]=null;var g=_i[l];_i[l++]=null;var _=_i[l];if(_i[l++]=null,f!==null&&g!==null){var D=f.pending;D===null?g.next=g:(g.next=D.next,D.next=g),f.pending=g}_!==0&&Rw(u,g,_)}}function of(a,l,u,f){_i[Bl++]=a,_i[Bl++]=l,_i[Bl++]=u,_i[Bl++]=f,Xg|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Zg(a,l,u,f){return of(a,l,u,f),lf(a)}function na(a,l){return of(a,null,null,l),lf(a)}function Rw(a,l,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var g=!1,_=a.return;_!==null;)_.childLanes|=u,f=_.alternate,f!==null&&(f.childLanes|=u),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(g=!0)),a=_,_=_.return;g&&l!==null&&a.tag===3&&(_=a.stateNode,g=31-Ln(u),_=_.hiddenUpdates,a=_[g],a===null?_[g]=[l]:a.push(l),l.lane=u|536870912)}function lf(a){if(50<Ku)throw Ku=0,rv=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var zl={},Mw=new WeakMap;function bi(a,l){if(typeof a=="object"&&a!==null){var u=Mw.get(a);return u!==void 0?u:(l={value:a,source:l,stack:te(l)},Mw.set(a,l),l)}return{value:a,source:l,stack:te(l)}}var Hl=[],Yl=0,cf=null,uf=0,wi=[],Ei=0,To=null,Kr=1,Qr="";function So(a,l){Hl[Yl++]=uf,Hl[Yl++]=cf,cf=a,uf=l}function kw(a,l,u){wi[Ei++]=Kr,wi[Ei++]=Qr,wi[Ei++]=To,To=a;var f=Kr;a=Qr;var g=32-Ln(f)-1;f&=~(1<<g),u+=1;var _=32-Ln(l)+g;if(30<_){var D=g-g%5;_=(f&(1<<D)-1).toString(32),f>>=D,g-=D,Kr=1<<32-Ln(l)+g|u<<g|f,Qr=_+a}else Kr=1<<_|u<<g|f,Qr=a}function Jg(a){a.return!==null&&(So(a,1),kw(a,1,0))}function ey(a){for(;a===cf;)cf=Hl[--Yl],Hl[Yl]=null,uf=Hl[--Yl],Hl[Yl]=null;for(;a===To;)To=wi[--Ei],wi[Ei]=null,Qr=wi[--Ei],wi[Ei]=null,Kr=wi[--Ei],wi[Ei]=null}var jn=null,yn=null,et=!1,Bi=null,dr=!1,ty=Error(n(519));function xo(a){var l=Error(n(418,""));throw Au(bi(l,a)),ty}function Iw(a){var l=a.stateNode,u=a.type,f=a.memoizedProps;switch(l[on]=a,l[Xt]=f,u){case"dialog":Ye("cancel",l),Ye("close",l);break;case"iframe":case"object":case"embed":Ye("load",l);break;case"video":case"audio":for(u=0;u<Xu.length;u++)Ye(Xu[u],l);break;case"source":Ye("error",l);break;case"img":case"image":case"link":Ye("error",l),Ye("load",l);break;case"details":Ye("toggle",l);break;case"input":Ye("invalid",l),ho(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),uo(l);break;case"select":Ye("invalid",l);break;case"textarea":Ye("invalid",l),ea(l,f.value,f.defaultValue,f.children),uo(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||BT(l.textContent,u)?(f.popover!=null&&(Ye("beforetoggle",l),Ye("toggle",l)),f.onScroll!=null&&Ye("scroll",l),f.onScrollEnd!=null&&Ye("scrollend",l),f.onClick!=null&&(l.onclick=zf),l=!0):l=!1,l||xo(a)}function Ow(a){for(jn=a.return;jn;)switch(jn.tag){case 3:case 27:dr=!0;return;case 5:case 13:dr=!1;return;default:jn=jn.return}}function xu(a){if(a!==jn)return!1;if(!et)return Ow(a),et=!0,!1;var l=!1,u;if((u=a.tag!==3&&a.tag!==27)&&((u=a.tag===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||wv(a.type,a.memoizedProps)),u=!u),u&&(l=!0),l&&yn&&xo(a),Ow(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(l===0){yn=Hi(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;a=a.nextSibling}yn=null}}else yn=jn?Hi(a.stateNode.nextSibling):null;return!0}function Du(){yn=jn=null,et=!1}function Au(a){Bi===null?Bi=[a]:Bi.push(a)}var Cu=Error(n(460)),Pw=Error(n(474)),ny={then:function(){}};function Nw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function hf(){}function Lw(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(hf,hf),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Cu?Error(n(483)):a;default:if(typeof l.status=="string")l.then(hf,hf);else{if(a=ft,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=f}},function(f){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,a===Cu?Error(n(483)):a}throw Ru=l,Cu}}var Ru=null;function Vw(){if(Ru===null)throw Error(n(459));var a=Ru;return Ru=null,a}var ql=null,Mu=0;function df(a){var l=Mu;return Mu+=1,ql===null&&(ql=[]),Lw(ql,a,l)}function ku(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function ff(a,l){throw l.$$typeof===s?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Fw(a){var l=a._init;return l(a._payload)}function jw(a){function l(K,$){if(a){var Z=K.deletions;Z===null?(K.deletions=[$],K.flags|=16):Z.push($)}}function u(K,$){if(!a)return null;for(;$!==null;)l(K,$),$=$.sibling;return null}function f(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function g(K,$){return K=pa(K,$),K.index=0,K.sibling=null,K}function _(K,$,Z){return K.index=Z,a?(Z=K.alternate,Z!==null?(Z=Z.index,Z<$?(K.flags|=33554434,$):Z):(K.flags|=33554434,$)):(K.flags|=1048576,$)}function D(K){return a&&K.alternate===null&&(K.flags|=33554434),K}function I(K,$,Z,le){return $===null||$.tag!==6?($=Qy(Z,K.mode,le),$.return=K,$):($=g($,Z),$.return=K,$)}function B(K,$,Z,le){var we=Z.type;return we===h?oe(K,$,Z.props.children,le,Z.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&Fw(we)===$.type)?($=g($,Z.props),ku($,Z),$.return=K,$):($=kf(Z.type,Z.key,Z.props,null,K.mode,le),ku($,Z),$.return=K,$)}function G(K,$,Z,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Xy(Z,K.mode,le),$.return=K,$):($=g($,Z.children||[]),$.return=K,$)}function oe(K,$,Z,le,we){return $===null||$.tag!==7?($=No(Z,K.mode,le,we),$.return=K,$):($=g($,Z),$.return=K,$)}function he(K,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Qy(""+$,K.mode,Z),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case o:return Z=kf($.type,$.key,$.props,null,K.mode,Z),ku(Z,$),Z.return=K,Z;case c:return $=Xy($,K.mode,Z),$.return=K,$;case L:var le=$._init;return $=le($._payload),he(K,$,Z)}if(me($)||Q($))return $=No($,K.mode,Z,null),$.return=K,$;if(typeof $.then=="function")return he(K,df($),Z);if($.$$typeof===b)return he(K,Cf(K,$),Z);ff(K,$)}return null}function J(K,$,Z,le){var we=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return we!==null?null:I(K,$,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case o:return Z.key===we?B(K,$,Z,le):null;case c:return Z.key===we?G(K,$,Z,le):null;case L:return we=Z._init,Z=we(Z._payload),J(K,$,Z,le)}if(me(Z)||Q(Z))return we!==null?null:oe(K,$,Z,le,null);if(typeof Z.then=="function")return J(K,$,df(Z),le);if(Z.$$typeof===b)return J(K,$,Cf(K,Z),le);ff(K,Z)}return null}function se(K,$,Z,le,we){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(Z)||null,I($,K,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case o:return K=K.get(le.key===null?Z:le.key)||null,B($,K,le,we);case c:return K=K.get(le.key===null?Z:le.key)||null,G($,K,le,we);case L:var Ve=le._init;return le=Ve(le._payload),se(K,$,Z,le,we)}if(me(le)||Q(le))return K=K.get(Z)||null,oe($,K,le,we,null);if(typeof le.then=="function")return se(K,$,Z,df(le),we);if(le.$$typeof===b)return se(K,$,Z,Cf($,le),we);ff($,le)}return null}function Te(K,$,Z,le){for(var we=null,Ve=null,Se=$,Ae=$=0,dn=null;Se!==null&&Ae<Z.length;Ae++){Se.index>Ae?(dn=Se,Se=null):dn=Se.sibling;var tt=J(K,Se,Z[Ae],le);if(tt===null){Se===null&&(Se=dn);break}a&&Se&&tt.alternate===null&&l(K,Se),$=_(tt,$,Ae),Ve===null?we=tt:Ve.sibling=tt,Ve=tt,Se=dn}if(Ae===Z.length)return u(K,Se),et&&So(K,Ae),we;if(Se===null){for(;Ae<Z.length;Ae++)Se=he(K,Z[Ae],le),Se!==null&&($=_(Se,$,Ae),Ve===null?we=Se:Ve.sibling=Se,Ve=Se);return et&&So(K,Ae),we}for(Se=f(Se);Ae<Z.length;Ae++)dn=se(Se,K,Ae,Z[Ae],le),dn!==null&&(a&&dn.alternate!==null&&Se.delete(dn.key===null?Ae:dn.key),$=_(dn,$,Ae),Ve===null?we=dn:Ve.sibling=dn,Ve=dn);return a&&Se.forEach(function(wa){return l(K,wa)}),et&&So(K,Ae),we}function Ie(K,$,Z,le){if(Z==null)throw Error(n(151));for(var we=null,Ve=null,Se=$,Ae=$=0,dn=null,tt=Z.next();Se!==null&&!tt.done;Ae++,tt=Z.next()){Se.index>Ae?(dn=Se,Se=null):dn=Se.sibling;var wa=J(K,Se,tt.value,le);if(wa===null){Se===null&&(Se=dn);break}a&&Se&&wa.alternate===null&&l(K,Se),$=_(wa,$,Ae),Ve===null?we=wa:Ve.sibling=wa,Ve=wa,Se=dn}if(tt.done)return u(K,Se),et&&So(K,Ae),we;if(Se===null){for(;!tt.done;Ae++,tt=Z.next())tt=he(K,tt.value,le),tt!==null&&($=_(tt,$,Ae),Ve===null?we=tt:Ve.sibling=tt,Ve=tt);return et&&So(K,Ae),we}for(Se=f(Se);!tt.done;Ae++,tt=Z.next())tt=se(Se,K,Ae,tt.value,le),tt!==null&&(a&&tt.alternate!==null&&Se.delete(tt.key===null?Ae:tt.key),$=_(tt,$,Ae),Ve===null?we=tt:Ve.sibling=tt,Ve=tt);return a&&Se.forEach(function(GO){return l(K,GO)}),et&&So(K,Ae),we}function Pt(K,$,Z,le){if(typeof Z=="object"&&Z!==null&&Z.type===h&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case o:e:{for(var we=Z.key;$!==null;){if($.key===we){if(we=Z.type,we===h){if($.tag===7){u(K,$.sibling),le=g($,Z.props.children),le.return=K,K=le;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&Fw(we)===$.type){u(K,$.sibling),le=g($,Z.props),ku(le,Z),le.return=K,K=le;break e}u(K,$);break}else l(K,$);$=$.sibling}Z.type===h?(le=No(Z.props.children,K.mode,le,Z.key),le.return=K,K=le):(le=kf(Z.type,Z.key,Z.props,null,K.mode,le),ku(le,Z),le.return=K,K=le)}return D(K);case c:e:{for(we=Z.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){u(K,$.sibling),le=g($,Z.children||[]),le.return=K,K=le;break e}else{u(K,$);break}else l(K,$);$=$.sibling}le=Xy(Z,K.mode,le),le.return=K,K=le}return D(K);case L:return we=Z._init,Z=we(Z._payload),Pt(K,$,Z,le)}if(me(Z))return Te(K,$,Z,le);if(Q(Z)){if(we=Q(Z),typeof we!="function")throw Error(n(150));return Z=we.call(Z),Ie(K,$,Z,le)}if(typeof Z.then=="function")return Pt(K,$,df(Z),le);if(Z.$$typeof===b)return Pt(K,$,Cf(K,Z),le);ff(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(u(K,$.sibling),le=g($,Z),le.return=K,K=le):(u(K,$),le=Qy(Z,K.mode,le),le.return=K,K=le),D(K)):u(K,$)}return function(K,$,Z,le){try{Mu=0;var we=Pt(K,$,Z,le);return ql=null,we}catch(Se){if(Se===Cu)throw Se;var Ve=Di(29,Se,null,K.mode);return Ve.lanes=le,Ve.return=K,Ve}finally{}}}var Do=jw(!0),Uw=jw(!1),Wl=Ze(null),pf=Ze(0);function Bw(a,l){a=os,at(pf,a),at(Wl,l),os=a|l.baseLanes}function iy(){at(pf,os),at(Wl,Wl.current)}function ry(){os=pf.current,Mt(Wl),Mt(pf)}var Ti=Ze(null),fr=null;function ia(a){var l=a.alternate;at(en,en.current&1),at(Ti,a),fr===null&&(l===null||Wl.current!==null||l.memoizedState!==null)&&(fr=a)}function zw(a){if(a.tag===22){if(at(en,en.current),at(Ti,a),fr===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(fr=a)}}else ra()}function ra(){at(en,en.current),at(Ti,Ti.current)}function Xr(a){Mt(Ti),fr===a&&(fr=null),Mt(en)}var en=Ze(0);function mf(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var NI=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},LI=i.unstable_scheduleCallback,VI=i.unstable_NormalPriority,tn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sy(){return{controller:new NI,data:new Map,refCount:0}}function Iu(a){a.refCount--,a.refCount===0&&LI(VI,function(){a.controller.abort()})}var Ou=null,ay=0,$l=0,Gl=null;function FI(a,l){if(Ou===null){var u=Ou=[];ay=0,$l=dv(),Gl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ay++,l.then(Hw,Hw),l}function Hw(){if(--ay===0&&Ou!==null){Gl!==null&&(Gl.status="fulfilled");var a=Ou;Ou=null,$l=0,Gl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function jI(a,l){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var Yw=A.S;A.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&FI(a,l),Yw!==null&&Yw(a,l)};var Ao=Ze(null);function oy(){var a=Ao.current;return a!==null?a:ft.pooledCache}function gf(a,l){l===null?at(Ao,Ao.current):at(Ao,l.pool)}function qw(){var a=oy();return a===null?null:{parent:tn._currentValue,pool:a}}var sa=0,Le=null,ut=null,Yt=null,yf=!1,Kl=!1,Co=!1,vf=0,Pu=0,Ql=null,UI=0;function Ft(){throw Error(n(321))}function ly(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!ni(a[u],l[u]))return!1;return!0}function cy(a,l,u,f,g,_){return sa=_,Le=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,A.H=a===null||a.memoizedState===null?Ro:aa,Co=!1,_=u(f,g),Co=!1,Kl&&(_=$w(l,u,f,g)),Ww(a),_}function Ww(a){A.H=pr;var l=ut!==null&&ut.next!==null;if(sa=0,Yt=ut=Le=null,yf=!1,Pu=0,Ql=null,l)throw Error(n(300));a===null||un||(a=a.dependencies,a!==null&&Af(a)&&(un=!0))}function $w(a,l,u,f){Le=a;var g=0;do{if(Kl&&(Ql=null),Pu=0,Kl=!1,25<=g)throw Error(n(301));if(g+=1,Yt=ut=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}A.H=Mo,_=l(u,f)}while(Kl);return _}function BI(){var a=A.H,l=a.useState()[0];return l=typeof l.then=="function"?Nu(l):l,a=a.useState()[0],(ut!==null?ut.memoizedState:null)!==a&&(Le.flags|=1024),l}function uy(){var a=vf!==0;return vf=0,a}function hy(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function dy(a){if(yf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}yf=!1}sa=0,Yt=ut=Le=null,Kl=!1,Pu=vf=0,Ql=null}function Wn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Le.memoizedState=Yt=a:Yt=Yt.next=a,Yt}function qt(){if(ut===null){var a=Le.alternate;a=a!==null?a.memoizedState:null}else a=ut.next;var l=Yt===null?Le.memoizedState:Yt.next;if(l!==null)Yt=l,ut=a;else{if(a===null)throw Le.alternate===null?Error(n(467)):Error(n(310));ut=a,a={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Yt===null?Le.memoizedState=Yt=a:Yt=Yt.next=a}return Yt}var _f;_f=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nu(a){var l=Pu;return Pu+=1,Ql===null&&(Ql=[]),a=Lw(Ql,a,l),l=Le,(Yt===null?l.memoizedState:Yt.next)===null&&(l=l.alternate,A.H=l===null||l.memoizedState===null?Ro:aa),a}function bf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Nu(a);if(a.$$typeof===b)return Dn(a)}throw Error(n(438,String(a)))}function fy(a){var l=null,u=Le.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=Le.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=_f(),Le.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),f=0;f<a;f++)u[f]=W;return l.index++,u}function Zr(a,l){return typeof l=="function"?l(a):l}function wf(a){var l=qt();return py(l,ut,a)}function py(a,l,u){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var g=a.baseQueue,_=f.pending;if(_!==null){if(g!==null){var D=g.next;g.next=_.next,_.next=D}l.baseQueue=g=_,f.pending=null}if(_=a.baseState,g===null)a.memoizedState=_;else{l=g.next;var I=D=null,B=null,G=l,oe=!1;do{var he=G.lane&-536870913;if(he!==G.lane?(Ge&he)===he:(sa&he)===he){var J=G.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),he===$l&&(oe=!0);else if((sa&J)===J){G=G.next,J===$l&&(oe=!0);continue}else he={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},B===null?(I=B=he,D=_):B=B.next=he,Le.lanes|=J,ma|=J;he=G.action,Co&&u(_,he),_=G.hasEagerState?G.eagerState:u(_,he)}else J={lane:he,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},B===null?(I=B=J,D=_):B=B.next=J,Le.lanes|=he,ma|=he;G=G.next}while(G!==null&&G!==l);if(B===null?D=_:B.next=I,!ni(_,a.memoizedState)&&(un=!0,oe&&(u=Gl,u!==null)))throw u;a.memoizedState=_,a.baseState=D,a.baseQueue=B,f.lastRenderedState=_}return g===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function my(a){var l=qt(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,g=u.pending,_=l.memoizedState;if(g!==null){u.pending=null;var D=g=g.next;do _=a(_,D.action),D=D.next;while(D!==g);ni(_,l.memoizedState)||(un=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),u.lastRenderedState=_}return[_,f]}function Gw(a,l,u){var f=Le,g=qt(),_=et;if(_){if(u===void 0)throw Error(n(407));u=u()}else u=l();var D=!ni((ut||g).memoizedState,u);if(D&&(g.memoizedState=u,un=!0),g=g.queue,vy(Xw.bind(null,f,g,a),[a]),g.getSnapshot!==l||D||Yt!==null&&Yt.memoizedState.tag&1){if(f.flags|=2048,Xl(9,Qw.bind(null,f,g,u,l),{destroy:void 0},null),ft===null)throw Error(n(349));_||(sa&60)!==0||Kw(f,l,u)}return u}function Kw(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Le.updateQueue,l===null?(l=_f(),Le.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function Qw(a,l,u,f){l.value=u,l.getSnapshot=f,Zw(l)&&Jw(a)}function Xw(a,l,u){return u(function(){Zw(l)&&Jw(a)})}function Zw(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!ni(a,u)}catch{return!0}}function Jw(a){var l=na(a,2);l!==null&&Un(l,a,2)}function gy(a){var l=Wn();if(typeof a=="function"){var u=a;if(a=u(),Co){tr(!0);try{u()}finally{tr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},l}function eE(a,l,u,f){return a.baseState=u,py(a,ut,typeof f=="function"?f:Zr)}function zI(a,l,u,f,g){if(Sf(a))throw Error(n(485));if(a=l.action,a!==null){var _={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){_.listeners.push(D)}};A.T!==null?u(!0):_.isTransition=!1,f(_),u=l.pending,u===null?(_.next=l.pending=_,tE(l,_)):(_.next=u.next,l.pending=u.next=_)}}function tE(a,l){var u=l.action,f=l.payload,g=a.state;if(l.isTransition){var _=A.T,D={};A.T=D;try{var I=u(g,f),B=A.S;B!==null&&B(D,I),nE(a,l,I)}catch(G){yy(a,l,G)}finally{A.T=_}}else try{_=u(g,f),nE(a,l,_)}catch(G){yy(a,l,G)}}function nE(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){iE(a,l,f)},function(f){return yy(a,l,f)}):iE(a,l,u)}function iE(a,l,u){l.status="fulfilled",l.value=u,rE(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,tE(a,u)))}function yy(a,l,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,rE(l),l=l.next;while(l!==f)}a.action=null}function rE(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function sE(a,l){return l}function aE(a,l){if(et){var u=ft.formState;if(u!==null){e:{var f=Le;if(et){if(yn){t:{for(var g=yn,_=dr;g.nodeType!==8;){if(!_){g=null;break t}if(g=Hi(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){yn=Hi(g.nextSibling),f=g.data==="F!";break e}}xo(f)}f=!1}f&&(l=u[0])}}return u=Wn(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sE,lastRenderedState:l},u.queue=f,u=SE.bind(null,Le,f),f.dispatch=u,f=gy(!1),_=Ty.bind(null,Le,!1,f.queue),f=Wn(),g={state:l,dispatch:null,action:a,pending:null},f.queue=g,u=zI.bind(null,Le,g,_,u),g.dispatch=u,f.memoizedState=a,[l,u,!1]}function oE(a){var l=qt();return lE(l,ut,a)}function lE(a,l,u){l=py(a,l,sE)[0],a=wf(Zr)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Nu(l):l;var f=qt(),g=f.queue,_=g.dispatch;return u!==f.memoizedState&&(Le.flags|=2048,Xl(9,HI.bind(null,g,u),{destroy:void 0},null)),[l,_,a]}function HI(a,l){a.action=l}function cE(a){var l=qt(),u=ut;if(u!==null)return lE(l,u,a);qt(),l=l.memoizedState,u=qt();var f=u.queue.dispatch;return u.memoizedState=a,[l,f,!1]}function Xl(a,l,u,f){return a={tag:a,create:l,inst:u,deps:f,next:null},l=Le.updateQueue,l===null&&(l=_f(),Le.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,l.lastEffect=a),a}function uE(){return qt().memoizedState}function Ef(a,l,u,f){var g=Wn();Le.flags|=a,g.memoizedState=Xl(1|l,u,{destroy:void 0},f===void 0?null:f)}function Tf(a,l,u,f){var g=qt();f=f===void 0?null:f;var _=g.memoizedState.inst;ut!==null&&f!==null&&ly(f,ut.memoizedState.deps)?g.memoizedState=Xl(l,u,_,f):(Le.flags|=a,g.memoizedState=Xl(1|l,u,_,f))}function hE(a,l){Ef(8390656,8,a,l)}function vy(a,l){Tf(2048,8,a,l)}function dE(a,l){return Tf(4,2,a,l)}function fE(a,l){return Tf(4,4,a,l)}function pE(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function mE(a,l,u){u=u!=null?u.concat([a]):null,Tf(4,4,pE.bind(null,l,a),u)}function _y(){}function gE(a,l){var u=qt();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&ly(l,f[1])?f[0]:(u.memoizedState=[a,l],a)}function yE(a,l){var u=qt();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&ly(l,f[1]))return f[0];if(f=a(),Co){tr(!0);try{a()}finally{tr(!1)}}return u.memoizedState=[f,l],f}function by(a,l,u){return u===void 0||(sa&1073741824)!==0?a.memoizedState=l:(a.memoizedState=u,a=_T(),Le.lanes|=a,ma|=a,u)}function vE(a,l,u,f){return ni(u,l)?u:Wl.current!==null?(a=by(a,u,f),ni(a,l)||(un=!0),a):(sa&42)===0?(un=!0,a.memoizedState=u):(a=_T(),Le.lanes|=a,ma|=a,l)}function _E(a,l,u,f,g){var _=ge.p;ge.p=_!==0&&8>_?_:8;var D=A.T,I={};A.T=I,Ty(a,!1,l,u);try{var B=g(),G=A.S;if(G!==null&&G(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=jI(B,f);Lu(a,l,oe,ai(a))}else Lu(a,l,f,ai(a))}catch(he){Lu(a,l,{then:function(){},status:"rejected",reason:he},ai())}finally{ge.p=_,A.T=D}}function YI(){}function wy(a,l,u,f){if(a.tag!==5)throw Error(n(476));var g=bE(a).queue;_E(a,g,l,Re,u===null?YI:function(){return wE(a),u(f)})}function bE(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:Re},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function wE(a){var l=bE(a).next.queue;Lu(a,l,{},ai())}function Ey(){return Dn(nh)}function EE(){return qt().memoizedState}function TE(){return qt().memoizedState}function qI(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=ai();a=ca(u);var f=ua(l,a,u);f!==null&&(Un(f,l,u),ju(f,l,u)),l={cache:sy()},a.payload=l;return}l=l.return}}function WI(a,l,u){var f=ai();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Sf(a)?xE(l,u):(u=Zg(a,l,u,f),u!==null&&(Un(u,a,f),DE(u,l,f)))}function SE(a,l,u){var f=ai();Lu(a,l,u,f)}function Lu(a,l,u,f){var g={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sf(a))xE(l,g);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var D=l.lastRenderedState,I=_(D,u);if(g.hasEagerState=!0,g.eagerState=I,ni(I,D))return of(a,l,g,0),ft===null&&af(),!1}catch{}finally{}if(u=Zg(a,l,g,f),u!==null)return Un(u,a,f),DE(u,l,f),!0}return!1}function Ty(a,l,u,f){if(f={lane:2,revertLane:dv(),action:f,hasEagerState:!1,eagerState:null,next:null},Sf(a)){if(l)throw Error(n(479))}else l=Zg(a,u,f,2),l!==null&&Un(l,a,2)}function Sf(a){var l=a.alternate;return a===Le||l!==null&&l===Le}function xE(a,l){Kl=yf=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function DE(a,l,u){if((u&4194176)!==0){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Ws(a,u)}}var pr={readContext:Dn,use:bf,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft};pr.useCacheRefresh=Ft,pr.useMemoCache=Ft,pr.useHostTransitionStatus=Ft,pr.useFormState=Ft,pr.useActionState=Ft,pr.useOptimistic=Ft;var Ro={readContext:Dn,use:bf,useCallback:function(a,l){return Wn().memoizedState=[a,l===void 0?null:l],a},useContext:Dn,useEffect:hE,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,Ef(4194308,4,pE.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Ef(4194308,4,a,l)},useInsertionEffect:function(a,l){Ef(4,2,a,l)},useMemo:function(a,l){var u=Wn();l=l===void 0?null:l;var f=a();if(Co){tr(!0);try{a()}finally{tr(!1)}}return u.memoizedState=[f,l],f},useReducer:function(a,l,u){var f=Wn();if(u!==void 0){var g=u(l);if(Co){tr(!0);try{u(l)}finally{tr(!1)}}}else g=l;return f.memoizedState=f.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},f.queue=a,a=a.dispatch=WI.bind(null,Le,a),[f.memoizedState,a]},useRef:function(a){var l=Wn();return a={current:a},l.memoizedState=a},useState:function(a){a=gy(a);var l=a.queue,u=SE.bind(null,Le,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:_y,useDeferredValue:function(a,l){var u=Wn();return by(u,a,l)},useTransition:function(){var a=gy(!1);return a=_E.bind(null,Le,a.queue,!0,!1),Wn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var f=Le,g=Wn();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),ft===null)throw Error(n(349));(Ge&60)!==0||Kw(f,l,u)}g.memoizedState=u;var _={value:u,getSnapshot:l};return g.queue=_,hE(Xw.bind(null,f,_,a),[a]),f.flags|=2048,Xl(9,Qw.bind(null,f,_,u,l),{destroy:void 0},null),u},useId:function(){var a=Wn(),l=ft.identifierPrefix;if(et){var u=Qr,f=Kr;u=(f&~(1<<32-Ln(f)-1)).toString(32)+u,l=":"+l+"R"+u,u=vf++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=UI++,l=":"+l+"r"+u.toString(32)+":";return a.memoizedState=l},useCacheRefresh:function(){return Wn().memoizedState=qI.bind(null,Le)}};Ro.useMemoCache=fy,Ro.useHostTransitionStatus=Ey,Ro.useFormState=aE,Ro.useActionState=aE,Ro.useOptimistic=function(a){var l=Wn();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Ty.bind(null,Le,!0,u),u.dispatch=l,[a,l]};var aa={readContext:Dn,use:bf,useCallback:gE,useContext:Dn,useEffect:vy,useImperativeHandle:mE,useInsertionEffect:dE,useLayoutEffect:fE,useMemo:yE,useReducer:wf,useRef:uE,useState:function(){return wf(Zr)},useDebugValue:_y,useDeferredValue:function(a,l){var u=qt();return vE(u,ut.memoizedState,a,l)},useTransition:function(){var a=wf(Zr)[0],l=qt().memoizedState;return[typeof a=="boolean"?a:Nu(a),l]},useSyncExternalStore:Gw,useId:EE};aa.useCacheRefresh=TE,aa.useMemoCache=fy,aa.useHostTransitionStatus=Ey,aa.useFormState=oE,aa.useActionState=oE,aa.useOptimistic=function(a,l){var u=qt();return eE(u,ut,a,l)};var Mo={readContext:Dn,use:bf,useCallback:gE,useContext:Dn,useEffect:vy,useImperativeHandle:mE,useInsertionEffect:dE,useLayoutEffect:fE,useMemo:yE,useReducer:my,useRef:uE,useState:function(){return my(Zr)},useDebugValue:_y,useDeferredValue:function(a,l){var u=qt();return ut===null?by(u,a,l):vE(u,ut.memoizedState,a,l)},useTransition:function(){var a=my(Zr)[0],l=qt().memoizedState;return[typeof a=="boolean"?a:Nu(a),l]},useSyncExternalStore:Gw,useId:EE};Mo.useCacheRefresh=TE,Mo.useMemoCache=fy,Mo.useHostTransitionStatus=Ey,Mo.useFormState=cE,Mo.useActionState=cE,Mo.useOptimistic=function(a,l){var u=qt();return ut!==null?eE(u,ut,a,l):(u.baseState=a,[a,u.queue.dispatch])};function Sy(a,l,u,f){l=a.memoizedState,u=u(f,l),u=u==null?l:k({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var xy={isMounted:function(a){return(a=a._reactInternals)?re(a)===a:!1},enqueueSetState:function(a,l,u){a=a._reactInternals;var f=ai(),g=ca(f);g.payload=l,u!=null&&(g.callback=u),l=ua(a,g,f),l!==null&&(Un(l,a,f),ju(l,a,f))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var f=ai(),g=ca(f);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=ua(a,g,f),l!==null&&(Un(l,a,f),ju(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=ai(),f=ca(u);f.tag=2,l!=null&&(f.callback=l),l=ua(a,f,u),l!==null&&(Un(l,a,u),ju(l,a,u))}};function AE(a,l,u,f,g,_,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,_,D):l.prototype&&l.prototype.isPureReactComponent?!Tu(u,f)||!Tu(g,_):!0}function CE(a,l,u,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==a&&xy.enqueueReplaceState(l,l.state,null)}function ko(a,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(a=a.defaultProps){u===l&&(u=k({},u));for(var g in a)u[g]===void 0&&(u[g]=a[g])}return u}var xf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function RE(a){xf(a)}function ME(a){console.error(a)}function kE(a){xf(a)}function Df(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function IE(a,l,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Dy(a,l,u){return u=ca(u),u.tag=3,u.payload={element:null},u.callback=function(){Df(a,l)},u}function OE(a){return a=ca(a),a.tag=3,a}function PE(a,l,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var _=f.value;a.payload=function(){return g(_)},a.callback=function(){IE(l,u,f)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){IE(l,u,f),typeof g!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var I=f.stack;this.componentDidCatch(f.value,{componentStack:I!==null?I:""})})}function $I(a,l,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&Fu(l,u,g,!0),u=Ti.current,u!==null){switch(u.tag){case 13:return fr===null?ov():u.alternate===null&&Ot===0&&(Ot=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===ny?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),cv(a,f,g)),!1;case 22:return u.flags|=65536,f===ny?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),cv(a,f,g)),!1}throw Error(n(435,u.tag))}return cv(a,f,g),ov(),!1}if(et)return l=Ti.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,f!==ty&&(a=Error(n(422),{cause:f}),Au(bi(a,u)))):(f!==ty&&(l=Error(n(423),{cause:f}),Au(bi(l,u))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,f=bi(f,u),g=Dy(a.stateNode,f,g),By(a,g),Ot!==4&&(Ot=2)),!1;var _=Error(n(520),{cause:f});if(_=bi(_,u),$u===null?$u=[_]:$u.push(_),Ot!==4&&(Ot=2),l===null)return!0;f=bi(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=g&-g,u.lanes|=a,a=Dy(u.stateNode,f,a),By(u,a),!1;case 1:if(l=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ga===null||!ga.has(_))))return u.flags|=65536,g&=-g,u.lanes|=g,g=OE(g),PE(g,a,u,f),By(u,g),!1}u=u.return}while(u!==null);return!1}var NE=Error(n(461)),un=!1;function vn(a,l,u,f){l.child=a===null?Uw(l,null,u,f):Do(l,a.child,u,f)}function LE(a,l,u,f,g){u=u.render;var _=l.ref;if("ref"in f){var D={};for(var I in f)I!=="ref"&&(D[I]=f[I])}else D=f;return Oo(l),f=cy(a,l,u,D,_,g),I=uy(),a!==null&&!un?(hy(a,l,g),Jr(a,l,g)):(et&&I&&Jg(l),l.flags|=1,vn(a,l,f,g),l.child)}function VE(a,l,u,f,g){if(a===null){var _=u.type;return typeof _=="function"&&!Ky(_)&&_.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=_,FE(a,l,_,f,g)):(a=kf(u.type,null,f,l,l.mode,g),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!Ny(a,g)){var D=_.memoizedProps;if(u=u.compare,u=u!==null?u:Tu,u(D,f)&&a.ref===l.ref)return Jr(a,l,g)}return l.flags|=1,a=pa(_,f),a.ref=l.ref,a.return=l,l.child=a}function FE(a,l,u,f,g){if(a!==null){var _=a.memoizedProps;if(Tu(_,f)&&a.ref===l.ref)if(un=!1,l.pendingProps=f=_,Ny(a,g))(a.flags&131072)!==0&&(un=!0);else return l.lanes=a.lanes,Jr(a,l,g)}return Ay(a,l,u,f,g)}function jE(a,l,u){var f=l.pendingProps,g=f.children,_=(l.stateNode._pendingVisibility&2)!==0,D=a!==null?a.memoizedState:null;if(Vu(a,l),f.mode==="hidden"||_){if((l.flags&128)!==0){if(f=D!==null?D.baseLanes|u:u,a!==null){for(g=l.child=a.child,_=0;g!==null;)_=_|g.lanes|g.childLanes,g=g.sibling;l.childLanes=_&~f}else l.childLanes=0,l.child=null;return UE(a,l,f,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&gf(l,D!==null?D.cachePool:null),D!==null?Bw(l,D):iy(),zw(l);else return l.lanes=l.childLanes=536870912,UE(a,l,D!==null?D.baseLanes|u:u,u)}else D!==null?(gf(l,D.cachePool),Bw(l,D),ra(),l.memoizedState=null):(a!==null&&gf(l,null),iy(),ra());return vn(a,l,g,u),l.child}function UE(a,l,u,f){var g=oy();return g=g===null?null:{parent:tn._currentValue,pool:g},l.memoizedState={baseLanes:u,cachePool:g},a!==null&&gf(l,null),iy(),zw(l),a!==null&&Fu(a,l,f,!0),null}function Vu(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(l.flags|=2097664)}}function Ay(a,l,u,f,g){return Oo(l),u=cy(a,l,u,f,void 0,g),f=uy(),a!==null&&!un?(hy(a,l,g),Jr(a,l,g)):(et&&f&&Jg(l),l.flags|=1,vn(a,l,u,g),l.child)}function BE(a,l,u,f,g,_){return Oo(l),l.updateQueue=null,u=$w(l,f,u,g),Ww(a),f=uy(),a!==null&&!un?(hy(a,l,_),Jr(a,l,_)):(et&&f&&Jg(l),l.flags|=1,vn(a,l,u,_),l.child)}function zE(a,l,u,f,g){if(Oo(l),l.stateNode===null){var _=zl,D=u.contextType;typeof D=="object"&&D!==null&&(_=Dn(D)),_=new u(f,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=xy,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=f,_.state=l.memoizedState,_.refs={},jy(l),D=u.contextType,_.context=typeof D=="object"&&D!==null?Dn(D):zl,_.state=l.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Sy(l,u,D,f),_.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(D=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),D!==_.state&&xy.enqueueReplaceState(_,_.state,null),Bu(l,f,_,g),Uu(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){_=l.stateNode;var I=l.memoizedProps,B=ko(u,I);_.props=B;var G=_.context,oe=u.contextType;D=zl,typeof oe=="object"&&oe!==null&&(D=Dn(oe));var he=u.getDerivedStateFromProps;oe=typeof he=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||G!==D)&&CE(l,_,f,D),la=!1;var J=l.memoizedState;_.state=J,Bu(l,f,_,g),Uu(),G=l.memoizedState,I||J!==G||la?(typeof he=="function"&&(Sy(l,u,he,f),G=l.memoizedState),(B=la||AE(l,u,B,f,J,G,D))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=G),_.props=f,_.state=G,_.context=D,f=B):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{_=l.stateNode,Uy(a,l),D=l.memoizedProps,oe=ko(u,D),_.props=oe,he=l.pendingProps,J=_.context,G=u.contextType,B=zl,typeof G=="object"&&G!==null&&(B=Dn(G)),I=u.getDerivedStateFromProps,(G=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D!==he||J!==B)&&CE(l,_,f,B),la=!1,J=l.memoizedState,_.state=J,Bu(l,f,_,g),Uu();var se=l.memoizedState;D!==he||J!==se||la||a!==null&&a.dependencies!==null&&Af(a.dependencies)?(typeof I=="function"&&(Sy(l,u,I,f),se=l.memoizedState),(oe=la||AE(l,u,oe,f,J,se,B)||a!==null&&a.dependencies!==null&&Af(a.dependencies))?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,se,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,se,B)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||D===a.memoizedProps&&J===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&J===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=se),_.props=f,_.state=se,_.context=B,f=oe):(typeof _.componentDidUpdate!="function"||D===a.memoizedProps&&J===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&J===a.memoizedState||(l.flags|=1024),f=!1)}return _=f,Vu(a,l),f=(l.flags&128)!==0,_||f?(_=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&f?(l.child=Do(l,a.child,null,g),l.child=Do(l,null,u,g)):vn(a,l,u,g),l.memoizedState=_.state,a=l.child):a=Jr(a,l,g),a}function HE(a,l,u,f){return Du(),l.flags|=256,vn(a,l,u,f),l.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function Ry(a){return{baseLanes:a,cachePool:qw()}}function My(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=Ai),a}function YE(a,l,u){var f=l.pendingProps,g=!1,_=(l.flags&128)!==0,D;if((D=_)||(D=a!==null&&a.memoizedState===null?!1:(en.current&2)!==0),D&&(g=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,a===null){if(et){if(g?ia(l):ra(),et){var I=yn,B;if(B=I){e:{for(B=I,I=dr;B.nodeType!==8;){if(!I){I=null;break e}if(B=Hi(B.nextSibling),B===null){I=null;break e}}I=B}I!==null?(l.memoizedState={dehydrated:I,treeContext:To!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912},B=Di(18,null,null,0),B.stateNode=I,B.return=l,l.child=B,jn=l,yn=null,B=!0):B=!1}B||xo(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return I.data==="$!"?l.lanes=16:l.lanes=536870912,null;Xr(l)}return I=f.children,f=f.fallback,g?(ra(),g=l.mode,I=Iy({mode:"hidden",children:I},g),f=No(f,g,u,null),I.return=l,f.return=l,I.sibling=f,l.child=I,g=l.child,g.memoizedState=Ry(u),g.childLanes=My(a,D,u),l.memoizedState=Cy,f):(ia(l),ky(l,I))}if(B=a.memoizedState,B!==null&&(I=B.dehydrated,I!==null)){if(_)l.flags&256?(ia(l),l.flags&=-257,l=Oy(a,l,u)):l.memoizedState!==null?(ra(),l.child=a.child,l.flags|=128,l=null):(ra(),g=f.fallback,I=l.mode,f=Iy({mode:"visible",children:f.children},I),g=No(g,I,u,null),g.flags|=2,f.return=l,g.return=l,f.sibling=g,l.child=f,Do(l,a.child,null,u),f=l.child,f.memoizedState=Ry(u),f.childLanes=My(a,D,u),l.memoizedState=Cy,l=g);else if(ia(l),I.data==="$!"){if(D=I.nextSibling&&I.nextSibling.dataset,D)var G=D.dgst;D=G,f=Error(n(419)),f.stack="",f.digest=D,Au({value:f,source:null,stack:null}),l=Oy(a,l,u)}else if(un||Fu(a,l,u,!1),D=(u&a.childLanes)!==0,un||D){if(D=ft,D!==null){if(f=u&-u,(f&42)!==0)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=(f&(D.suspendedLanes|u))!==0?0:f,f!==0&&f!==B.retryLane)throw B.retryLane=f,na(a,f),Un(D,a,f),NE}I.data==="$?"||ov(),l=Oy(a,l,u)}else I.data==="$?"?(l.flags|=128,l.child=a.child,l=lO.bind(null,a),I._reactRetry=l,l=null):(a=B.treeContext,yn=Hi(I.nextSibling),jn=l,et=!0,Bi=null,dr=!1,a!==null&&(wi[Ei++]=Kr,wi[Ei++]=Qr,wi[Ei++]=To,Kr=a.id,Qr=a.overflow,To=l),l=ky(l,f.children),l.flags|=4096);return l}return g?(ra(),g=f.fallback,I=l.mode,B=a.child,G=B.sibling,f=pa(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&31457280,G!==null?g=pa(G,g):(g=No(g,I,u,null),g.flags|=2),g.return=l,f.return=l,f.sibling=g,l.child=f,f=g,g=l.child,I=a.child.memoizedState,I===null?I=Ry(u):(B=I.cachePool,B!==null?(G=tn._currentValue,B=B.parent!==G?{parent:G,pool:G}:B):B=qw(),I={baseLanes:I.baseLanes|u,cachePool:B}),g.memoizedState=I,g.childLanes=My(a,D,u),l.memoizedState=Cy,f):(ia(l),u=a.child,a=u.sibling,u=pa(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,a!==null&&(D=l.deletions,D===null?(l.deletions=[a],l.flags|=16):D.push(a)),l.child=u,l.memoizedState=null,u)}function ky(a,l){return l=Iy({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Iy(a,l){return gT(a,l,0,null)}function Oy(a,l,u){return Do(l,a.child,null,u),a=ky(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function qE(a,l,u){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),Vy(a.return,l,u)}function Py(a,l,u,f,g){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function WE(a,l,u){var f=l.pendingProps,g=f.revealOrder,_=f.tail;if(vn(a,l,f.children,u),f=en.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qE(a,u,l);else if(a.tag===19)qE(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(at(en,f),g){case"forwards":for(u=l.child,g=null;u!==null;)a=u.alternate,a!==null&&mf(a)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),Py(l,!1,g,u,_);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(a=g.alternate,a!==null&&mf(a)===null){l.child=g;break}a=g.sibling,g.sibling=u,u=g,g=a}Py(l,!0,u,null,_);break;case"together":Py(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Jr(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),ma|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Fu(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,u=pa(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=pa(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Ny(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Af(a)))}function GI(a,l,u){switch(l.tag){case 3:Us(l,l.stateNode.containerInfo),oa(l,tn,a.memoizedState.cache),Du();break;case 27:case 5:nu(l);break;case 4:Us(l,l.stateNode.containerInfo);break;case 10:oa(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(ia(l),l.flags|=128,null):(u&l.child.childLanes)!==0?YE(a,l,u):(ia(l),a=Jr(a,l,u),a!==null?a.sibling:null);ia(l);break;case 19:var g=(a.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(Fu(a,l,u,!1),f=(u&l.childLanes)!==0),g){if(f)return WE(a,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(en,en.current),f)break;return null;case 22:case 23:return l.lanes=0,jE(a,l,u);case 24:oa(l,tn,a.memoizedState.cache)}return Jr(a,l,u)}function $E(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)un=!0;else{if(!Ny(a,u)&&(l.flags&128)===0)return un=!1,GI(a,l,u);un=(a.flags&131072)!==0}else un=!1,et&&(l.flags&1048576)!==0&&kw(l,uf,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,g=f._init;if(f=g(f._payload),l.type=f,typeof f=="function")Ky(f)?(a=ko(f,a),l.tag=1,l=zE(null,l,f,a,u)):(l.tag=0,l=Ay(null,l,f,a,u));else{if(f!=null){if(g=f.$$typeof,g===E){l.tag=11,l=LE(null,l,f,a,u);break e}else if(g===M){l.tag=14,l=VE(null,l,f,a,u);break e}}throw l=C(f)||f,Error(n(306,l,""))}}return l;case 0:return Ay(a,l,l.type,l.pendingProps,u);case 1:return f=l.type,g=ko(f,l.pendingProps),zE(a,l,f,g,u);case 3:e:{if(Us(l,l.stateNode.containerInfo),a===null)throw Error(n(387));var _=l.pendingProps;g=l.memoizedState,f=g.element,Uy(a,l),Bu(l,_,null,u);var D=l.memoizedState;if(_=D.cache,oa(l,tn,_),_!==g.cache&&Fy(l,[tn],u,!0),Uu(),_=D.element,g.isDehydrated)if(g={element:_,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=HE(a,l,_,u);break e}else if(_!==f){f=bi(Error(n(424)),l),Au(f),l=HE(a,l,_,u);break e}else for(yn=Hi(l.stateNode.containerInfo.firstChild),jn=l,et=!0,Bi=null,dr=!0,u=Uw(l,null,_,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Du(),_===f){l=Jr(a,l,u);break e}vn(a,l,_,u)}l=l.child}return l;case 26:return Vu(a,l),a===null?(u=QT(l.type,null,l.pendingProps,null))?l.memoizedState=u:et||(u=l.type,a=l.pendingProps,f=Hf(di.current).createElement(u),f[on]=l,f[Xt]=a,_n(f,u,a),xt(f),l.stateNode=f):l.memoizedState=QT(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return nu(l),a===null&&et&&(f=l.stateNode=$T(l.type,l.pendingProps,di.current),jn=l,dr=!0,yn=Hi(f.firstChild)),f=l.pendingProps.children,a!==null||et?vn(a,l,f,u):l.child=Do(l,null,f,u),Vu(a,l),l.child;case 5:return a===null&&et&&((g=f=yn)&&(f=SO(f,l.type,l.pendingProps,dr),f!==null?(l.stateNode=f,jn=l,yn=Hi(f.firstChild),dr=!1,g=!0):g=!1),g||xo(l)),nu(l),g=l.type,_=l.pendingProps,D=a!==null?a.memoizedProps:null,f=_.children,wv(g,_)?f=null:D!==null&&wv(g,D)&&(l.flags|=32),l.memoizedState!==null&&(g=cy(a,l,BI,null,null,u),nh._currentValue=g),Vu(a,l),vn(a,l,f,u),l.child;case 6:return a===null&&et&&((a=u=yn)&&(u=xO(u,l.pendingProps,dr),u!==null?(l.stateNode=u,jn=l,yn=null,a=!0):a=!1),a||xo(l)),null;case 13:return YE(a,l,u);case 4:return Us(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=Do(l,null,f,u):vn(a,l,f,u),l.child;case 11:return LE(a,l,l.type,l.pendingProps,u);case 7:return vn(a,l,l.pendingProps,u),l.child;case 8:return vn(a,l,l.pendingProps.children,u),l.child;case 12:return vn(a,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,oa(l,l.type,f.value),vn(a,l,f.children,u),l.child;case 9:return g=l.type._context,f=l.pendingProps.children,Oo(l),g=Dn(g),f=f(g),l.flags|=1,vn(a,l,f,u),l.child;case 14:return VE(a,l,l.type,l.pendingProps,u);case 15:return FE(a,l,l.type,l.pendingProps,u);case 19:return WE(a,l,u);case 22:return jE(a,l,u);case 24:return Oo(l),f=Dn(tn),a===null?(g=oy(),g===null&&(g=ft,_=sy(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=u),g=_),l.memoizedState={parent:f,cache:g},jy(l),oa(l,tn,g)):((a.lanes&u)!==0&&(Uy(a,l),Bu(l,null,null,u),Uu()),g=a.memoizedState,_=l.memoizedState,g.parent!==f?(g={parent:f,cache:f},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),oa(l,tn,f)):(f=_.cache,oa(l,tn,f),f!==g.cache&&Fy(l,[tn],u,!0))),vn(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}var Ly=Ze(null),Io=null,es=null;function oa(a,l,u){at(Ly,l._currentValue),l._currentValue=u}function ts(a){a._currentValue=Ly.current,Mt(Ly)}function Vy(a,l,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===u)break;a=a.return}}function Fy(a,l,u,f){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var _=g.dependencies;if(_!==null){var D=g.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=g;for(var B=0;B<l.length;B++)if(I.context===l[B]){_.lanes|=u,I=_.alternate,I!==null&&(I.lanes|=u),Vy(_.return,u,a),f||(D=null);break e}_=I.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(n(341));D.lanes|=u,_=D.alternate,_!==null&&(_.lanes|=u),Vy(D,u,a),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===a){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function Fu(a,l,u,f){a=null;for(var g=l,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var I=g.type;ni(g.pendingProps.value,D.value)||(a!==null?a.push(I):a=[I])}}else if(g===js.current){if(D=g.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(nh):a=[nh])}g=g.return}a!==null&&Fy(l,a,u,f),l.flags|=262144}function Af(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Oo(a){Io=a,es=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Dn(a){return GE(Io,a)}function Cf(a,l){return Io===null&&Oo(a),GE(a,l)}function GE(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},es===null){if(a===null)throw Error(n(308));es=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else es=es.next=l;return u}var la=!1;function jy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ca(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ua(a,l,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(At&2)!==0){var g=f.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),f.pending=l,l=lf(a),Rw(a,null,u),l}return of(a,f,l,u),lf(a)}function ju(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194176)!==0)){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,Ws(a,u)}}function By(a,l){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?g=_=D:_=_.next=D,u=u.next}while(u!==null);_===null?g=_=l:_=_.next=l}else g=_=l;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var zy=!1;function Uu(){if(zy){var a=Gl;if(a!==null)throw a}}function Bu(a,l,u,f){zy=!1;var g=a.updateQueue;la=!1;var _=g.firstBaseUpdate,D=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var B=I,G=B.next;B.next=null,D===null?_=G:D.next=G,D=B;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,I=oe.lastBaseUpdate,I!==D&&(I===null?oe.firstBaseUpdate=G:I.next=G,oe.lastBaseUpdate=B))}if(_!==null){var he=g.baseState;D=0,oe=G=B=null,I=_;do{var J=I.lane&-536870913,se=J!==I.lane;if(se?(Ge&J)===J:(f&J)===J){J!==0&&J===$l&&(zy=!0),oe!==null&&(oe=oe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Te=a,Ie=I;J=l;var Pt=u;switch(Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){he=Te.call(Pt,he,J);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,J=typeof Te=="function"?Te.call(Pt,he,J):Te,J==null)break e;he=k({},he,J);break e;case 2:la=!0}}J=I.callback,J!==null&&(a.flags|=64,se&&(a.flags|=8192),se=g.callbacks,se===null?g.callbacks=[J]:se.push(J))}else se={lane:J,tag:I.tag,payload:I.payload,callback:I.callback,next:null},oe===null?(G=oe=se,B=he):oe=oe.next=se,D|=J;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;se=I,I=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);oe===null&&(B=he),g.baseState=B,g.firstBaseUpdate=G,g.lastBaseUpdate=oe,_===null&&(g.shared.lanes=0),ma|=D,a.lanes=D,a.memoizedState=he}}function KE(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function QE(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)KE(u[a],l)}function zu(a,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&a)===a){f=void 0;var _=u.create,D=u.inst;f=_(),D.destroy=f}u=u.next}while(u!==g)}}catch(I){dt(l,l.return,I)}}function ha(a,l,u){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var _=g.next;f=_;do{if((f.tag&a)===a){var D=f.inst,I=D.destroy;if(I!==void 0){D.destroy=void 0,g=l;var B=u;try{I()}catch(G){dt(g,B,G)}}}f=f.next}while(f!==_)}}catch(G){dt(l,l.return,G)}}function XE(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{QE(l,u)}catch(f){dt(a,a.return,f)}}}function ZE(a,l,u){u.props=ko(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){dt(a,l,f)}}function Po(a,l){try{var u=a.ref;if(u!==null){var f=a.stateNode;switch(a.tag){case 26:case 27:case 5:var g=f;break;default:g=f}typeof u=="function"?a.refCleanup=u(g):u.current=g}}catch(_){dt(a,l,_)}}function ii(a,l){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){dt(a,l,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){dt(a,l,g)}else u.current=null}function JE(a){var l=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){dt(a,a.return,g)}}function eT(a,l,u){try{var f=a.stateNode;_O(f,a.type,u,l),f[Xt]=l}catch(g){dt(a,a.return,g)}}function tT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function Hy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Yy(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(a,l):u.insertBefore(a,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(a,u)):(l=u,l.appendChild(a)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=zf));else if(f!==4&&f!==27&&(a=a.child,a!==null))for(Yy(a,l,u),a=a.sibling;a!==null;)Yy(a,l,u),a=a.sibling}function Rf(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(f!==4&&f!==27&&(a=a.child,a!==null))for(Rf(a,l,u),a=a.sibling;a!==null;)Rf(a,l,u),a=a.sibling}var ns=!1,It=!1,qy=!1,nT=typeof WeakSet=="function"?WeakSet:Set,hn=null,iT=!1;function KI(a,l){if(a=a.containerInfo,_v=Kf,a=bw(a),$g(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var D=0,I=-1,B=-1,G=0,oe=0,he=a,J=null;t:for(;;){for(var se;he!==u||g!==0&&he.nodeType!==3||(I=D+g),he!==_||f!==0&&he.nodeType!==3||(B=D+f),he.nodeType===3&&(D+=he.nodeValue.length),(se=he.firstChild)!==null;)J=he,he=se;for(;;){if(he===a)break t;if(J===u&&++G===g&&(I=D),J===_&&++oe===f&&(B=D),(se=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=se}u=I===-1||B===-1?null:{start:I,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(bv={focusedElem:a,selectionRange:u},Kf=!1,hn=l;hn!==null;)if(l=hn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,hn=a;else for(;hn!==null;){switch(l=hn,_=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,u=l,g=_.memoizedProps,_=_.memoizedState,f=u.stateNode;try{var Te=ko(u.type,g,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(Te,_),f.__reactInternalSnapshotBeforeUpdate=a}catch(Ie){dt(u,u.return,Ie)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Sv(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,hn=a;break}hn=l.return}return Te=iT,iT=!1,Te}function rT(a,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:rs(a,u),f&4&&zu(5,u);break;case 1:if(rs(a,u),f&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(I){dt(u,u.return,I)}else{var g=ko(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(g,l,a.__reactInternalSnapshotBeforeUpdate)}catch(I){dt(u,u.return,I)}}f&64&&XE(u),f&512&&Po(u,u.return);break;case 3:if(rs(a,u),f&64&&(f=u.updateQueue,f!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{QE(f,a)}catch(I){dt(u,u.return,I)}}break;case 26:rs(a,u),f&512&&Po(u,u.return);break;case 27:case 5:rs(a,u),l===null&&f&4&&JE(u),f&512&&Po(u,u.return);break;case 12:rs(a,u);break;case 13:rs(a,u),f&4&&oT(a,u);break;case 22:if(g=u.memoizedState!==null||ns,!g){l=l!==null&&l.memoizedState!==null||It;var _=ns,D=It;ns=g,(It=l)&&!D?da(a,u,(u.subtreeFlags&8772)!==0):rs(a,u),ns=_,It=D}f&512&&(u.memoizedProps.mode==="manual"?Po(u,u.return):ii(u,u.return));break;default:rs(a,u)}}function sT(a){var l=a.alternate;l!==null&&(a.alternate=null,sT(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&co(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Wt=null,ri=!1;function is(a,l,u){for(u=u.child;u!==null;)aT(a,l,u),u=u.sibling}function aT(a,l,u){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Bs,u)}catch{}switch(u.tag){case 26:It||ii(u,l),is(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:It||ii(u,l);var f=Wt,g=ri;for(Wt=u.stateNode,is(a,l,u),u=u.stateNode,l=u.attributes;l.length;)u.removeAttributeNode(l[0]);co(u),Wt=f,ri=g;break;case 5:It||ii(u,l);case 6:g=Wt;var _=ri;if(Wt=null,is(a,l,u),Wt=g,ri=_,Wt!==null)if(ri)try{a=Wt,f=u.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)}catch(D){dt(u,l,D)}else try{Wt.removeChild(u.stateNode)}catch(D){dt(u,l,D)}break;case 18:Wt!==null&&(ri?(l=Wt,u=u.stateNode,l.nodeType===8?Tv(l.parentNode,u):l.nodeType===1&&Tv(l,u),ah(l)):Tv(Wt,u.stateNode));break;case 4:f=Wt,g=ri,Wt=u.stateNode.containerInfo,ri=!0,is(a,l,u),Wt=f,ri=g;break;case 0:case 11:case 14:case 15:It||ha(2,u,l),It||ha(4,u,l),is(a,l,u);break;case 1:It||(ii(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&ZE(u,l,f)),is(a,l,u);break;case 21:is(a,l,u);break;case 22:It||ii(u,l),It=(f=It)||u.memoizedState!==null,is(a,l,u),It=f;break;default:is(a,l,u)}}function oT(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ah(a)}catch(u){dt(l,l.return,u)}}function QI(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new nT),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new nT),l;default:throw Error(n(435,a.tag))}}function Wy(a,l){var u=QI(a);l.forEach(function(f){var g=cO.bind(null,a,f);u.has(f)||(u.add(f),f.then(g,g))})}function Si(a,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],_=a,D=l,I=D;e:for(;I!==null;){switch(I.tag){case 27:case 5:Wt=I.stateNode,ri=!1;break e;case 3:Wt=I.stateNode.containerInfo,ri=!0;break e;case 4:Wt=I.stateNode.containerInfo,ri=!0;break e}I=I.return}if(Wt===null)throw Error(n(160));aT(_,D,g),Wt=null,ri=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)lT(l,a),l=l.sibling}var zi=null;function lT(a,l){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Si(l,a),xi(a),f&4&&(ha(3,a,a.return),zu(3,a),ha(5,a,a.return));break;case 1:Si(l,a),xi(a),f&512&&(It||u===null||ii(u,u.return)),f&64&&ns&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=zi;if(Si(l,a),xi(a),f&512&&(It||u===null||ii(u,u.return)),f&4){var _=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Gs]||_[on]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(f),g.head.insertBefore(_,g.querySelector("head > title"))),_n(_,f,u),_[on]=a,xt(_),f=_;break e;case"link":var D=JT("link","href",g).get(f+(u.href||""));if(D){for(var I=0;I<D.length;I++)if(_=D[I],_.getAttribute("href")===(u.href==null?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(I,1);break t}}_=g.createElement(f),_n(_,f,u),g.head.appendChild(_);break;case"meta":if(D=JT("meta","content",g).get(f+(u.content||""))){for(I=0;I<D.length;I++)if(_=D[I],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(I,1);break t}}_=g.createElement(f),_n(_,f,u),g.head.appendChild(_);break;default:throw Error(n(468,f))}_[on]=a,xt(_),f=_}a.stateNode=f}else eS(g,a.type,a.stateNode);else a.stateNode=ZT(g,f,a.memoizedProps);else _!==f?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,f===null?eS(g,a.type,a.stateNode):ZT(g,f,a.memoizedProps)):f===null&&a.stateNode!==null&&eT(a,a.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&a.alternate===null){g=a.stateNode,_=a.memoizedProps;try{for(var B=g.firstChild;B;){var G=B.nextSibling,oe=B.nodeName;B[Gs]||oe==="HEAD"||oe==="BODY"||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||g.removeChild(B),B=G}for(var he=a.type,J=g.attributes;J.length;)g.removeAttributeNode(J[0]);_n(g,he,_),g[on]=a,g[Xt]=_}catch(Te){dt(a,a.return,Te)}}case 5:if(Si(l,a),xi(a),f&512&&(It||u===null||ii(u,u.return)),a.flags&32){g=a.stateNode;try{mi(g,"")}catch(Te){dt(a,a.return,Te)}}f&4&&a.stateNode!=null&&(g=a.memoizedProps,eT(a,g,u!==null?u.memoizedProps:g)),f&1024&&(qy=!0);break;case 6:if(Si(l,a),xi(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Te){dt(a,a.return,Te)}}break;case 3:if(Wf=null,g=zi,zi=Yf(l.containerInfo),Si(l,a),zi=g,xi(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ah(l.containerInfo)}catch(Te){dt(a,a.return,Te)}qy&&(qy=!1,cT(a));break;case 4:f=zi,zi=Yf(a.stateNode.containerInfo),Si(l,a),xi(a),zi=f;break;case 12:Si(l,a),xi(a);break;case 13:Si(l,a),xi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(tv=Yn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Wy(a,f)));break;case 22:if(f&512&&(It||u===null||ii(u,u.return)),B=a.memoizedState!==null,G=u!==null&&u.memoizedState!==null,oe=ns,he=It,ns=oe||B,It=he||G,Si(l,a),It=he,ns=oe,xi(a),l=a.stateNode,l._current=a,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,f&8192&&(l._visibility=B?l._visibility&-2:l._visibility|1,B&&(l=ns||It,u===null||G||l||Zl(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(u=null,l=a;;){if(l.tag===5||l.tag===26||l.tag===27){if(u===null){G=u=l;try{if(g=G.stateNode,B)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{D=G.stateNode,I=G.memoizedProps.style;var se=I!=null&&I.hasOwnProperty("display")?I.display:null;D.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Te){dt(G,G.return,Te)}}}else if(l.tag===6){if(u===null){G=l;try{G.stateNode.nodeValue=B?"":G.memoizedProps}catch(Te){dt(G,G.return,Te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Wy(a,u))));break;case 19:Si(l,a),xi(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Wy(a,f)));break;case 21:break;default:Si(l,a),xi(a)}}function xi(a){var l=a.flags;if(l&2){try{if(a.tag!==27){e:{for(var u=a.return;u!==null;){if(tT(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 27:var g=f.stateNode,_=Hy(a);Rf(a,_,g);break;case 5:var D=f.stateNode;f.flags&32&&(mi(D,""),f.flags&=-33);var I=Hy(a);Rf(a,I,D);break;case 3:case 4:var B=f.stateNode.containerInfo,G=Hy(a);Yy(a,G,B);break;default:throw Error(n(161))}}}catch(oe){dt(a,a.return,oe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function cT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;cT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function rs(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)rT(a,l.alternate,l),l=l.sibling}function Zl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ha(4,l,l.return),Zl(l);break;case 1:ii(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&ZE(l,l.return,u),Zl(l);break;case 26:case 27:case 5:ii(l,l.return),Zl(l);break;case 22:ii(l,l.return),l.memoizedState===null&&Zl(l);break;default:Zl(l)}a=a.sibling}}function da(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,g=a,_=l,D=_.flags;switch(_.tag){case 0:case 11:case 15:da(g,_,u),zu(4,_);break;case 1:if(da(g,_,u),f=_,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){dt(f,f.return,G)}if(f=_,g=f.updateQueue,g!==null){var I=f.stateNode;try{var B=g.shared.hiddenCallbacks;if(B!==null)for(g.shared.hiddenCallbacks=null,g=0;g<B.length;g++)KE(B[g],I)}catch(G){dt(f,f.return,G)}}u&&D&64&&XE(_),Po(_,_.return);break;case 26:case 27:case 5:da(g,_,u),u&&f===null&&D&4&&JE(_),Po(_,_.return);break;case 12:da(g,_,u);break;case 13:da(g,_,u),u&&D&4&&oT(g,_);break;case 22:_.memoizedState===null&&da(g,_,u),Po(_,_.return);break;default:da(g,_,u)}l=l.sibling}}function $y(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Iu(u))}function Gy(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Iu(a))}function fa(a,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)uT(a,l,u,f),l=l.sibling}function uT(a,l,u,f){var g=l.flags;switch(l.tag){case 0:case 11:case 15:fa(a,l,u,f),g&2048&&zu(9,l);break;case 3:fa(a,l,u,f),g&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Iu(a)));break;case 12:if(g&2048){fa(a,l,u,f),a=l.stateNode;try{var _=l.memoizedProps,D=_.id,I=_.onPostCommit;typeof I=="function"&&I(D,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){dt(l,l.return,B)}}else fa(a,l,u,f);break;case 23:break;case 22:_=l.stateNode,l.memoizedState!==null?_._visibility&4?fa(a,l,u,f):Hu(a,l):_._visibility&4?fa(a,l,u,f):(_._visibility|=4,Jl(a,l,u,f,(l.subtreeFlags&10256)!==0)),g&2048&&$y(l.alternate,l);break;case 24:fa(a,l,u,f),g&2048&&Gy(l.alternate,l);break;default:fa(a,l,u,f)}}function Jl(a,l,u,f,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=a,D=l,I=u,B=f,G=D.flags;switch(D.tag){case 0:case 11:case 15:Jl(_,D,I,B,g),zu(8,D);break;case 23:break;case 22:var oe=D.stateNode;D.memoizedState!==null?oe._visibility&4?Jl(_,D,I,B,g):Hu(_,D):(oe._visibility|=4,Jl(_,D,I,B,g)),g&&G&2048&&$y(D.alternate,D);break;case 24:Jl(_,D,I,B,g),g&&G&2048&&Gy(D.alternate,D);break;default:Jl(_,D,I,B,g)}l=l.sibling}}function Hu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,f=l,g=f.flags;switch(f.tag){case 22:Hu(u,f),g&2048&&$y(f.alternate,f);break;case 24:Hu(u,f),g&2048&&Gy(f.alternate,f);break;default:Hu(u,f)}l=l.sibling}}var Yu=8192;function ec(a){if(a.subtreeFlags&Yu)for(a=a.child;a!==null;)hT(a),a=a.sibling}function hT(a){switch(a.tag){case 26:ec(a),a.flags&Yu&&a.memoizedState!==null&&FO(zi,a.memoizedState,a.memoizedProps);break;case 5:ec(a);break;case 3:case 4:var l=zi;zi=Yf(a.stateNode.containerInfo),ec(a),zi=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Yu,Yu=16777216,ec(a),Yu=l):ec(a));break;default:ec(a)}}function dT(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];hn=f,pT(f,a)}dT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fT(a),a=a.sibling}function fT(a){switch(a.tag){case 0:case 11:case 15:qu(a),a.flags&2048&&ha(9,a,a.return);break;case 3:qu(a);break;case 12:qu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&4&&(a.return===null||a.return.tag!==13)?(l._visibility&=-5,Mf(a)):qu(a);break;default:qu(a)}}function Mf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];hn=f,pT(f,a)}dT(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ha(8,l,l.return),Mf(l);break;case 22:u=l.stateNode,u._visibility&4&&(u._visibility&=-5,Mf(l));break;default:Mf(l)}a=a.sibling}}function pT(a,l){for(;hn!==null;){var u=hn;switch(u.tag){case 0:case 11:case 15:ha(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Iu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,hn=f;else e:for(u=a;hn!==null;){f=hn;var g=f.sibling,_=f.return;if(sT(f),f===u){hn=null;break e}if(g!==null){g.return=_,hn=g;break e}hn=_}}}function XI(a,l,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(a,l,u,f){return new XI(a,l,u,f)}function Ky(a){return a=a.prototype,!(!a||!a.isReactComponent)}function pa(a,l){var u=a.alternate;return u===null?(u=Di(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&31457280,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function mT(a,l){a.flags&=31457282;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function kf(a,l,u,f,g,_){var D=0;if(f=a,typeof a=="function")Ky(a)&&(D=1);else if(typeof a=="string")D=LO(a,u,Nn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case h:return No(u.children,g,_,l);case d:D=8,g|=24;break;case p:return a=Di(12,u,l,g|2),a.elementType=p,a.lanes=_,a;case S:return a=Di(13,u,l,g),a.elementType=S,a.lanes=_,a;case x:return a=Di(19,u,l,g),a.elementType=x,a.lanes=_,a;case j:return gT(u,g,_,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case y:case b:D=10;break e;case v:D=9;break e;case E:D=11;break e;case M:D=14;break e;case L:D=16,f=null;break e}D=29,u=Error(n(130,a===null?"null":typeof a,"")),f=null}return l=Di(D,u,l,g),l.elementType=a,l.type=f,l.lanes=_,l}function No(a,l,u,f){return a=Di(7,a,f,l),a.lanes=u,a}function gT(a,l,u,f){a=Di(22,a,f,l),a.elementType=j,a.lanes=u;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var _=g._current;if(_===null)throw Error(n(456));if((g._pendingVisibility&2)===0){var D=na(_,2);D!==null&&(g._pendingVisibility|=2,Un(D,_,2))}},attach:function(){var _=g._current;if(_===null)throw Error(n(456));if((g._pendingVisibility&2)!==0){var D=na(_,2);D!==null&&(g._pendingVisibility&=-3,Un(D,_,2))}}};return a.stateNode=g,a}function Qy(a,l,u){return a=Di(6,a,null,l),a.lanes=u,a}function Xy(a,l,u){return l=Di(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function ss(a){a.flags|=4}function yT(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tS(l)){if(l=Ti.current,l!==null&&((Ge&4194176)===Ge?fr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||l!==fr))throw Ru=ny,Pw;a.flags|=8192}}function If(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Ys():536870912,a.lanes|=l,nc|=l)}function Wu(a,l){if(!et)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Dt(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(l)for(var g=a.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&31457280,f|=g.flags&31457280,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=f,a.childLanes=u,l}function ZI(a,l,u){var f=l.pendingProps;switch(ey(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(l),null;case 1:return Dt(l),null;case 3:return u=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ts(tn),Fr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(xu(l)?ss(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Bi!==null&&(sv(Bi),Bi=null))),Dt(l),null;case 26:return u=l.memoizedState,a===null?(ss(l),u!==null?(Dt(l),yT(l,u)):(Dt(l),l.flags&=-16777217)):u?u!==a.memoizedState?(ss(l),Dt(l),yT(l,u)):(Dt(l),l.flags&=-16777217):(a.memoizedProps!==f&&ss(l),Dt(l),l.flags&=-16777217),null;case 27:wl(l),u=di.current;var g=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&ss(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Dt(l),null}a=Nn.current,xu(l)?Iw(l):(a=$T(g,f,u),l.stateNode=a,ss(l))}return Dt(l),null;case 5:if(wl(l),u=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&ss(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Dt(l),null}if(a=Nn.current,xu(l))Iw(l);else{switch(g=Hf(di.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?g.createElement(u,{is:f.is}):g.createElement(u)}}a[on]=l,a[Xt]=f;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=a;e:switch(_n(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ss(l)}}return Dt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&ss(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(a=di.current,xu(l)){if(a=l.stateNode,u=l.memoizedProps,f=null,g=jn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}a[on]=l,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||BT(a.nodeValue,u)),a||xo(l)}else a=Hf(a).createTextNode(f),a[on]=l,l.stateNode=a}return Dt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=xu(l),f!==null&&f.dehydrated!==null){if(a===null){if(!g)throw Error(n(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[on]=l}else Du(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),g=!1}else Bi!==null&&(sv(Bi),Bi=null),g=!0;if(!g)return l.flags&256?(Xr(l),l):(Xr(l),null)}if(Xr(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=l.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==g&&(f.flags|=2048)}return u!==a&&u&&(l.child.flags|=8192),If(l,l.updateQueue),Dt(l),null;case 4:return Fr(),a===null&&gv(l.stateNode.containerInfo),Dt(l),null;case 10:return ts(l.type),Dt(l),null;case 19:if(Mt(en),g=l.memoizedState,g===null)return Dt(l),null;if(f=(l.flags&128)!==0,_=g.rendering,_===null)if(f)Wu(g,!1);else{if(Ot!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=mf(a),_!==null){for(l.flags|=128,Wu(g,!1),a=_.updateQueue,l.updateQueue=a,If(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)mT(u,a),u=u.sibling;return at(en,en.current&1|2),l.child}a=a.sibling}g.tail!==null&&Yn()>Of&&(l.flags|=128,f=!0,Wu(g,!1),l.lanes=4194304)}else{if(!f)if(a=mf(_),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,If(l,a),Wu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!et)return Dt(l),null}else 2*Yn()-g.renderingStartTime>Of&&u!==536870912&&(l.flags|=128,f=!0,Wu(g,!1),l.lanes=4194304);g.isBackwards?(_.sibling=l.child,l.child=_):(a=g.last,a!==null?a.sibling=_:l.child=_,g.last=_)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Yn(),l.sibling=null,a=en.current,at(en,f?a&1|2:a&1),l):(Dt(l),null);case 22:case 23:return Xr(l),ry(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(u&536870912)!==0&&(l.flags&128)===0&&(Dt(l),l.subtreeFlags&6&&(l.flags|=8192)):Dt(l),u=l.updateQueue,u!==null&&If(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),a!==null&&Mt(Ao),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),ts(tn),Dt(l),null;case 25:return null}throw Error(n(156,l.tag))}function JI(a,l){switch(ey(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ts(tn),Fr(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return wl(l),null;case 13:if(Xr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Du()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Mt(en),null;case 4:return Fr(),null;case 10:return ts(l.type),null;case 22:case 23:return Xr(l),ry(),a!==null&&Mt(Ao),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ts(tn),null;case 25:return null;default:return null}}function vT(a,l){switch(ey(l),l.tag){case 3:ts(tn),Fr();break;case 26:case 27:case 5:wl(l);break;case 4:Fr();break;case 13:Xr(l);break;case 19:Mt(en);break;case 10:ts(l.type);break;case 22:case 23:Xr(l),ry(),a!==null&&Mt(Ao);break;case 24:ts(tn)}}var eO={getCacheForType:function(a){var l=Dn(tn),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u}},tO=typeof WeakMap=="function"?WeakMap:Map,At=0,ft=null,je=null,Ge=0,pt=0,si=null,as=!1,tc=!1,Zy=!1,os=0,Ot=0,ma=0,Lo=0,Jy=0,Ai=0,nc=0,$u=null,mr=null,ev=!1,tv=0,Of=1/0,Pf=null,ga=null,Nf=!1,Vo=null,Gu=0,nv=0,iv=null,Ku=0,rv=null;function ai(){if((At&2)!==0&&Ge!==0)return Ge&-Ge;if(A.T!==null){var a=$l;return a!==0?a:dv()}return Ud()}function _T(){Ai===0&&(Ai=(Ge&536870912)===0||et?ou():536870912);var a=Ti.current;return a!==null&&(a.flags|=32),Ai}function Un(a,l,u){(a===ft&&pt===2||a.cancelPendingCommit!==null)&&(ic(a,0),ls(a,Ge,Ai,!1)),Vt(a,u),((At&2)===0||a!==ft)&&(a===ft&&((At&2)===0&&(Lo|=u),Ot===4&&ls(a,Ge,Ai,!1)),gr(a))}function bT(a,l,u){if((At&6)!==0)throw Error(n(327));var f=!u&&(l&60)===0&&(l&a.expiredLanes)===0||Hs(a,l),g=f?rO(a,l):lv(a,l,!0),_=f;do{if(g===0){tc&&!f&&ls(a,l,0,!1);break}else if(g===6)ls(a,l,0,!as);else{if(u=a.current.alternate,_&&!nO(u)){g=lv(a,l,!1),_=!1;continue}if(g===2){if(_=l,a.errorRecoveryDisabledLanes&_)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var I=a;g=$u;var B=I.current.memoizedState.isDehydrated;if(B&&(ic(I,D).flags|=256),D=lv(I,D,!1),D!==2){if(Zy&&!B){I.errorRecoveryDisabledLanes|=_,Lo|=_,g=4;break e}_=mr,mr=g,_!==null&&sv(_)}g=D}if(_=!1,g!==2)continue}}if(g===1){ic(a,0),ls(a,l,0,!0);break}e:{switch(f=a,g){case 0:case 1:throw Error(n(345));case 4:if((l&4194176)===l){ls(f,l,Ai,!as);break e}break;case 2:mr=null;break;case 3:case 5:break;default:throw Error(n(329))}if(f.finishedWork=u,f.finishedLanes=l,(l&62914560)===l&&(_=tv+300-Yn(),10<_)){if(ls(f,l,Ai,!as),fi(f,0)!==0)break e;f.timeoutHandle=YT(wT.bind(null,f,u,mr,Pf,ev,l,Ai,Lo,nc,as,2,-0,0),_);break e}wT(f,u,mr,Pf,ev,l,Ai,Lo,nc,as,0,-0,0)}}break}while(!0);gr(a)}function sv(a){mr===null?mr=a:mr.push.apply(mr,a)}function wT(a,l,u,f,g,_,D,I,B,G,oe,he,J){var se=l.subtreeFlags;if((se&8192||(se&16785408)===16785408)&&(th={stylesheets:null,count:0,unsuspend:VO},hT(l),l=jO(),l!==null)){a.cancelPendingCommit=l(CT.bind(null,a,u,f,g,D,I,B,1,he,J)),ls(a,_,D,!G);return}CT(a,u,f,g,D,I,B,oe,he,J)}function nO(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!ni(_(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ls(a,l,u,f){l&=~Jy,l&=~Lo,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var g=l;0<g;){var _=31-Ln(g),D=1<<_;f[_]=-1,g&=~D}u!==0&&qs(a,u,l)}function Lf(){return(At&6)===0?(Qu(0),!1):!0}function av(){if(je!==null){if(pt===0)var a=je.return;else a=je,es=Io=null,dy(a),ql=null,Mu=0,a=je;for(;a!==null;)vT(a.alternate,a),a=a.return;je=null}}function ic(a,l){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,wO(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),av(),ft=a,je=u=pa(a.current,null),Ge=l,pt=0,si=null,as=!1,tc=Hs(a,l),Zy=!1,nc=Ai=Jy=Lo=ma=Ot=0,mr=$u=null,ev=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var g=31-Ln(f),_=1<<g;l|=a[g],f&=~_}return os=l,af(),u}function ET(a,l){Le=null,A.H=pr,l===Cu?(l=Vw(),pt=3):l===Pw?(l=Vw(),pt=4):pt=l===NE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,si=l,je===null&&(Ot=1,Df(a,bi(l,a.current)))}function TT(){var a=A.H;return A.H=pr,a===null?pr:a}function ST(){var a=A.A;return A.A=eO,a}function ov(){Ot=4,as||(Ge&4194176)!==Ge&&Ti.current!==null||(tc=!0),(ma&134217727)===0&&(Lo&134217727)===0||ft===null||ls(ft,Ge,Ai,!1)}function lv(a,l,u){var f=At;At|=2;var g=TT(),_=ST();(ft!==a||Ge!==l)&&(Pf=null,ic(a,l)),l=!1;var D=Ot;e:do try{if(pt!==0&&je!==null){var I=je,B=si;switch(pt){case 8:av(),D=6;break e;case 3:case 2:case 6:Ti.current===null&&(l=!0);var G=pt;if(pt=0,si=null,rc(a,I,B,G),u&&tc){D=0;break e}break;default:G=pt,pt=0,si=null,rc(a,I,B,G)}}iO(),D=Ot;break}catch(oe){ET(a,oe)}while(!0);return l&&a.shellSuspendCounter++,es=Io=null,At=f,A.H=g,A.A=_,je===null&&(ft=null,Ge=0,af()),D}function iO(){for(;je!==null;)xT(je)}function rO(a,l){var u=At;At|=2;var f=TT(),g=ST();ft!==a||Ge!==l?(Pf=null,Of=Yn()+500,ic(a,l)):tc=Hs(a,l);e:do try{if(pt!==0&&je!==null){l=je;var _=si;t:switch(pt){case 1:pt=0,si=null,rc(a,l,_,1);break;case 2:if(Nw(_)){pt=0,si=null,DT(l);break}l=function(){pt===2&&ft===a&&(pt=7),gr(a)},_.then(l,l);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Nw(_)?(pt=0,si=null,DT(l)):(pt=0,si=null,rc(a,l,_,7));break;case 5:var D=null;switch(je.tag){case 26:D=je.memoizedState;case 5:case 27:var I=je;if(!D||tS(D)){pt=0,si=null;var B=I.sibling;if(B!==null)je=B;else{var G=I.return;G!==null?(je=G,Vf(G)):je=null}break t}}pt=0,si=null,rc(a,l,_,5);break;case 6:pt=0,si=null,rc(a,l,_,6);break;case 8:av(),Ot=6;break e;default:throw Error(n(462))}}sO();break}catch(oe){ET(a,oe)}while(!0);return es=Io=null,A.H=f,A.A=g,At=u,je!==null?0:(ft=null,Ge=0,af(),Ot)}function sO(){for(;je!==null&&!Lg();)xT(je)}function xT(a){var l=$E(a.alternate,a,os);a.memoizedProps=a.pendingProps,l===null?Vf(a):je=l}function DT(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=BE(u,l,l.pendingProps,l.type,void 0,Ge);break;case 11:l=BE(u,l,l.pendingProps,l.type.render,l.ref,Ge);break;case 5:dy(l);default:vT(u,l),l=je=mT(l,os),l=$E(u,l,os)}a.memoizedProps=a.pendingProps,l===null?Vf(a):je=l}function rc(a,l,u,f){es=Io=null,dy(l),ql=null,Mu=0;var g=l.return;try{if($I(a,g,l,u,Ge)){Ot=1,Df(a,bi(u,a.current)),je=null;return}}catch(_){if(g!==null)throw je=g,_;Ot=1,Df(a,bi(u,a.current)),je=null;return}l.flags&32768?(et||f===1?a=!0:tc||(Ge&536870912)!==0?a=!1:(as=a=!0,(f===2||f===3||f===6)&&(f=Ti.current,f!==null&&f.tag===13&&(f.flags|=16384))),AT(l,a)):Vf(l)}function Vf(a){var l=a;do{if((l.flags&32768)!==0){AT(l,as);return}a=l.return;var u=ZI(l.alternate,l,os);if(u!==null){je=u;return}if(l=l.sibling,l!==null){je=l;return}je=l=a}while(l!==null);Ot===0&&(Ot=5)}function AT(a,l){do{var u=JI(a.alternate,a);if(u!==null){u.flags&=32767,je=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){je=a;return}je=a=u}while(a!==null);Ot=6,je=null}function CT(a,l,u,f,g,_,D,I,B,G){var oe=A.T,he=ge.p;try{ge.p=2,A.T=null,aO(a,l,u,f,he,g,_,D,I,B,G)}finally{A.T=oe,ge.p=he}}function aO(a,l,u,f,g,_,D,I){do sc();while(Vo!==null);if((At&6)!==0)throw Error(n(327));var B=a.finishedWork;if(f=a.finishedLanes,B===null)return null;if(a.finishedWork=null,a.finishedLanes=0,B===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var G=B.lanes|B.childLanes;if(G|=Xg,Fd(a,f,G,_,D,I),a===ft&&(je=ft=null,Ge=0),(B.subtreeFlags&10256)===0&&(B.flags&10256)===0||Nf||(Nf=!0,nv=G,iv=u,uO(jr,function(){return sc(),null})),u=(B.flags&15990)!==0,(B.subtreeFlags&15990)!==0||u?(u=A.T,A.T=null,_=ge.p,ge.p=2,D=At,At|=4,KI(a,B),lT(B,a),MI(bv,a.containerInfo),Kf=!!_v,bv=_v=null,a.current=B,rT(a,B.alternate,B),iu(),At=D,ge.p=_,A.T=u):a.current=B,Nf?(Nf=!1,Vo=a,Gu=f):RT(a,G),G=a.pendingLanes,G===0&&(ga=null),su(B.stateNode),gr(a),l!==null)for(g=a.onRecoverableError,B=0;B<l.length;B++)G=l[B],g(G.value,{componentStack:G.stack});return(Gu&3)!==0&&sc(),G=a.pendingLanes,(f&4194218)!==0&&(G&42)!==0?a===rv?Ku++:(Ku=0,rv=a):Ku=0,Qu(0),null}function RT(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Iu(l)))}function sc(){if(Vo!==null){var a=Vo,l=nv;nv=0;var u=jd(Gu),f=A.T,g=ge.p;try{if(ge.p=32>u?32:u,A.T=null,Vo===null)var _=!1;else{u=iv,iv=null;var D=Vo,I=Gu;if(Vo=null,Gu=0,(At&6)!==0)throw Error(n(331));var B=At;if(At|=4,fT(D.current),uT(D,D.current,I,u),At=B,Qu(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Bs,D)}catch{}_=!0}return _}finally{ge.p=g,A.T=f,RT(a,l)}}return!1}function MT(a,l,u){l=bi(u,l),l=Dy(a.stateNode,l,2),a=ua(a,l,2),a!==null&&(Vt(a,2),gr(a))}function dt(a,l,u){if(a.tag===3)MT(a,a,u);else for(;l!==null;){if(l.tag===3){MT(l,a,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))){a=bi(u,a),u=OE(2),f=ua(l,u,2),f!==null&&(PE(u,f,l,a),Vt(f,2),gr(f));break}}l=l.return}}function cv(a,l,u){var f=a.pingCache;if(f===null){f=a.pingCache=new tO;var g=new Set;f.set(l,g)}else g=f.get(l),g===void 0&&(g=new Set,f.set(l,g));g.has(u)||(Zy=!0,g.add(u),a=oO.bind(null,a,l,u),l.then(a,a))}function oO(a,l,u){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,ft===a&&(Ge&u)===u&&(Ot===4||Ot===3&&(Ge&62914560)===Ge&&300>Yn()-tv?(At&2)===0&&ic(a,0):Jy|=u,nc===Ge&&(nc=0)),gr(a)}function kT(a,l){l===0&&(l=Ys()),a=na(a,l),a!==null&&(Vt(a,l),gr(a))}function lO(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),kT(a,u)}function cO(a,l){var u=0;switch(a.tag){case 13:var f=a.stateNode,g=a.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),kT(a,u)}function uO(a,l){return ao(a,l)}var Ff=null,ac=null,uv=!1,jf=!1,hv=!1,Fo=0;function gr(a){a!==ac&&a.next===null&&(ac===null?Ff=ac=a:ac=ac.next=a),jf=!0,uv||(uv=!0,dO(hO))}function Qu(a,l){if(!hv&&jf){hv=!0;do for(var u=!1,f=Ff;f!==null;){if(a!==0){var g=f.pendingLanes;if(g===0)var _=0;else{var D=f.suspendedLanes,I=f.pingedLanes;_=(1<<31-Ln(42|a)+1)-1,_&=g&~(D&~I),_=_&201326677?_&201326677|1:_?_|2:0}_!==0&&(u=!0,PT(f,_))}else _=Ge,_=fi(f,f===ft?_:0),(_&3)===0||Hs(f,_)||(u=!0,PT(f,_));f=f.next}while(u);hv=!1}}function hO(){jf=uv=!1;var a=0;Fo!==0&&(bO()&&(a=Fo),Fo=0);for(var l=Yn(),u=null,f=Ff;f!==null;){var g=f.next,_=IT(f,l);_===0?(f.next=null,u===null?Ff=g:u.next=g,g===null&&(ac=u)):(u=f,(a!==0||(_&3)!==0)&&(jf=!0)),f=g}Qu(a)}function IT(a,l){for(var u=a.suspendedLanes,f=a.pingedLanes,g=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var D=31-Ln(_),I=1<<D,B=g[D];B===-1?((I&u)===0||(I&f)!==0)&&(g[D]=Sl(I,l)):B<=l&&(a.expiredLanes|=I),_&=~I}if(l=ft,u=Ge,u=fi(a,a===l?u:0),f=a.callbackNode,u===0||a===l&&pt===2||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Tl(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Hs(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(f!==null&&Tl(f),jd(u)){case 2:case 8:u=an;break;case 32:u=jr;break;case 268435456:u=ru;break;default:u=jr}return f=OT.bind(null,a),u=ao(u,f),a.callbackPriority=l,a.callbackNode=u,l}return f!==null&&f!==null&&Tl(f),a.callbackPriority=2,a.callbackNode=null,2}function OT(a,l){var u=a.callbackNode;if(sc()&&a.callbackNode!==u)return null;var f=Ge;return f=fi(a,a===ft?f:0),f===0?null:(bT(a,f,l),IT(a,Yn()),a.callbackNode!=null&&a.callbackNode===u?OT.bind(null,a):null)}function PT(a,l){if(sc())return null;bT(a,l,!0)}function dO(a){EO(function(){(At&6)!==0?ao(Qt,a):a()})}function dv(){return Fo===0&&(Fo=ou()),Fo}function NT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:sr(""+a)}function LT(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function fO(a,l,u,f,g){if(l==="submit"&&u&&u.stateNode===g){var _=NT((g[Xt]||null).action),D=f.submitter;D&&(l=(l=D[Xt]||null)?NT(l.formAction):D.getAttribute("formAction"),l!==null&&(_=l,D=null));var I=new kl("action","action",null,f,g);a.push({event:I,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Fo!==0){var B=D?LT(g,D):new FormData(g);wy(u,{pending:!0,data:B,method:g.method,action:_},null,B)}}else typeof _=="function"&&(I.preventDefault(),B=D?LT(g,D):new FormData(g),wy(u,{pending:!0,data:B,method:g.method,action:_},_,B))},currentTarget:g}]})}}for(var fv=0;fv<Cw.length;fv++){var pv=Cw[fv],pO=pv.toLowerCase(),mO=pv[0].toUpperCase()+pv.slice(1);Ui(pO,"on"+mO)}Ui(Tw,"onAnimationEnd"),Ui(Sw,"onAnimationIteration"),Ui(xw,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(II,"onTransitionRun"),Ui(OI,"onTransitionStart"),Ui(PI,"onTransitionCancel"),Ui(Dw,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function VT(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],g=f.event;f=f.listeners;e:{var _=void 0;if(l)for(var D=f.length-1;0<=D;D--){var I=f[D],B=I.instance,G=I.currentTarget;if(I=I.listener,B!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=G;try{_(g)}catch(oe){xf(oe)}g.currentTarget=null,_=B}else for(D=0;D<f.length;D++){if(I=f[D],B=I.instance,G=I.currentTarget,I=I.listener,B!==_&&g.isPropagationStopped())break e;_=I,g.currentTarget=G;try{_(g)}catch(oe){xf(oe)}g.currentTarget=null,_=B}}}}function Ye(a,l){var u=l[lo];u===void 0&&(u=l[lo]=new Set);var f=a+"__bubble";u.has(f)||(FT(l,a,2,!1),u.add(f))}function mv(a,l,u){var f=0;l&&(f|=4),FT(u,a,f,l)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function gv(a){if(!a[Uf]){a[Uf]=!0,cu.forEach(function(u){u!=="selectionchange"&&(gO.has(u)||mv(u,!1,a),mv(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Uf]||(l[Uf]=!0,mv("selectionchange",!1,l))}}function FT(a,l,u,f){switch(oS(l)){case 2:var g=zO;break;case 8:g=HO;break;default:g=Rv}u=g.bind(null,l,u,a),g=void 0,!yi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),f?g!==void 0?a.addEventListener(l,u,{capture:!0,passive:g}):a.addEventListener(l,u,!0):g!==void 0?a.addEventListener(l,u,{passive:g}):a.addEventListener(l,u,!1)}function yv(a,l,u,f,g){var _=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var I=f.stateNode.containerInfo;if(I===g||I.nodeType===8&&I.parentNode===g)break;if(D===4)for(D=f.return;D!==null;){var B=D.tag;if((B===3||B===4)&&(B=D.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;D=D.return}for(;I!==null;){if(D=ji(I),D===null)return;if(B=D.tag,B===5||B===6||B===26||B===27){f=_=D;continue e}I=I.parentNode}}f=f.return}Yd(function(){var G=_,oe=Ml(u),he=[];e:{var J=Aw.get(a);if(J!==void 0){var se=kl,Te=a;switch(a){case"keypress":if(or(u)===0)break e;case"keydown":case"keyup":se=Vl;break;case"focusin":Te="focus",se=Pl;break;case"focusout":Te="blur",se=Pl;break;case"beforeblur":case"afterblur":se=Pl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Zd;break;case Tw:case Sw:case xw:se=Nl;break;case Dw:se=ef;break;case"scroll":case"scrollend":se=qd;break;case"wheel":se=Fl;break;case"copy":case"cut":case"paste":se=Ll;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=wu;break;case"toggle":case"beforetoggle":se=nf}var Ie=(l&4)!==0,Pt=!Ie&&(a==="scroll"||a==="scrollend"),K=Ie?J!==null?J+"Capture":null:J;Ie=[];for(var $=G,Z;$!==null;){var le=$;if(Z=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Z===null||K===null||(le=po($,K),le!=null&&Ie.push(Zu($,le,Z))),Pt)break;$=$.return}0<Ie.length&&(J=new se(J,Te,null,u,oe),he.push({event:J,listeners:Ie}))}}if((l&7)===0){e:{if(J=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",J&&u!==gi&&(Te=u.relatedTarget||u.fromElement)&&(ji(Te)||Te[Ur]))break e;if((se||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,se?(Te=u.relatedTarget||u.toElement,se=G,Te=Te?ji(Te):null,Te!==null&&(Pt=re(Te),Ie=Te.tag,Te!==Pt||Ie!==5&&Ie!==27&&Ie!==6)&&(Te=null)):(se=null,Te=G),se!==Te)){if(Ie=vi,le="onMouseLeave",K="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Ie=wu,le="onPointerLeave",K="onPointerEnter",$="pointer"),Pt=se==null?J:Ks(se),Z=Te==null?J:Ks(Te),J=new Ie(le,$+"leave",se,u,oe),J.target=Pt,J.relatedTarget=Z,le=null,ji(oe)===G&&(Ie=new Ie(K,$+"enter",Te,u,oe),Ie.target=Z,Ie.relatedTarget=Pt,le=Ie),Pt=le,se&&Te)t:{for(Ie=se,K=Te,$=0,Z=Ie;Z;Z=oc(Z))$++;for(Z=0,le=K;le;le=oc(le))Z++;for(;0<$-Z;)Ie=oc(Ie),$--;for(;0<Z-$;)K=oc(K),Z--;for(;$--;){if(Ie===K||K!==null&&Ie===K.alternate)break t;Ie=oc(Ie),K=oc(K)}Ie=null}else Ie=null;se!==null&&jT(he,J,se,Ie,!1),Te!==null&&Pt!==null&&jT(he,Pt,Te,Ie,!0)}}e:{if(J=G?Ks(G):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var we=dw;else if(Jt(J))if(fw)we=CI;else{we=DI;var Ve=xI}else se=J.nodeName,!se||se.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&pu(G.elementType)&&(we=dw):we=AI;if(we&&(we=we(a,G))){Gr(he,we,u,oe);break e}Ve&&Ve(a,J,G),a==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&Rl(J,"number",J.value)}switch(Ve=G?Ks(G):window,a){case"focusin":(Jt(Ve)||Ve.contentEditable==="true")&&(jl=Ve,Gg=G,Su=null);break;case"focusout":Su=Gg=jl=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,ww(he,u,oe);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":ww(he,u,oe)}var Se;if(ur)e:{switch(a){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else We?ne(a,u)&&(Ae="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(T&&u.locale!=="ko"&&(We||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&We&&(Se=gu()):(ar=oe,ta="value"in ar?ar.value:ar.textContent,We=!0)),Ve=Bf(G,Ae),0<Ve.length&&(Ae=new _u(Ae,a,null,u,oe),he.push({event:Ae,listeners:Ve}),Se?Ae.data=Se:(Se=pe(u),Se!==null&&(Ae.data=Se)))),(Se=w?Zt(a,u):$e(a,u))&&(Ae=Bf(G,"onBeforeInput"),0<Ae.length&&(Ve=new _u("onBeforeInput","beforeinput",null,u,oe),he.push({event:Ve,listeners:Ae}),Ve.data=Se)),fO(he,a,G,u,oe)}VT(he,l)})}function Zu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function Bf(a,l){for(var u=l+"Capture",f=[];a!==null;){var g=a,_=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=po(a,u),g!=null&&f.unshift(Zu(a,g,_)),g=po(a,l),g!=null&&f.push(Zu(a,g,_))),a=a.return}return f}function oc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function jT(a,l,u,f,g){for(var _=l._reactName,D=[];u!==null&&u!==f;){var I=u,B=I.alternate,G=I.stateNode;if(I=I.tag,B!==null&&B===f)break;I!==5&&I!==26&&I!==27||G===null||(B=G,g?(G=po(u,_),G!=null&&D.unshift(Zu(u,G,B))):g||(G=po(u,_),G!=null&&D.push(Zu(u,G,B)))),u=u.return}D.length!==0&&a.push({event:l,listeners:D})}var yO=/\r\n?/g,vO=/\u0000|\uFFFD/g;function UT(a){return(typeof a=="string"?a:""+a).replace(yO,`
`).replace(vO,"")}function BT(a,l){return l=UT(l),UT(a)===l}function zf(){}function ht(a,l,u,f,g,_){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||mi(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&mi(a,""+f);break;case"className":Zs(a,"class",f);break;case"tabIndex":Zs(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Zs(a,u,f);break;case"style":Hd(a,f,_);break;case"data":if(l!=="object"){Zs(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=sr(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(l!=="input"&&ht(a,l,"name",g.name,g,null),ht(a,l,"formEncType",g.formEncType,g,null),ht(a,l,"formMethod",g.formMethod,g,null),ht(a,l,"formTarget",g.formTarget,g,null)):(ht(a,l,"encType",g.encType,g,null),ht(a,l,"method",g.method,g,null),ht(a,l,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=sr(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=zf);break;case"onScroll":f!=null&&Ye("scroll",a);break;case"onScrollEnd":f!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=sr(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),Xs(a,"popover",f);break;case"xlinkActuate":pi(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pi(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pi(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pi(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pi(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pi(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pi(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Xs(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Bg.get(u)||u,Xs(a,u,f))}}function vv(a,l,u,f,g,_){switch(u){case"style":Hd(a,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof f=="string"?mi(a,f):(typeof f=="number"||typeof f=="bigint")&&mi(a,""+f);break;case"onScroll":f!=null&&Ye("scroll",a);break;case"onScrollEnd":f!=null&&Ye("scrollend",a);break;case"onClick":f!=null&&(a.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),_=a[Xt]||null,_=_!=null?_[u]:null,typeof _=="function"&&a.removeEventListener(l,_,g),typeof f=="function")){typeof _!="function"&&_!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,f,g);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Xs(a,u,f)}}}function _n(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var f=!1,g=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var D=u[_];if(D!=null)switch(_){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ht(a,l,_,D,u,null)}}g&&ht(a,l,"srcSet",u.srcSet,u,null),f&&ht(a,l,"src",u.src,u,null);return;case"input":Ye("invalid",a);var I=_=D=g=null,B=null,G=null;for(f in u)if(u.hasOwnProperty(f)){var oe=u[f];if(oe!=null)switch(f){case"name":g=oe;break;case"type":D=oe;break;case"checked":B=oe;break;case"defaultChecked":G=oe;break;case"value":_=oe;break;case"defaultValue":I=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(n(137,l));break;default:ht(a,l,f,oe,u,null)}}ho(a,_,I,B,G,D,g,!1),uo(a);return;case"select":Ye("invalid",a),f=D=_=null;for(g in u)if(u.hasOwnProperty(g)&&(I=u[g],I!=null))switch(g){case"value":_=I;break;case"defaultValue":D=I;break;case"multiple":f=I;default:ht(a,l,g,I,u,null)}l=_,u=D,a.multiple=!!f,l!=null?Je(a,!!f,l,!1):u!=null&&Je(a,!!f,u,!0);return;case"textarea":Ye("invalid",a),_=g=f=null;for(D in u)if(u.hasOwnProperty(D)&&(I=u[D],I!=null))switch(D){case"value":f=I;break;case"defaultValue":g=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(n(91));break;default:ht(a,l,D,I,u,null)}ea(a,f,g,_),uo(a);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(f=u[B],f!=null))switch(B){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ht(a,l,B,f,u,null)}return;case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(f=0;f<Xu.length;f++)Ye(Xu[f],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(f=u[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ht(a,l,G,f,u,null)}return;default:if(pu(l)){for(oe in u)u.hasOwnProperty(oe)&&(f=u[oe],f!==void 0&&vv(a,l,oe,f,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(f=u[I],f!=null&&ht(a,l,I,f,u,null))}function _O(a,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,D=null,I=null,B=null,G=null,oe=null;for(se in u){var he=u[se];if(u.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":B=he;default:f.hasOwnProperty(se)||ht(a,l,se,null,f,he)}}for(var J in f){var se=f[J];if(he=u[J],f.hasOwnProperty(J)&&(se!=null||he!=null))switch(J){case"type":_=se;break;case"name":g=se;break;case"checked":G=se;break;case"defaultChecked":oe=se;break;case"value":D=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,l));break;default:se!==he&&ht(a,l,J,se,f,he)}}Js(a,D,I,B,G,oe,_,g);return;case"select":se=D=I=J=null;for(_ in u)if(B=u[_],u.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":se=B;default:f.hasOwnProperty(_)||ht(a,l,_,null,f,B)}for(g in f)if(_=f[g],B=u[g],f.hasOwnProperty(g)&&(_!=null||B!=null))switch(g){case"value":J=_;break;case"defaultValue":I=_;break;case"multiple":D=_;default:_!==B&&ht(a,l,g,_,f,B)}l=I,u=D,f=se,J!=null?Je(a,!!u,J,!1):!!f!=!!u&&(l!=null?Je(a,!!u,l,!0):Je(a,!!u,u?[]:"",!1));return;case"textarea":se=J=null;for(I in u)if(g=u[I],u.hasOwnProperty(I)&&g!=null&&!f.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ht(a,l,I,null,f,g)}for(D in f)if(g=f[D],_=u[D],f.hasOwnProperty(D)&&(g!=null||_!=null))switch(D){case"value":J=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==_&&ht(a,l,D,g,f,_)}fo(a,J,se);return;case"option":for(var Te in u)if(J=u[Te],u.hasOwnProperty(Te)&&J!=null&&!f.hasOwnProperty(Te))switch(Te){case"selected":a.selected=!1;break;default:ht(a,l,Te,null,f,J)}for(B in f)if(J=f[B],se=u[B],f.hasOwnProperty(B)&&J!==se&&(J!=null||se!=null))switch(B){case"selected":a.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ht(a,l,B,J,f,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in u)J=u[Ie],u.hasOwnProperty(Ie)&&J!=null&&!f.hasOwnProperty(Ie)&&ht(a,l,Ie,null,f,J);for(G in f)if(J=f[G],se=u[G],f.hasOwnProperty(G)&&J!==se&&(J!=null||se!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,l));break;default:ht(a,l,G,J,f,se)}return;default:if(pu(l)){for(var Pt in u)J=u[Pt],u.hasOwnProperty(Pt)&&J!==void 0&&!f.hasOwnProperty(Pt)&&vv(a,l,Pt,void 0,f,J);for(oe in f)J=f[oe],se=u[oe],!f.hasOwnProperty(oe)||J===se||J===void 0&&se===void 0||vv(a,l,oe,J,f,se);return}}for(var K in u)J=u[K],u.hasOwnProperty(K)&&J!=null&&!f.hasOwnProperty(K)&&ht(a,l,K,null,f,J);for(he in f)J=f[he],se=u[he],!f.hasOwnProperty(he)||J===se||J==null&&se==null||ht(a,l,he,J,f,se)}var _v=null,bv=null;function Hf(a){return a.nodeType===9?a:a.ownerDocument}function zT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function wv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ev=null;function bO(){var a=window.event;return a&&a.type==="popstate"?a===Ev?!1:(Ev=a,!0):(Ev=null,!1)}var YT=typeof setTimeout=="function"?setTimeout:void 0,wO=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,EO=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(a){return qT.resolve(null).then(a).catch(TO)}:YT;function TO(a){setTimeout(function(){throw a})}function Tv(a,l){var u=l,f=0;do{var g=u.nextSibling;if(a.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){a.removeChild(g),ah(l);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);ah(l)}function Sv(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Sv(u),co(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function SO(a,l,u,f){for(;a.nodeType===1;){var g=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Gs])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==g.rel||a.getAttribute("href")!==(g.href==null?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Hi(a.nextSibling),a===null)break}return null}function xO(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Hi(a.nextSibling),a===null))return null;return a}function Hi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}function WT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}function $T(a,l,u){switch(l=Hf(u),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}var Ci=new Map,GT=new Set;function Yf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var cs=ge.d;ge.d={f:DO,r:AO,D:CO,C:RO,L:MO,m:kO,X:OO,S:IO,M:PO};function DO(){var a=cs.f(),l=Lf();return a||l}function AO(a){var l=Br(a);l!==null&&l.tag===5&&l.type==="form"?wE(l):cs.r(a)}var lc=typeof document>"u"?null:document;function KT(a,l,u){var f=lc;if(f&&typeof l=="string"&&l){var g=kt(l);g='link[rel="'+a+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),GT.has(g)||(GT.add(g),a={rel:a,crossOrigin:u,href:l},f.querySelector(g)===null&&(l=f.createElement("link"),_n(l,"link",a),xt(l),f.head.appendChild(l)))}}function CO(a){cs.D(a),KT("dns-prefetch",a,null)}function RO(a,l){cs.C(a,l),KT("preconnect",a,l)}function MO(a,l,u){cs.L(a,l,u);var f=lc;if(f&&a&&l){var g='link[rel="preload"][as="'+kt(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+kt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+kt(u.imageSizes)+'"]')):g+='[href="'+kt(a)+'"]';var _=g;switch(l){case"style":_=cc(a);break;case"script":_=uc(a)}Ci.has(_)||(a=k({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Ci.set(_,a),f.querySelector(g)!==null||l==="style"&&f.querySelector(Ju(_))||l==="script"&&f.querySelector(eh(_))||(l=f.createElement("link"),_n(l,"link",a),xt(l),f.head.appendChild(l)))}}function kO(a,l){cs.m(a,l);var u=lc;if(u&&a){var f=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+kt(f)+'"][href="'+kt(a)+'"]',_=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=uc(a)}if(!Ci.has(_)&&(a=k({rel:"modulepreload",href:a},l),Ci.set(_,a),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(eh(_)))return}f=u.createElement("link"),_n(f,"link",a),xt(f),u.head.appendChild(f)}}}function IO(a,l,u){cs.S(a,l,u);var f=lc;if(f&&a){var g=Qs(f).hoistableStyles,_=cc(a);l=l||"default";var D=g.get(_);if(!D){var I={loading:0,preload:null};if(D=f.querySelector(Ju(_)))I.loading=5;else{a=k({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Ci.get(_))&&xv(a,u);var B=D=f.createElement("link");xt(B),_n(B,"link",a),B._p=new Promise(function(G,oe){B.onload=G,B.onerror=oe}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,qf(D,l,f)}D={type:"stylesheet",instance:D,count:1,state:I},g.set(_,D)}}}function OO(a,l){cs.X(a,l);var u=lc;if(u&&a){var f=Qs(u).hoistableScripts,g=uc(a),_=f.get(g);_||(_=u.querySelector(eh(g)),_||(a=k({src:a,async:!0},l),(l=Ci.get(g))&&Dv(a,l),_=u.createElement("script"),xt(_),_n(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(g,_))}}function PO(a,l){cs.M(a,l);var u=lc;if(u&&a){var f=Qs(u).hoistableScripts,g=uc(a),_=f.get(g);_||(_=u.querySelector(eh(g)),_||(a=k({src:a,async:!0,type:"module"},l),(l=Ci.get(g))&&Dv(a,l),_=u.createElement("script"),xt(_),_n(_,"link",a),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(g,_))}}function QT(a,l,u,f){var g=(g=di.current)?Yf(g):null;if(!g)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=cc(u.href),u=Qs(g).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=cc(u.href);var _=Qs(g).hoistableStyles,D=_.get(a);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,D),(_=g.querySelector(Ju(a)))&&!_._p&&(D.instance=_,D.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),_||NO(g,a,u,D.state))),l&&f===null)throw Error(n(528,""));return D}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uc(u),u=Qs(g).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function cc(a){return'href="'+kt(a)+'"'}function Ju(a){return'link[rel="stylesheet"]['+a+"]"}function XT(a){return k({},a,{"data-precedence":a.precedence,precedence:null})}function NO(a,l,u,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),_n(l,"link",u),xt(l),a.head.appendChild(l))}function uc(a){return'[src="'+kt(a)+'"]'}function eh(a){return"script[async]"+a}function ZT(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+kt(u.href)+'"]');if(f)return l.instance=f,xt(f),f;var g=k({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),xt(f),_n(f,"style",g),qf(f,u.precedence,a),l.instance=f;case"stylesheet":g=cc(u.href);var _=a.querySelector(Ju(g));if(_)return l.state.loading|=4,l.instance=_,xt(_),_;f=XT(u),(g=Ci.get(g))&&xv(f,g),_=(a.ownerDocument||a).createElement("link"),xt(_);var D=_;return D._p=new Promise(function(I,B){D.onload=I,D.onerror=B}),_n(_,"link",f),l.state.loading|=4,qf(_,u.precedence,a),l.instance=_;case"script":return _=uc(u.src),(g=a.querySelector(eh(_)))?(l.instance=g,xt(g),g):(f=u,(g=Ci.get(_))&&(f=k({},u),Dv(f,g)),a=a.ownerDocument||a,g=a.createElement("script"),xt(g),_n(g,"link",f),a.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,qf(f,u.precedence,a));return l.instance}function qf(a,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,_=g,D=0;D<f.length;D++){var I=f[D];if(I.dataset.precedence===l)_=I;else if(_!==g)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function xv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Dv(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Wf=null;function JT(a,l,u){if(Wf===null){var f=new Map,g=Wf=new Map;g.set(u,f)}else g=Wf,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),g=0;g<u.length;g++){var _=u[g];if(!(_[Gs]||_[on]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var D=_.getAttribute(l)||"";D=a+D;var I=f.get(D);I?I.push(_):f.set(D,[_])}}return f}function eS(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function LO(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var th=null;function VO(){}function FO(a,l,u){if(th===null)throw Error(n(475));var f=th;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=cc(u.href),_=a.querySelector(Ju(g));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=$f.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=_,xt(_);return}_=a.ownerDocument||a,u=XT(u),(g=Ci.get(g))&&xv(u,g),_=_.createElement("link"),xt(_);var D=_;D._p=new Promise(function(I,B){D.onload=I,D.onerror=B}),_n(_,"link",u),l.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=$f.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function jO(){if(th===null)throw Error(n(475));var a=th;return a.stylesheets&&a.count===0&&Av(a,a.stylesheets),0<a.count?function(l){var u=setTimeout(function(){if(a.stylesheets&&Av(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u)}}:null}function $f(){if(this.count--,this.count===0){if(this.stylesheets)Av(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Gf=null;function Av(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Gf=new Map,l.forEach(UO,a),Gf=null,$f.call(a))}function UO(a,l){if(!(l.state.loading&4)){var u=Gf.get(a);if(u)var f=u.get(null);else{u=new Map,Gf.set(a,u);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var D=g[_];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),f=D)}f&&u.set(null,f)}g=l.instance,D=g.getAttribute("data-precedence"),_=u.get(D)||f,_===f&&u.set(null,g),u.set(D,g),this.count++,f=$f.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),_?_.parentNode.insertBefore(g,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),l.state.loading|=4}}var nh={$$typeof:b,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function BO(a,l,u,f,g,_,D,I){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function nS(a,l,u,f,g,_,D,I,B,G,oe,he){return a=new BO(a,l,u,D,I,B,G,he),l=1,_===!0&&(l|=24),_=Di(3,null,null,l),a.current=_,_.stateNode=a,l=sy(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:f,isDehydrated:u,cache:l},jy(_),a}function iS(a){return a?(a=zl,a):zl}function rS(a,l,u,f,g,_){g=iS(g),f.context===null?f.context=g:f.pendingContext=g,f=ca(l),f.payload={element:u},_=_===void 0?null:_,_!==null&&(f.callback=_),u=ua(a,f,l),u!==null&&(Un(u,a,l),ju(u,a,l))}function sS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Cv(a,l){sS(a,l),(a=a.alternate)&&sS(a,l)}function aS(a){if(a.tag===13){var l=na(a,67108864);l!==null&&Un(l,a,67108864),Cv(a,67108864)}}var Kf=!0;function zO(a,l,u,f){var g=A.T;A.T=null;var _=ge.p;try{ge.p=2,Rv(a,l,u,f)}finally{ge.p=_,A.T=g}}function HO(a,l,u,f){var g=A.T;A.T=null;var _=ge.p;try{ge.p=8,Rv(a,l,u,f)}finally{ge.p=_,A.T=g}}function Rv(a,l,u,f){if(Kf){var g=Mv(f);if(g===null)yv(a,l,f,Qf,u),lS(a,f);else if(qO(g,a,l,u,f))f.stopPropagation();else if(lS(a,f),l&4&&-1<YO.indexOf(a)){for(;g!==null;){var _=Br(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var D=Fi(_.pendingLanes);if(D!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;D;){var B=1<<31-Ln(D);I.entanglements[1]|=B,D&=~B}gr(_),(At&6)===0&&(Of=Yn()+500,Qu(0))}}break;case 13:I=na(_,2),I!==null&&Un(I,_,2),Lf(),Cv(_,2)}if(_=Mv(f),_===null&&yv(a,l,f,Qf,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else yv(a,l,f,null,u)}}function Mv(a){return a=Ml(a),kv(a)}var Qf=null;function kv(a){if(Qf=null,a=ji(a),a!==null){var l=re(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=fe(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Qf=a,null}function oS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pd()){case Qt:return 2;case an:return 8;case jr:case Nd:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Iv=!1,ya=null,va=null,_a=null,ih=new Map,rh=new Map,ba=[],YO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(a,l){switch(a){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":ih.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(l.pointerId)}}function sh(a,l,u,f,g,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},l!==null&&(l=Br(l),l!==null&&aS(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),a)}function qO(a,l,u,f,g){switch(l){case"focusin":return ya=sh(ya,a,l,u,f,g),!0;case"dragenter":return va=sh(va,a,l,u,f,g),!0;case"mouseover":return _a=sh(_a,a,l,u,f,g),!0;case"pointerover":var _=g.pointerId;return ih.set(_,sh(ih.get(_)||null,a,l,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,rh.set(_,sh(rh.get(_)||null,a,l,u,f,g)),!0}return!1}function cS(a){var l=ji(a.target);if(l!==null){var u=re(l);if(u!==null){if(l=u.tag,l===13){if(l=fe(u),l!==null){a.blockedOn=l,$s(a.priority,function(){if(u.tag===13){var f=ai(),g=na(u,f);g!==null&&Un(g,u,f),Cv(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xf(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=Mv(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);gi=f,u.target.dispatchEvent(f),gi=null}else return l=Br(u),l!==null&&aS(l),a.blockedOn=u,!1;l.shift()}return!0}function uS(a,l,u){Xf(a)&&u.delete(l)}function WO(){Iv=!1,ya!==null&&Xf(ya)&&(ya=null),va!==null&&Xf(va)&&(va=null),_a!==null&&Xf(_a)&&(_a=null),ih.forEach(uS),rh.forEach(uS)}function Zf(a,l){a.blockedOn===l&&(a.blockedOn=null,Iv||(Iv=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WO)))}var Jf=null;function hS(a){Jf!==a&&(Jf=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jf===a&&(Jf=null);for(var l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],g=a[l+2];if(typeof f!="function"){if(kv(f||u)===null)continue;break}var _=Br(u);_!==null&&(a.splice(l,3),l-=3,wy(_,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function ah(a){function l(B){return Zf(B,a)}ya!==null&&Zf(ya,a),va!==null&&Zf(va,a),_a!==null&&Zf(_a,a),ih.forEach(l),rh.forEach(l);for(var u=0;u<ba.length;u++){var f=ba[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ba.length&&(u=ba[0],u.blockedOn===null);)cS(u),u.blockedOn===null&&ba.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],_=u[f+1],D=g[Xt]||null;if(typeof _=="function")D||hS(u);else if(D){var I=null;if(_&&_.hasAttribute("formAction")){if(g=_,D=_[Xt]||null)I=D.formAction;else if(kv(g)!==null)continue}else I=D.action;typeof I=="function"?u[f+1]=I:(u.splice(f,3),f-=3),hS(u)}}}function Ov(a){this._internalRoot=a}ep.prototype.render=Ov.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,f=ai();rS(u,f,a,l,null,null)},ep.prototype.unmount=Ov.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;a.tag===0&&sc(),rS(a.current,2,null,a,null,null),Lf(),l[Ur]=null}};function ep(a){this._internalRoot=a}ep.prototype.unstable_scheduleHydration=function(a){if(a){var l=Ud();a={blockedOn:null,target:a,priority:l};for(var u=0;u<ba.length&&l!==0&&l<ba[u].priority;u++);ba.splice(u,0,a),u===0&&cS(a)}};var dS=e.version;if(dS!=="19.0.0")throw Error(n(527,dS,"19.0.0"));ge.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=ie(l),a=a!==null?ye(a):null,a=a===null?null:a.stateNode,a};var $O={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:ji,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Bs=tp.inject($O),xn=tp}catch{}}return lh.createRoot=function(a,l){if(!r(a))throw Error(n(299));var u=!1,f="",g=RE,_=ME,D=kE,I=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=nS(a,1,!1,null,null,u,f,g,_,D,I,null),a[Ur]=l.current,gv(a.nodeType===8?a.parentNode:a),new Ov(l)},lh.hydrateRoot=function(a,l,u){if(!r(a))throw Error(n(299));var f=!1,g="",_=RE,D=ME,I=kE,B=null,G=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&(G=u.formState)),l=nS(a,1,!0,l,u??null,f,g,_,D,I,B,G),l.context=iS(null),u=l.current,f=ai(),g=ca(f),g.callback=null,ua(u,g,f),l.current.lanes=f,Vt(l,f),gr(l),a[Ur]=l.current,gv(a),new ep(l)},lh.version="19.0.0",lh}var ES;function aP(){if(ES)return Lv.exports;ES=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lv.exports=sP(),Lv.exports}var oP=aP();const lP=xb(oP);var ch={},TS;function cP(){if(TS)return ch;TS=1,Object.defineProperty(ch,"__esModule",{value:!0}),ch.parse=o,ch.serialize=d;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function o(v,b){const E=new s,S=v.length;if(S<2)return E;const x=(b==null?void 0:b.decode)||p;let M=0;do{const L=v.indexOf("=",M);if(L===-1)break;const j=v.indexOf(";",M),W=j===-1?S:j;if(L>W){M=v.lastIndexOf(";",L-1)+1;continue}const H=c(v,M,L),Q=h(v,L,H),O=v.slice(H,Q);if(E[O]===void 0){let C=c(v,L+1,W),A=h(v,W,C);const k=x(v.slice(C,A));E[O]=k}M=W+1}while(M<S);return E}function c(v,b,E){do{const S=v.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<E);return E}function h(v,b,E){for(;b>E;){const S=v.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return E}function d(v,b,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=S(b);if(!e.test(x))throw new TypeError(`argument val is invalid: ${b}`);let M=v+"="+x;if(!E)return M;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);M+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);M+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);M+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);M+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(M+="; HttpOnly"),E.secure&&(M+="; Secure"),E.partitioned&&(M+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return M}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return r.call(v)==="[object Date]"}return ch}cP();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SS="popstate";function uP(i={}){function e(n,r){let{pathname:s,search:o,hash:c}=n.location;return D_("",{pathname:s,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Wh(r)}return dP(e,t,null,i)}function St(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hP(){return Math.random().toString(36).substring(2,10)}function xS(i,e){return{usr:i.state,key:i.key,idx:e}}function D_(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?qc(e):e,state:t,key:e&&e.key||n||hP()}}function Wh({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function qc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function dP(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function y(){c="POP";let x=p(),M=x==null?null:x-d;d=x,h&&h({action:c,location:S.location,delta:M})}function v(x,M){c="PUSH";let L=D_(S.location,x,M);d=p()+1;let j=xS(L,d),W=S.createHref(L);try{o.pushState(j,"",W)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(W)}s&&h&&h({action:c,location:S.location,delta:1})}function b(x,M){c="REPLACE";let L=D_(S.location,x,M);d=p();let j=xS(L,d),W=S.createHref(L);o.replaceState(j,"",W),s&&h&&h({action:c,location:S.location,delta:0})}function E(x){let M=r.location.origin!=="null"?r.location.origin:r.location.href,L=typeof x=="string"?x:Wh(x);return L=L.replace(/ $/,"%20"),St(M,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,M)}let S={get action(){return c},get location(){return i(r,o)},listen(x){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(SS,y),h=x,()=>{r.removeEventListener(SS,y),h=null}},createHref(x){return e(r,x)},createURL:E,encodeLocation(x){let M=E(x);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:b,go(x){return o.go(x)}};return S}function _C(i,e,t="/"){return fP(i,e,t,!1)}function fP(i,e,t,n){let r=typeof e=="string"?qc(e):e,s=Ms(r.pathname||"/",t);if(s==null)return null;let o=bC(i);pP(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=xP(s);c=TP(o[h],d,n)}return c}function bC(i,e=[],t=[],n=""){let r=(s,o,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=Ts([n,h.relativePath]),p=t.concat(h);s.children&&s.children.length>0&&(St(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),bC(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:wP(d,s.index),routesMeta:p})};return i.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))r(s,o);else for(let h of wC(s.path))r(s,o,h)}),e}function wC(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=wC(n.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),r&&c.push(...o),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function pP(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:EP(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var mP=/^:[\w-]+$/,gP=3,yP=2,vP=1,_P=10,bP=-2,DS=i=>i==="*";function wP(i,e){let t=i.split("/"),n=t.length;return t.some(DS)&&(n+=bP),e&&(n+=yP),t.filter(r=>!DS(r)).reduce((r,s)=>r+(mP.test(s)?gP:s===""?vP:_P),n)}function EP(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function TP(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=im({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),v=h.route;if(!y&&d&&t&&!n[n.length-1].route.index&&(y=im({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:Ts([s,y.pathname]),pathnameBase:RP(Ts([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=Ts([s,y.pathnameBase]))}return o}function im(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=SP(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},v)=>{if(p==="*"){let E=c[v]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[v];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:i}}function SP(i,e=!1,t=!0){Gi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function xP(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ms(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function DP(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?qc(i):i;return{pathname:t?t.startsWith("/")?t:AP(t,e):e,search:MP(n),hash:kP(r)}}function AP(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Uv(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CP(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ab(i){let e=CP(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Cb(i,e,t,n=!1){let r;typeof i=="string"?r=qc(i):(r={...i},St(!r.pathname||!r.pathname.includes("?"),Uv("?","pathname","search",r)),St(!r.pathname||!r.pathname.includes("#"),Uv("#","pathname","hash",r)),St(!r.search||!r.search.includes("#"),Uv("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let y=e.length-1;if(!n&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),y-=1;r.pathname=v.join("/")}c=y>=0?e[y]:"/"}let h=DP(r,c),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Ts=i=>i.join("/").replace(/\/\/+/g,"/"),RP=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MP=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kP=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function IP(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var EC=["POST","PUT","PATCH","DELETE"];new Set(EC);var OP=["GET",...EC];new Set(OP);var Wc=F.createContext(null);Wc.displayName="DataRouter";var $m=F.createContext(null);$m.displayName="DataRouterState";var TC=F.createContext({isTransitioning:!1});TC.displayName="ViewTransition";var PP=F.createContext(new Map);PP.displayName="Fetchers";var NP=F.createContext(null);NP.displayName="Await";var Zi=F.createContext(null);Zi.displayName="Navigation";var fd=F.createContext(null);fd.displayName="Location";var Ji=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var Rb=F.createContext(null);Rb.displayName="RouteError";function LP(i,{relative:e}={}){St($c(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=F.useContext(Zi),{hash:r,pathname:s,search:o}=pd(i,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Ts([t,s])),n.createHref({pathname:c,search:o,hash:r})}function $c(){return F.useContext(fd)!=null}function Ls(){return St($c(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(fd).location}var SC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xC(i){F.useContext(Zi).static||F.useLayoutEffect(i)}function eo(){let{isDataRoute:i}=F.useContext(Ji);return i?QP():VP()}function VP(){St($c(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(Wc),{basename:e,navigator:t}=F.useContext(Zi),{matches:n}=F.useContext(Ji),{pathname:r}=Ls(),s=JSON.stringify(Ab(n)),o=F.useRef(!1);return xC(()=>{o.current=!0}),F.useCallback((h,d={})=>{if(Gi(o.current,SC),!o.current)return;if(typeof h=="number"){t.go(h);return}let p=Cb(h,JSON.parse(s),r,d.relative==="path");i==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ts([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,r,i])}F.createContext(null);function FP(){let{matches:i}=F.useContext(Ji),e=i[i.length-1];return e?e.params:{}}function pd(i,{relative:e}={}){let{matches:t}=F.useContext(Ji),{pathname:n}=Ls(),r=JSON.stringify(Ab(t));return F.useMemo(()=>Cb(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function jP(i,e){return DC(i,e)}function DC(i,e,t,n){var L;St($c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=F.useContext(Zi),{matches:o}=F.useContext(Ji),c=o[o.length-1],h=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";AC(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Ls(),b;if(e){let j=typeof e=="string"?qc(e):e;St(p==="/"||((L=j.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=v;let E=b.pathname||"/",S=E;if(p!=="/"){let j=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=!s&&t&&t.matches&&t.matches.length>0?t.matches:_C(i,{pathname:S});Gi(y||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=YP(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Ts([p,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Ts([p,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,n);return e&&M?F.createElement(fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},M):M}function UP(){let i=KP(),e=IP(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:r},t):null,o)}var BP=F.createElement(UP,null),zP=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?F.createElement(Ji.Provider,{value:this.props.routeContext},F.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HP({routeContext:i,match:e,children:t}){let n=F.useContext(Wc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ji.Provider,{value:i},t)}function YP(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let r=i,s=t==null?void 0:t.errors;if(s!=null){let h=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let d=r[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=t,v=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||v){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,d,p)=>{let y,v=!1,b=null,E=null;t&&(y=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||BP,o&&(c<0&&p===0?(AC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):c===p&&(v=!0,E=d.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,p+1)),x=()=>{let M;return y?M=b:v?M=E:d.route.Component?M=F.createElement(d.route.Component,null):d.route.element?M=d.route.element:M=h,F.createElement(HP,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:M})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?F.createElement(zP,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):x()},null)}function Mb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qP(i){let e=F.useContext(Wc);return St(e,Mb(i)),e}function WP(i){let e=F.useContext($m);return St(e,Mb(i)),e}function $P(i){let e=F.useContext(Ji);return St(e,Mb(i)),e}function kb(i){let e=$P(i),t=e.matches[e.matches.length-1];return St(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function GP(){return kb("useRouteId")}function KP(){var n;let i=F.useContext(Rb),e=WP("useRouteError"),t=kb("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function QP(){let{router:i}=qP("useNavigate"),e=kb("useNavigate"),t=F.useRef(!1);return xC(()=>{t.current=!0}),F.useCallback(async(r,s={})=>{Gi(t.current,SC),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var AS={};function AC(i,e,t){!e&&!AS[i]&&(AS[i]=!0,Gi(!1,t))}F.memo(XP);function XP({routes:i,future:e,state:t}){return DC(i,void 0,t,e)}function us({to:i,replace:e,state:t,relative:n}){St($c(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(Zi);Gi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=F.useContext(Ji),{pathname:o}=Ls(),c=eo(),h=Cb(i,Ab(s),o,n==="path"),d=JSON.stringify(h);return F.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:n})},[c,d,n,e,t]),null}function Mi(i){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZP({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1}){St(!$c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=qc(t));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:v="default"}=t,b=F.useMemo(()=>{let E=Ms(h,o);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:v},navigationType:n}},[o,h,d,p,y,v,n]);return Gi(b!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:F.createElement(Zi.Provider,{value:c},F.createElement(fd.Provider,{children:e,value:b}))}function JP({children:i,location:e}){return jP(A_(i),e)}function A_(i,e=[]){let t=[];return F.Children.forEach(i,(n,r)=>{if(!F.isValidElement(n))return;let s=[...e,r];if(n.type===F.Fragment){t.push.apply(t,A_(n.props.children,s));return}St(n.type===Mi,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=A_(n.props.children,s)),t.push(o)}),t}var kp="get",Ip="application/x-www-form-urlencoded";function Gm(i){return i!=null&&typeof i.tagName=="string"}function eN(i){return Gm(i)&&i.tagName.toLowerCase()==="button"}function tN(i){return Gm(i)&&i.tagName.toLowerCase()==="form"}function nN(i){return Gm(i)&&i.tagName.toLowerCase()==="input"}function iN(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rN(i,e){return i.button===0&&(!e||e==="_self")&&!iN(i)}var np=null;function sN(){if(np===null)try{new FormData(document.createElement("form"),0),np=!1}catch{np=!0}return np}var aN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bv(i){return i!=null&&!aN.has(i)?(Gi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ip}"`),null):i}function oN(i,e){let t,n,r,s,o;if(tN(i)){let c=i.getAttribute("action");n=c?Ms(c,e):null,t=i.getAttribute("method")||kp,r=Bv(i.getAttribute("enctype"))||Ip,s=new FormData(i)}else if(eN(i)||nN(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?Ms(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||kp,r=Bv(i.getAttribute("formenctype"))||Bv(c.getAttribute("enctype"))||Ip,s=new FormData(c,i),!sN()){let{name:d,type:p,value:y}=i;if(p==="image"){let v=d?`${d}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else d&&s.append(d,y)}}else{if(Gm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kp,n=null,r=Ip,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:o}}function Ib(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function lN(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cN(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function uN(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await lN(s,t);return o.links?o.links():[]}return[]}));return pN(n.flat(1).filter(cN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function CS(i,e,t,n,r,s){let o=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var p;return t[d].pathname!==h.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):s==="data"?e.filter((h,d)=>{var y;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function hN(i,e,{includeHydrateFallback:t}={}){return dN(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function dN(i){return[...new Set(i)]}function fN(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function pN(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(fN(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}function mN(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Ms(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function CC(){let i=F.useContext(Wc);return Ib(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gN(){let i=F.useContext($m);return Ib(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ob=F.createContext(void 0);Ob.displayName="FrameworkContext";function RC(){let i=F.useContext(Ob);return Ib(i,"You must render this element inside a <HydratedRouter> element"),i}function yN(i,e){let t=F.useContext(Ob),[n,r]=F.useState(!1),[s,o]=F.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,v=F.useRef(null);F.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let S=M=>{M.forEach(L=>{o(L.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[i]),F.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{r(!0)},E=()=>{r(!1),o(!1)};return t?i!=="intent"?[s,v,{}]:[s,v,{onFocus:uh(c,b),onBlur:uh(h,E),onMouseEnter:uh(d,b),onMouseLeave:uh(p,E),onTouchStart:uh(y,b)}]:[!1,v,{}]}function uh(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function vN({page:i,...e}){let{router:t}=CC(),n=F.useMemo(()=>_C(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?F.createElement(bN,{page:i,matches:n,...e}):null}function _N(i){let{manifest:e,routeModules:t}=RC(),[n,r]=F.useState([]);return F.useEffect(()=>{let s=!1;return uN(i,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[i,e,t]),n}function bN({page:i,matches:e,...t}){let n=Ls(),{manifest:r,routeModules:s}=RC(),{basename:o}=CC(),{loaderData:c,matches:h}=gN(),d=F.useMemo(()=>CS(i,e,h,r,n,"data"),[i,e,h,r,n]),p=F.useMemo(()=>CS(i,e,h,r,n,"assets"),[i,e,h,r,n]),y=F.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let E=new Set,S=!1;if(e.forEach(M=>{var j;let L=r.routes[M.route.id];!L||!L.hasLoader||(!d.some(W=>W.route.id===M.route.id)&&M.route.id in c&&((j=s[M.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?S=!0:E.add(M.route.id))}),E.size===0)return[];let x=mN(i,o);return S&&E.size>0&&x.searchParams.set("_routes",e.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[x.pathname+x.search]},[o,c,n,r,d,e,i,s]),v=F.useMemo(()=>hN(p,r),[p,r]),b=_N(p);return F.createElement(F.Fragment,null,y.map(E=>F.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>F.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:S})=>F.createElement("link",{key:E,...S})))}function wN(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MC&&(window.__reactRouterVersion="7.3.0")}catch{}function EN({basename:i,children:e,window:t}){let n=F.useRef();n.current==null&&(n.current=uP({window:t,v5Compat:!0}));let r=n.current,[s,o]=F.useState({action:r.action,location:r.location}),c=F.useCallback(h=>{F.startTransition(()=>o(h))},[o]);return F.useLayoutEffect(()=>r.listen(c),[r,c]),F.createElement(ZP,{basename:i,children:e,location:s.location,navigationType:s.action,navigator:r})}var kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$o=F.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,...v},b){let{basename:E}=F.useContext(Zi),S=typeof d=="string"&&kC.test(d),x,M=!1;if(typeof d=="string"&&S&&(x=d,MC))try{let A=new URL(window.location.href),k=d.startsWith("//")?new URL(A.protocol+d):new URL(d),V=Ms(k.pathname,E);k.origin===A.origin&&V!=null?d=V+k.search+k.hash:M=!0}catch{Gi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=LP(d,{relative:r}),[j,W,H]=yN(n,v),Q=DN(d,{replace:o,state:c,target:h,preventScrollReset:p,relative:r,viewTransition:y});function O(A){e&&e(A),A.defaultPrevented||Q(A)}let C=F.createElement("a",{...v,...H,href:x||L,onClick:M||s?e:O,ref:wN(b,W),target:h,"data-discover":!S&&t==="render"?"true":void 0});return j&&!S?F.createElement(F.Fragment,null,C,F.createElement(vN,{page:L})):C});$o.displayName="Link";var TN=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:h,...d},p){let y=pd(o,{relative:d.relative}),v=Ls(),b=F.useContext($m),{navigator:E,basename:S}=F.useContext(Zi),x=b!=null&&kN(y)&&c===!0,M=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,L=v.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(L=L.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&S&&(j=Ms(j,S)||j);const W=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=L===M||!r&&L.startsWith(M)&&L.charAt(W)==="/",Q=j!=null&&(j===M||!r&&j.startsWith(M)&&j.charAt(M.length)==="/"),O={isActive:H,isPending:Q,isTransitioning:x},C=H?e:void 0,A;typeof n=="function"?A=n(O):A=[n,H?"active":null,Q?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(O):s;return F.createElement($o,{...d,"aria-current":C,className:A,ref:p,style:k,to:o,viewTransition:c},typeof h=="function"?h(O):h)});TN.displayName="NavLink";var SN=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:o=kp,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,...v},b)=>{let E=RN(),S=MN(c,{relative:d}),x=o.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&kC.test(c),L=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let W=j.nativeEvent.submitter,H=(W==null?void 0:W.getAttribute("formmethod"))||o;E(W||j.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:r,state:s,relative:d,preventScrollReset:p,viewTransition:y})};return F.createElement("form",{ref:b,method:x,action:S,onSubmit:n?h:L,...v,"data-discover":!M&&i==="render"?"true":void 0})});SN.displayName="Form";function xN(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IC(i){let e=F.useContext(Wc);return St(e,xN(i)),e}function DN(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=eo(),h=Ls(),d=pd(i,{relative:s});return F.useCallback(p=>{if(rN(p,e)){p.preventDefault();let y=t!==void 0?t:Wh(h)===Wh(d);c(i,{replace:y,state:n,preventScrollReset:r,relative:s,viewTransition:o})}},[h,c,d,t,n,e,i,r,s,o])}var AN=0,CN=()=>`__${String(++AN)}__`;function RN(){let{router:i}=IC("useSubmit"),{basename:e}=F.useContext(Zi),t=GP();return F.useCallback(async(n,r={})=>{let{action:s,method:o,encType:c,formData:h,body:d}=oN(n,e);if(r.navigate===!1){let p=r.fetcherKey||CN();await i.fetch(p,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await i.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function MN(i,{relative:e}={}){let{basename:t}=F.useContext(Zi),n=F.useContext(Ji);St(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...pd(i||".",{relative:e})},o=Ls();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();s.search=p?`?${p}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ts([t,s.pathname])),Wh(s)}function kN(i,e={}){let t=F.useContext(TC);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=IC("useViewTransitionState"),r=pd(i,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ms(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ms(t.nextLocation.pathname,n)||t.nextLocation.pathname;return im(r.pathname,o)!=null||im(r.pathname,s)!=null}new TextEncoder;var OC=vC();const IN=xb(OC),ON=()=>{};var RS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},PN=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],c=i[t++],h=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,c=o?i[r+1]:0,h=r+2<i.length,d=h?i[r+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,b=d&63;h||(b=64,o||(v=64)),n.push(t[p],t[y],t[v],t[b])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(PC(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PN(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],c=r<i.length?t[i.charAt(r)]:0;++r;const d=r<i.length?t[i.charAt(r)]:64;++r;const y=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||c==null||d==null||y==null)throw new NN;const v=s<<2|c>>4;if(n.push(v),d!==64){const b=c<<4&240|d>>2;if(n.push(b),y!==64){const E=d<<6&192|y;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class NN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LN=function(i){const e=PC(i);return NC.encodeByteArray(e,!0)},rm=function(i){return LN(i).replace(/\./g,"")},LC=function(i){try{return NC.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=()=>VN().__FIREBASE_DEFAULTS__,jN=()=>{if(typeof process>"u"||typeof RS>"u")return;const i=RS.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UN=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&LC(i[1]);return e&&JSON.parse(e)},Km=()=>{try{return ON()||FN()||jN()||UN()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VC=i=>{var e,t;return(t=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},BN=i=>{const e=VC(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},FC=()=>{var i;return(i=Km())===null||i===void 0?void 0:i.config},jC=i=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},i);return[rm(JSON.stringify(t)),rm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function qN(){var i;const e=(i=Km())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function $N(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GN(){const i=On();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function KN(){return!qN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BC(){try{return typeof indexedDB=="object"}catch{return!1}}function zC(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function QN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="FirebaseError";class er extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=XN,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?ZN(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new er(r,c,n)}}function ZN(i,e){return i.replace(JN,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const JN=/\{\$([^}]+)}/g;function e2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ba(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(MS(s)&&MS(o)){if(!Ba(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function MS(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function bh(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function wh(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function t2(i,e){const t=new n2(i,e);return t.subscribe.bind(t)}class n2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=zv),r.error===void 0&&(r.error=zv),r.complete===void 0&&(r.complete=zv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function zv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e3,s2=2,a2=4*60*60*1e3,o2=.5;function kS(i,e=r2,t=s2){const n=e*Math.pow(t,i),r=Math.round(o2*n*(Math.random()-.5)*2);return Math.min(a2,n+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(i){return i&&i._delegate?i._delegate:i}class Ki{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new zN;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u2(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:c2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c2(i){return i===Ho?void 0:i}function u2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const d2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},f2=Be.INFO,p2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},m2=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=p2[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=m2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const g2=(i,e)=>e.some(t=>i instanceof t);let IS,OS;function y2(){return IS||(IS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v2(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HC=new WeakMap,C_=new WeakMap,YC=new WeakMap,Hv=new WeakMap,Pb=new WeakMap;function _2(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Pa(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&HC.set(t,i)}).catch(()=>{}),Pb.set(e,i),e}function b2(i){if(C_.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});C_.set(i,e)}let R_={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return C_.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YC.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pa(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function w2(i){R_=i(R_)}function E2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Yv(this),e,...t);return YC.set(n,e.sort?e.sort():[e]),Pa(n)}:v2().includes(i)?function(...e){return i.apply(Yv(this),e),Pa(HC.get(this))}:function(...e){return Pa(i.apply(Yv(this),e))}}function T2(i){return typeof i=="function"?E2(i):(i instanceof IDBTransaction&&b2(i),g2(i,y2())?new Proxy(i,R_):i)}function Pa(i){if(i instanceof IDBRequest)return _2(i);if(Hv.has(i))return Hv.get(i);const e=T2(i);return e!==i&&(Hv.set(i,e),Pb.set(e,i)),e}const Yv=i=>Pb.get(i);function qC(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),c=Pa(o);return n&&o.addEventListener("upgradeneeded",h=>{n(Pa(o.result),h.oldVersion,h.newVersion,Pa(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const S2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],qv=new Map;function PS(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qv.get(e))return qv.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=x2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||S2.includes(t)))return;const s=async function(o,...c){const h=this.transaction(o,r?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&h.done]))[0]};return qv.set(e,s),s}w2(i=>({...i,get:(e,t,n)=>PS(e,t)||i.get(e,t,n),has:(e,t)=>!!PS(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(A2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function A2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M_="@firebase/app",NS="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Qm("@firebase/app"),C2="@firebase/app-compat",R2="@firebase/analytics-compat",M2="@firebase/analytics",k2="@firebase/app-check-compat",I2="@firebase/app-check",O2="@firebase/auth",P2="@firebase/auth-compat",N2="@firebase/database",L2="@firebase/data-connect",V2="@firebase/database-compat",F2="@firebase/functions",j2="@firebase/functions-compat",U2="@firebase/installations",B2="@firebase/installations-compat",z2="@firebase/messaging",H2="@firebase/messaging-compat",Y2="@firebase/performance",q2="@firebase/performance-compat",W2="@firebase/remote-config",$2="@firebase/remote-config-compat",G2="@firebase/storage",K2="@firebase/storage-compat",Q2="@firebase/firestore",X2="@firebase/vertexai",Z2="@firebase/firestore-compat",J2="firebase",eL="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="[DEFAULT]",tL={[M_]:"fire-core",[C2]:"fire-core-compat",[M2]:"fire-analytics",[R2]:"fire-analytics-compat",[I2]:"fire-app-check",[k2]:"fire-app-check-compat",[O2]:"fire-auth",[P2]:"fire-auth-compat",[N2]:"fire-rtdb",[L2]:"fire-data-connect",[V2]:"fire-rtdb-compat",[F2]:"fire-fn",[j2]:"fire-fn-compat",[U2]:"fire-iid",[B2]:"fire-iid-compat",[z2]:"fire-fcm",[H2]:"fire-fcm-compat",[Y2]:"fire-perf",[q2]:"fire-perf-compat",[W2]:"fire-rc",[$2]:"fire-rc-compat",[G2]:"fire-gcs",[K2]:"fire-gcs-compat",[Q2]:"fire-fst",[Z2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=new Map,nL=new Map,I_=new Map;function LS(i,e){try{i.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ir(i){const e=i.name;if(I_.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;I_.set(e,i);for(const t of sm.values())LS(t,i);for(const t of nL.values())LS(t,i);return!0}function gl(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new ml("app","Firebase",iL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=eL;function WC(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n=Object.assign({name:k_,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Na.create("bad-app-name",{appName:String(r)});if(t||(t=FC()),!t)throw Na.create("no-options");const s=sm.get(r);if(s){if(Ba(t,s.options)&&Ba(n,s.config))return s;throw Na.create("duplicate-app",{appName:r})}const o=new h2(r);for(const h of I_.values())o.addComponent(h);const c=new rL(t,n,o);return sm.set(r,c),c}function Nb(i=k_){const e=sm.get(i);if(!e&&i===k_&&FC())return WC();if(!e)throw Na.create("no-app",{appName:i});return e}function Ni(i,e,t){var n;let r=(n=tL[i])!==null&&n!==void 0?n:i;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}Ir(new Ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="firebase-heartbeat-database",aL=1,$h="firebase-heartbeat-store";let Wv=null;function $C(){return Wv||(Wv=qC(sL,aL,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($h)}catch(t){console.warn(t)}}}}).catch(i=>{throw Na.create("idb-open",{originalErrorMessage:i.message})})),Wv}async function oL(i){try{const t=(await $C()).transaction($h),n=await t.objectStore($h).get(GC(i));return await t.done,n}catch(e){if(e instanceof er)ks.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function VS(i,e){try{const n=(await $C()).transaction($h,"readwrite");await n.objectStore($h).put(e,GC(i)),await n.done}catch(t){if(t instanceof er)ks.warn(t.message);else{const n=Na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(n.message)}}}function GC(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=1024,cL=30;class uL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dL(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=FS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>cL){const o=fL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FS(),{heartbeatsToSend:n,unsentEntries:r}=hL(this._heartbeatsCache.heartbeats),s=rm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ks.warn(t),""}}}function FS(){return new Date().toISOString().substring(0,10)}function hL(i,e=lL){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),jS(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),jS(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BC()?zC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return VS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jS(i){return rm(JSON.stringify({version:2,heartbeats:i})).length}function fL(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(i){Ir(new Ki("platform-logger",e=>new D2(e),"PRIVATE")),Ir(new Ki("heartbeat",e=>new uL(e),"PRIVATE")),Ni(M_,NS,i),Ni(M_,NS,"esm2017"),Ni("fire-js","")}pL("");function Lb(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(t[n[r]]=i[n[r]]);return t}function KC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mL=KC,QC=new ml("auth","Firebase",KC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Qm("@firebase/auth");function gL(i,...e){am.logLevel<=Be.WARN&&am.warn(`Auth (${Gc}): ${i}`,...e)}function Op(i,...e){am.logLevel<=Be.ERROR&&am.error(`Auth (${Gc}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(i,...e){throw Fb(i,...e)}function qi(i,...e){return Fb(i,...e)}function Vb(i,e,t){const n=Object.assign(Object.assign({},mL()),{[e]:t});return new ml("auth","Firebase",n).create(e,{appName:i.name})}function xr(i){return Vb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XC(i,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Li(i,"argument-error"),Vb(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fb(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return QC.create(i,...e)}function Ce(i,e,...t){if(!i)throw Fb(e,...t)}function gs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Op(e),new Error(e)}function Is(i,e){i||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function yL(){return US()==="http:"||US()==="https:"}function US(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yL()||UC()||"connection"in navigator)?navigator.onLine:!0}function _L(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Is(t>e,"Short delay should be less than long delay!"),this.isMobile=YN()||$N()}get(){return vL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i,e){Is(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new gd(3e4,6e4);function to(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function no(i,e,t,n,r={}){return JC(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=md(Object.assign({key:i.config.apiKey},o)).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const d=Object.assign({method:e,headers:h},s);return WN()||(d.referrerPolicy="no-referrer"),ZC.fetch()(eR(i,i.config.apiHost,t,c),d)})}async function JC(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},bL),e);try{const r=new TL(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ip(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(i,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw ip(i,"email-already-in-use",o);if(h==="USER_DISABLED")throw ip(i,"user-disabled",o);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vb(i,p,d);Li(i,p)}}catch(r){if(r instanceof er)throw r;Li(i,"network-request-failed",{message:String(r)})}}async function yd(i,e,t,n,r={}){const s=await no(i,e,t,n,r);return"mfaPendingCredential"in s&&Li(i,"multi-factor-auth-required",{_serverResponse:s}),s}function eR(i,e,t,n){const r=`${e}${t}?${n}`;return i.config.emulator?jb(i.config,r):`${i.config.apiScheme}://${r}`}function EL(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(qi(this.auth,"network-request-failed")),wL.get())})}}function ip(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=qi(i,e,n);return r.customData._tokenResponse=t,r}function BS(i){return i!==void 0&&i.enterprise!==void 0}class SL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xL(i,e){return no(i,"GET","/v2/recaptchaConfig",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(i,e){return no(i,"POST","/v1/accounts:delete",e)}async function tR(i,e){return no(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AL(i,e=!1){const t=Ht(i),n=await t.getIdToken(e),r=Ub(n);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:n,authTime:Ph($v(r.auth_time)),issuedAtTime:Ph($v(r.iat)),expirationTime:Ph($v(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function $v(i){return Number(i)*1e3}function Ub(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return Op("JWT malformed, contained fewer than 3 sections"),null;try{const r=LC(t);return r?JSON.parse(r):(Op("Failed to decode base64 JWT payload"),null)}catch(r){return Op("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function zS(i){const e=Ub(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof er&&CL(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function CL({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ph(this.lastLoginAt),this.creationTime=Ph(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(i){var e;const t=i.auth,n=await i.getIdToken(),r=await Gh(i,tR(t,{idToken:n}));Ce(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];i._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nR(s.providerUserInfo):[],c=kL(i.providerData,o),h=i.isAnonymous,d=!(i.email&&s.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new P_(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(i,y)}async function ML(i){const e=Ht(i);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kL(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function nR(i){return i.map(e=>{var{providerId:t}=e,n=Lb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(i,e){const t=await JC(i,{},async()=>{const n=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=eR(i,r,"/v1/token",`key=${s}`),c=await i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ZC.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OL(i,e){return no(i,"POST","/v2/accounts:revokeToken",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=zS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await IL(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new bc;return n&&(Ce(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=Lb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Gh(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AL(this,e)}reload(){return ML(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await om(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Gh(this,DL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,o,c,h,d,p;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(c=t.tenantId)!==null&&c!==void 0?c:void 0,x=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,M=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:j,emailVerified:W,isAnonymous:H,providerData:Q,stsTokenManager:O}=t;Ce(j&&O,e,"internal-error");const C=bc.fromJSON(this.name,O);Ce(typeof j=="string",e,"internal-error"),Ea(y,e.name),Ea(v,e.name),Ce(typeof W=="boolean",e,"internal-error"),Ce(typeof H=="boolean",e,"internal-error"),Ea(b,e.name),Ea(E,e.name),Ea(S,e.name),Ea(x,e.name),Ea(M,e.name),Ea(L,e.name);const A=new ys({uid:j,auth:e,email:v,emailVerified:W,displayName:y,isAnonymous:H,photoURL:E,phoneNumber:b,tenantId:S,stsTokenManager:C,createdAt:M,lastLoginAt:L});return Q&&Array.isArray(Q)&&(A.providerData=Q.map(k=>Object.assign({},k))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,t,n=!1){const r=new bc;r.updateFromServerResponse(t);const s=new ys({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await om(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?nR(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),c=new bc;c.updateFromIdToken(n);const h=new ys({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new P_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;function vs(i){Is(i instanceof Function,"Expected a class definition");let e=HS.get(i);return e?(Is(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,HS.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iR.type="NONE";const YS=iR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i,e,t){return`firebase:${i}:${e}:${t}`}class wc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Pp(this.userKey,r.apiKey,s),this.fullPersistenceKey=Pp("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new wc(vs(YS),e,n);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||vs(YS);const o=Pp(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(o);if(p){const y=ys._fromJSON(e,p);d!==s&&(c=y),s=d;break}}catch{}const h=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new wc(s,e,n):(s=h[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new wc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cR(e))return"Blackberry";if(uR(e))return"Webos";if(sR(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(lR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function rR(i=On()){return/firefox\//i.test(i)}function sR(i=On()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(i=On()){return/crios\//i.test(i)}function oR(i=On()){return/iemobile/i.test(i)}function lR(i=On()){return/android/i.test(i)}function cR(i=On()){return/blackberry/i.test(i)}function uR(i=On()){return/webos/i.test(i)}function Bb(i=On()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function PL(i=On()){var e;return Bb(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NL(){return GN()&&document.documentMode===10}function hR(i=On()){return Bb(i)||lR(i)||uR(i)||cR(i)||/windows phone/i.test(i)||oR(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i,e=[]){let t;switch(i){case"Browser":t=qS(On());break;case"Worker":t=`${qS(On())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,c)=>{try{const h=e(s);o(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(i,e={}){return no(i,"GET","/v2/passwordPolicy",to(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=6;class jL{constructor(e){var t,n,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:FL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,o,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsNumericCharacter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WS(this),this.idTokenSubscription=new WS(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vs(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tR(this,{idToken:e}),n=await ys._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&(h!=null&&h.user)&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_L()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(xr(this));const t=e?Ht(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VL(this),t=new jL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await OL(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vs(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await wc.create(this,[vs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,r);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Nr(i){return Ht(i)}class WS{constructor(e){this.auth=e,this.observer=null,this.addObserver=t2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BL(i){Xm=i}function fR(i){return Xm.loadJS(i)}function zL(){return Xm.recaptchaEnterpriseScript}function HL(){return Xm.gapiScript}function YL(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class qL{constructor(){this.enterprise=new WL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $L="recaptcha-enterprise",pR="NO_RECAPTCHA";class GL{constructor(e){this.type=$L,this.auth=Nr(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{xL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new SL(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function r(s,o,c){const h=window.grecaptcha;BS(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(pR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!t&&BS(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=zL();h.length!==0&&(h+=c),fR(h).then(()=>{r(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function $S(i,e,t,n=!1,r=!1){const s=new GL(i);let o;if(r)o=pR;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function N_(i,e,t,n,r){var s;if(!((s=i._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $S(i,e,t,t==="getOobCode");return n(i,o)}else return n(i,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $S(i,e,t,t==="getOobCode");return n(i,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(i,e){const t=gl(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Ba(s,e??{}))return r;Li(r,"already-initialized")}return t.initialize({options:e})}function QL(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(vs);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function XL(i,e,t){const n=Nr(i);Ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=mR(e),{host:o,port:c}=ZL(e),h=c===null?"":`:${c}`,d={url:`${s}//${o}${h}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){Ce(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ce(Ba(d,n.config.emulator)&&Ba(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,JL()}function mR(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ZL(i){const e=mR(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:GS(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:GS(o)}}}function GS(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function JL(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,t){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function eV(i,e){return no(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(i,e){return yd(i,"POST","/v1/accounts:signInWithPassword",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(i,e){return yd(i,"POST","/v1/accounts:signInWithEmailLink",to(i,e))}async function iV(i,e){return yd(i,"POST","/v1/accounts:signInWithEmailLink",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends zb{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Kh(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Kh(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,t,"signInWithPassword",tV);case"emailLink":return nV(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return N_(e,n,"signUpPassword",eV);case"emailLink":return iV(e,{idToken:t,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(i,e){return yd(i,"POST","/v1/accounts:signInWithIdp",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="http://localhost";class rl extends zb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=Lb(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new rl(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ec(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ec(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ec(e,t)}buildRequest(){const e={requestUri:rV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=md(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aV(i){const e=bh(wh(i)).link,t=e?bh(wh(e)).deep_link_id:null,n=bh(wh(i)).deep_link_id;return(n?bh(wh(n)).link:null)||n||t||e||i}class Hb{constructor(e){var t,n,r,s,o,c;const h=bh(wh(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,p=(n=h.oobCode)!==null&&n!==void 0?n:null,y=sV((r=h.mode)!==null&&r!==void 0?r:null);Ce(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=h.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=aV(e);try{return new Hb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,t){return Kh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Hb.parseLink(t);return Ce(n,"argument-error"),Kh._fromEmailAndCode(e,n.code,n.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends vd{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xa.credential(e.oauthAccessToken)}catch{return null}}}xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rl._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ms.credential(t,n)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends vd{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends vd{constructor(){super("twitter.com")}static credential(e,t){return rl._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Aa.credential(t,n)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(i,e){return yd(i,"POST","/v1/accounts:signUp",to(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await ys._fromIdTokenResponse(e,n,r),o=KS(n);return new sl({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=KS(n);return new sl({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function KS(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm extends er{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,lm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new lm(e,t,n,r)}}function gR(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lm._fromErrorAndOperation(i,s,e,n):s})}async function lV(i,e,t=!1){const n=await Gh(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return sl._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(i,e,t=!1){const{auth:n}=i;if(Kn(n.app))return Promise.reject(xr(n));const r="reauthenticate";try{const s=await Gh(i,gR(n,r,e,i),t);Ce(s.idToken,n,"internal-error");const o=Ub(s.idToken);Ce(o,n,"internal-error");const{sub:c}=o;return Ce(i.uid===c,n,"user-mismatch"),sl._forOperation(i,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Li(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e,t=!1){if(Kn(i.app))return Promise.reject(xr(i));const n="signIn",r=await gR(i,n,e),s=await sl._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function uV(i,e){return yR(Nr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i){const e=Nr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hV(i,e,t){if(Kn(i.app))return Promise.reject(xr(i));const n=Nr(i),o=await N_(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oV).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&vR(i),h}),c=await sl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function dV(i,e,t){return Kn(i.app)?Promise.reject(xr(i)):uV(Ht(i),Kc.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&vR(i),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(i,e){return Ht(i).setPersistence(e)}function pV(i,e,t,n){return Ht(i).onIdTokenChanged(e,t,n)}function mV(i,e,t){return Ht(i).beforeAuthStateChanged(e,t)}function gV(i,e,t,n){return Ht(i).onAuthStateChanged(e,t,n)}function L_(i){return Ht(i).signOut()}const cm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cm,"1"),this.storage.removeItem(cm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=1e3,vV=10;class bR extends _R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);NL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,vV):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},yV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bR.type="LOCAL";const wR=bR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends _R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ER.type="SESSION";const TR=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new Jm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(o).map(async d=>d(t.origin,s)),h=await _V(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,h)=>{const d=Yb("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(y){const v=y;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function wV(i){Dr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function EV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TV(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function SV(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebaseLocalStorageDb",xV=1,um="firebaseLocalStorage",DR="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eg(i,e){return i.transaction([um],e?"readwrite":"readonly").objectStore(um)}function DV(){const i=indexedDB.deleteDatabase(xR);return new _d(i).toPromise()}function V_(){const i=indexedDB.open(xR,xV);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(um,{keyPath:DR})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(um)?e(n):(n.close(),await DV(),e(await V_()))})})}async function QS(i,e,t){const n=eg(i,!0).put({[DR]:e,value:t});return new _d(n).toPromise()}async function AV(i,e){const t=eg(i,!1).get(e),n=await new _d(t).toPromise();return n===void 0?null:n.value}function XS(i,e){const t=eg(i,!0).delete(e);return new _d(t).toPromise()}const CV=800,RV=3;class AR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V_(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>RV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jm._getInstance(SV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await EV(),!this.activeServiceWorker)return;this.sender=new bV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V_();return await QS(e,cm,"1"),await XS(e,cm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QS(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>AV(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=eg(r,!1).getAll();return new _d(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AR.type="LOCAL";const MV=AR;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i,e){return e?vs(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends zb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kV(i){return yR(i.auth,new Wb(i),i.bypassAuthState)}function IV(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),cV(t,new Wb(i),i.bypassAuthState)}async function OV(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),lV(t,new Wb(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kV;case"linkViaPopup":case"linkViaRedirect":return OV;case"reauthViaPopup":case"reauthViaRedirect":return IV;default:Li(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new gd(2e3,1e4);async function NV(i,e,t){if(Kn(i.app))return Promise.reject(qi(i,"operation-not-supported-in-this-environment"));const n=Nr(i);XC(i,e,Zm);const r=qb(n,t);return new Go(n,"signInViaPopup",e,r).executeNotNull()}class Go extends CR{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=Yb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PV.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="pendingRedirect",Np=new Map;class VV extends CR{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Np.get(this.auth._key());if(!e){try{const n=await FV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FV(i,e){const t=MR(e),n=RR(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}async function jV(i,e){return RR(i)._set(MR(e),"true")}function UV(i,e){Np.set(i._key(),e)}function RR(i){return vs(i._redirectPersistence)}function MR(i){return Pp(LV,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(i,e,t){return zV(i,e,t)}async function zV(i,e,t){if(Kn(i.app))return Promise.reject(xr(i));const n=Nr(i);XC(i,e,Zm),await n._initializationPromise;const r=qb(n,t);return await jV(r,n),r._openRedirect(n,e,"signInViaRedirect")}async function HV(i,e){return await Nr(i)._initializationPromise,kR(i,e,!1)}async function kR(i,e,t=!1){if(Kn(i.app))return Promise.reject(xr(i));const n=Nr(i),r=qb(n,e),o=await new VV(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=10*60*1e3;class qV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!IR(e)){const r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(qi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZS(e))}saveEventToCache(e){this.cachedEventUids.add(ZS(e)),this.lastProcessedEventTime=Date.now()}}function ZS(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function IR({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WV(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(i,e={}){return no(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KV=/^https?/;async function QV(i){if(i.config.emulator)return;const{authorizedDomains:e}=await $V(i);for(const t of e)try{if(XV(t))return}catch{}Li(i,"unauthorized-domain")}function XV(i){const e=O_(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!KV.test(t))return!1;if(GV.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new gd(3e4,6e4);function JS(){const i=Dr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function JV(i){return new Promise((e,t)=>{var n,r,s;function o(){JS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JS(),t(qi(i,"network-request-failed"))},timeout:ZV.get()})}if(!((r=(n=Dr().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Dr().gapi)===null||s===void 0)&&s.load)o();else{const c=YL("iframefcb");return Dr()[c]=()=>{gapi.load?o():t(qi(i,"network-request-failed"))},fR(`${HL()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function eF(i){return Lp=Lp||JV(i),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new gd(5e3,15e3),nF="__/auth/iframe",iF="emulator/auth/iframe",rF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aF(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?jb(e,iF):`https://${i.config.authDomain}/${nF}`,n={apiKey:e.apiKey,appName:i.name,v:Gc},r=sF.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${md(n).slice(1)}`}async function oF(i){const e=await eF(i),t=Dr().gapi;return Ce(t,i,"internal-error"),e.open({where:document.body,url:aF(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rF,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=qi(i,"network-request-failed"),c=Dr().setTimeout(()=>{s(o)},tF.get());function h(){Dr().clearTimeout(c),r(n)}n.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,uF=600,hF="_blank",dF="http://localhost";class ex{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fF(i,e,t,n=cF,r=uF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},lF),{width:n.toString(),height:r.toString(),top:s,left:o}),d=On().toLowerCase();t&&(c=aR(d)?hF:t),rR(d)&&(e=e||dF,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[b,E])=>`${v}${b}=${E},`,"");if(PL(d)&&c!=="_self")return pF(e||"",c),new ex(null);const y=window.open(e||"",c,p);Ce(y,i,"popup-blocked");try{y.focus()}catch{}return new ex(y)}function pF(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="__/auth/handler",gF="emulator/auth/handler",yF=encodeURIComponent("fac");async function tx(i,e,t,n,r,s){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Gc,eventId:r};if(e instanceof Zm){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",e2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(e instanceof vd){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}i.tenantId&&(o.tid=i.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await i._getAppCheckToken(),d=h?`#${yF}=${encodeURIComponent(h)}`:"";return`${vF(i)}?${md(c).slice(1)}${d}`}function vF({config:i}){return i.emulator?jb(i,gF):`https://${i.authDomain}/${mF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class _F{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TR,this._completeRedirectFn=kR,this._overrideRedirectResult=UV}async _openPopup(e,t,n,r){var s;Is((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tx(e,t,n,O_(),r);return fF(e,o,Yb())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await tx(e,t,n,O_(),r);return wV(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Is(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await oF(e),n=new qV(e);return t.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gv,{type:Gv},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Gv];o!==void 0&&t(!!o),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hR()||sR()||Bb()}}const bF=_F;var nx="@firebase/auth",ix="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TF(i){Ir(new Ki("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dR(i)},d=new UL(n,r,s,h);return QL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ir(new Ki("auth-internal",e=>{const t=Nr(e.getProvider("auth").getImmediate());return(n=>new wF(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(nx,ix,EF(i)),Ni(nx,ix,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=5*60,xF=jC("authIdTokenMaxAge")||SF;let rx=null;const DF=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>xF)return;const r=t==null?void 0:t.token;rx!==r&&(rx=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function AF(i=Nb()){const e=gl(i,"auth");if(e.isInitialized())return e.getImmediate();const t=KL(i,{popupRedirectResolver:bF,persistence:[MV,wR,TR]}),n=jC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=DF(s.toString());mV(t,o,()=>o(t.currentUser)),pV(t,c=>o(c))}}const r=VC("auth");return r&&XL(t,`http://${r}`),t}function CF(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}BL({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=qi("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",CF().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TF("Browser");var RF="firebase",MF="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(RF,MF,"app");const OR="@firebase/installations",$b="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1e4,NR=`w:${$b}`,LR="FIS_v2",kF="https://firebaseinstallations.googleapis.com/v1",IF=60*60*1e3,OF="installations",PF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},al=new ml(OF,PF,NF);function VR(i){return i instanceof er&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR({projectId:i}){return`${kF}/projects/${i}/installations`}function jR(i){return{token:i.token,requestStatus:2,expiresIn:VF(i.expiresIn),creationTime:Date.now()}}async function UR(i,e){const n=(await e.json()).error;return al.create("request-failed",{requestName:i,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function BR({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function LF(i,{refreshToken:e}){const t=BR(i);return t.append("Authorization",FF(e)),t}async function zR(i){const e=await i();return e.status>=500&&e.status<600?i():e}function VF(i){return Number(i.replace("s","000"))}function FF(i){return`${LR} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const n=FR(i),r=BR(i),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={fid:t,authVersion:LR,appId:i.appId,sdkVersion:NR},c={method:"POST",headers:r,body:JSON.stringify(o)},h=await zR(()=>fetch(n,c));if(h.ok){const d=await h.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:jR(d.authToken)}}else throw await UR("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^[cdef][\w-]{21}$/,F_="";function zF(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=HF(i);return BF.test(t)?t:F_}catch{return F_}}function HF(i){return UF(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Map;function qR(i,e){const t=tg(i);WR(t,e),YF(t,e)}function WR(i,e){const t=YR.get(i);if(t)for(const n of t)n(e)}function YF(i,e){const t=qF();t&&t.postMessage({key:i,fid:e}),WF()}let Ko=null;function qF(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=i=>{WR(i.data.key,i.data.fid)}),Ko}function WF(){YR.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebase-installations-database",GF=1,ol="firebase-installations-store";let Kv=null;function Gb(){return Kv||(Kv=qC($F,GF,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ol)}}})),Kv}async function hm(i,e){const t=tg(i),r=(await Gb()).transaction(ol,"readwrite"),s=r.objectStore(ol),o=await s.get(t);return await s.put(e,t),await r.done,(!o||o.fid!==e.fid)&&qR(i,e.fid),e}async function $R(i){const e=tg(i),n=(await Gb()).transaction(ol,"readwrite");await n.objectStore(ol).delete(e),await n.done}async function ng(i,e){const t=tg(i),r=(await Gb()).transaction(ol,"readwrite"),s=r.objectStore(ol),o=await s.get(t),c=e(o);return c===void 0?await s.delete(t):await s.put(c,t),await r.done,c&&(!o||o.fid!==c.fid)&&qR(i,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(i){let e;const t=await ng(i.appConfig,n=>{const r=KF(n),s=QF(i,r);return e=s.registrationPromise,s.installationEntry});return t.fid===F_?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function KF(i){const e=i||{fid:zF(),registrationStatus:0};return GR(e)}function QF(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(al.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=XF(i,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZF(i)}:{installationEntry:e}}async function XF(i,e){try{const t=await jF(i,e);return hm(i.appConfig,t)}catch(t){throw VR(t)&&t.customData.serverCode===409?await $R(i.appConfig):await hm(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ZF(i){let e=await sx(i.appConfig);for(;e.registrationStatus===1;)await HR(100),e=await sx(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Kb(i);return n||t}return e}function sx(i){return ng(i,e=>{if(!e)throw al.create("installation-not-found");return GR(e)})}function GR(i){return JF(i)?{fid:i.fid,registrationStatus:0}:i}function JF(i){return i.registrationStatus===1&&i.registrationTime+PR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej({appConfig:i,heartbeatServiceProvider:e},t){const n=tj(i,t),r=LF(i,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const o={installation:{sdkVersion:NR,appId:i.appId}},c={method:"POST",headers:r,body:JSON.stringify(o)},h=await zR(()=>fetch(n,c));if(h.ok){const d=await h.json();return jR(d)}else throw await UR("Generate Auth Token",h)}function tj(i,{fid:e}){return`${FR(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(i,e=!1){let t;const n=await ng(i.appConfig,s=>{if(!KR(s))throw al.create("not-registered");const o=s.authToken;if(!e&&rj(o))return s;if(o.requestStatus===1)return t=nj(i,e),s;{if(!navigator.onLine)throw al.create("app-offline");const c=aj(s);return t=ij(i,c),c}});return t?await t:n.authToken}async function nj(i,e){let t=await ax(i.appConfig);for(;t.authToken.requestStatus===1;)await HR(100),t=await ax(i.appConfig);const n=t.authToken;return n.requestStatus===0?Qb(i,e):n}function ax(i){return ng(i,e=>{if(!KR(e))throw al.create("not-registered");const t=e.authToken;return oj(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ij(i,e){try{const t=await ej(i,e),n=Object.assign(Object.assign({},e),{authToken:t});return await hm(i.appConfig,n),t}catch(t){if(VR(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await $R(i.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hm(i.appConfig,n)}throw t}}function KR(i){return i!==void 0&&i.registrationStatus===2}function rj(i){return i.requestStatus===2&&!sj(i)}function sj(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+IF}function aj(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function oj(i){return i.requestStatus===1&&i.requestTime+PR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(i){const e=i,{installationEntry:t,registrationPromise:n}=await Kb(e);return n?n.catch(console.error):Qb(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(i,e=!1){const t=i;return await uj(t),(await Qb(t,e)).token}async function uj(i){const{registrationPromise:e}=await Kb(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(i){if(!i||!i.options)throw Qv("App Configuration");if(!i.name)throw Qv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Qv(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Qv(i){return al.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="installations",dj="installations-internal",fj=i=>{const e=i.getProvider("app").getImmediate(),t=hj(e),n=gl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},pj=i=>{const e=i.getProvider("app").getImmediate(),t=gl(e,QR).getImmediate();return{getId:()=>lj(t),getToken:r=>cj(t,r)}};function mj(){Ir(new Ki(QR,fj,"PUBLIC")),Ir(new Ki(dj,pj,"PRIVATE"))}mj();Ni(OR,$b);Ni(OR,$b,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="analytics",gj="firebase_id",yj="origin",vj=60*1e3,_j="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new Qm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ui=new ml("analytics","Analytics",bj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(i){if(!i.startsWith(Xb)){const e=ui.create("invalid-gtag-resource",{gtagURL:i});return Zn.warn(e.message),""}return i}function XR(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function Ej(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function Tj(i,e){const t=Ej("firebase-js-sdk-policy",{createScriptURL:wj}),n=document.createElement("script"),r=`${Xb}?l=${i}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function Sj(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function xj(i,e,t,n,r,s){const o=n[r];try{if(o)await e[o];else{const h=(await XR(t)).find(d=>d.measurementId===r);h&&await e[h.appId]}}catch(c){Zn.error(c)}i("config",r,s)}async function Dj(i,e,t,n,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const c=await XR(t);for(const h of o){const d=c.find(y=>y.measurementId===h),p=d&&e[d.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),i("event",n,r||{})}catch(s){Zn.error(s)}}function Aj(i,e,t,n){async function r(s,...o){try{if(s==="event"){const[c,h]=o;await Dj(i,e,t,c,h)}else if(s==="config"){const[c,h]=o;await xj(i,e,t,n,c,h)}else if(s==="consent"){const[c,h]=o;i("consent",c,h)}else if(s==="get"){const[c,h,d]=o;i("get",c,h,d)}else if(s==="set"){const[c]=o;i("set",c)}else i(s,...o)}catch(c){Zn.error(c)}}return r}function Cj(i,e,t,n,r){let s=function(...o){window[n].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Aj(s,i,e,t),{gtagCore:s,wrappedGtag:window[r]}}function Rj(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xb)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=30,kj=1e3;class Ij{constructor(e={},t=kj){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZR=new Ij;function Oj(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Pj(i){var e;const{appId:t,apiKey:n}=i,r={method:"GET",headers:Oj(n)},s=_j.replace("{app-id}",t),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let c="";try{const h=await o.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw ui.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function Nj(i,e=ZR,t){const{appId:n,apiKey:r,measurementId:s}=i.options;if(!n)throw ui.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:n};throw ui.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Fj;return setTimeout(async()=>{c.abort()},vj),JR({appId:n,apiKey:r,measurementId:s},o,c,e)}async function JR(i,{throttleEndTimeMillis:e,backoffCount:t},n,r=ZR){var s;const{appId:o,measurementId:c}=i;try{await Lj(n,e)}catch(h){if(c)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:c};throw h}try{const h=await Pj(i);return r.deleteThrottleMetadata(o),h}catch(h){const d=h;if(!Vj(d)){if(r.deleteThrottleMetadata(o),c)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw h}const p=Number((s=d==null?void 0:d.customData)===null||s===void 0?void 0:s.httpStatus)===503?kS(t,r.intervalMillis,Mj):kS(t,r.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return r.setThrottleMetadata(o,y),Zn.debug(`Calling attemptFetch again in ${p} millis`),JR(i,y,n,r)}}function Lj(i,e){return new Promise((t,n)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);i.addEventListener(()=>{clearTimeout(s),n(ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vj(i){if(!(i instanceof er)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Fj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jj(i,e,t,n,r){if(r&&r.global){i("event",t,n);return}else{const s=await e,o=Object.assign(Object.assign({},n),{send_to:s});i("event",t,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(){if(BC())try{await zC()}catch(i){return Zn.warn(ui.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Zn.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Bj(i,e,t,n,r,s,o){var c;const h=Nj(i);h.then(b=>{t[b.measurementId]=b.appId,i.options.measurementId&&b.measurementId!==i.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Zn.error(b)),e.push(h);const d=Uj().then(b=>{if(b)return n.getId()}),[p,y]=await Promise.all([h,d]);Rj(s)||Tj(s,p.measurementId),r("js",new Date);const v=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return v[yj]="firebase",v.update=!0,y!=null&&(v[gj]=y),r("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.app=e}_delete(){return delete Nh[this.app.options.appId],Promise.resolve()}}let Nh={},ox=[];const lx={};let Xv="dataLayer",Hj="gtag",cx,e1,ux=!1;function Yj(){const i=[];if(UC()&&i.push("This is a browser extension environment."),QN()||i.push("Cookies are not available."),i.length>0){const e=i.map((n,r)=>`(${r+1}) ${n}`).join(" "),t=ui.create("invalid-analytics-context",{errorInfo:e});Zn.warn(t.message)}}function qj(i,e,t){Yj();const n=i.options.appId;if(!n)throw ui.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ui.create("no-api-key");if(Nh[n]!=null)throw ui.create("already-exists",{id:n});if(!ux){Sj(Xv);const{wrappedGtag:s,gtagCore:o}=Cj(Nh,ox,lx,Xv,Hj);e1=s,cx=o,ux=!0}return Nh[n]=Bj(i,ox,lx,e,cx,Xv,t),new zj(i)}function Wj(i=Nb()){i=Ht(i);const e=gl(i,dm);return e.isInitialized()?e.getImmediate():$j(i)}function $j(i,e={}){const t=gl(i,dm);if(t.isInitialized()){const r=t.getImmediate();if(Ba(e,t.getOptions()))return r;throw ui.create("already-initialized")}return t.initialize({options:e})}function Gj(i,e,t,n){i=Ht(i),jj(e1,Nh[i.app.options.appId],e,t,n).catch(r=>Zn.error(r))}const hx="@firebase/analytics",dx="0.10.12";function Kj(){Ir(new Ki(dm,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return qj(n,r,t)},"PUBLIC")),Ir(new Ki("analytics-internal",i,"PRIVATE")),Ni(hx,dx),Ni(hx,dx,"esm2017");function i(e){try{const t=e.getProvider(dm).getImmediate();return{logEvent:(n,r,s)=>Gj(t,n,r,s)}}catch(t){throw ui.create("interop-component-reg-failed",{reason:t})}}}Kj();var fx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,t1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function A(){}A.prototype=C.prototype,O.D=C.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(k,V,U){for(var N=Array(arguments.length-2),de=2;de<arguments.length;de++)N[de-2]=arguments[de];return C.prototype[V].apply(k,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,C,A){A||(A=0);var k=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)k[V]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(V=0;16>V;++V)k[V]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=O.g[0],A=O.g[1],V=O.g[2];var U=O.g[3],N=C+(U^A&(V^U))+k[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=U+(V^C&(A^V))+k[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(A^U&(C^A))+k[2]+606105819&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(C^V&(U^C))+k[3]+3250441966&4294967295,A=V+(N<<22&4294967295|N>>>10),N=C+(U^A&(V^U))+k[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=U+(V^C&(A^V))+k[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(A^U&(C^A))+k[6]+2821735955&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(C^V&(U^C))+k[7]+4249261313&4294967295,A=V+(N<<22&4294967295|N>>>10),N=C+(U^A&(V^U))+k[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=U+(V^C&(A^V))+k[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(A^U&(C^A))+k[10]+4294925233&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(C^V&(U^C))+k[11]+2304563134&4294967295,A=V+(N<<22&4294967295|N>>>10),N=C+(U^A&(V^U))+k[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=U+(V^C&(A^V))+k[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=V+(A^U&(C^A))+k[14]+2792965006&4294967295,V=U+(N<<17&4294967295|N>>>15),N=A+(C^V&(U^C))+k[15]+1236535329&4294967295,A=V+(N<<22&4294967295|N>>>10),N=C+(V^U&(A^V))+k[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(C^A))+k[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^A&(U^C))+k[11]+643717713&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^C&(V^U))+k[0]+3921069994&4294967295,A=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(A^V))+k[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(C^A))+k[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^A&(U^C))+k[15]+3634488961&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^C&(V^U))+k[4]+3889429448&4294967295,A=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(A^V))+k[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(C^A))+k[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^A&(U^C))+k[3]+4107603335&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^C&(V^U))+k[8]+1163531501&4294967295,A=V+(N<<20&4294967295|N>>>12),N=C+(V^U&(A^V))+k[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=U+(A^V&(C^A))+k[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=V+(C^A&(U^C))+k[7]+1735328473&4294967295,V=U+(N<<14&4294967295|N>>>18),N=A+(U^C&(V^U))+k[12]+2368359562&4294967295,A=V+(N<<20&4294967295|N>>>12),N=C+(A^V^U)+k[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=U+(C^A^V)+k[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^A)+k[11]+1839030562&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^C)+k[14]+4259657740&4294967295,A=V+(N<<23&4294967295|N>>>9),N=C+(A^V^U)+k[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=U+(C^A^V)+k[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^A)+k[7]+4139469664&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^C)+k[10]+3200236656&4294967295,A=V+(N<<23&4294967295|N>>>9),N=C+(A^V^U)+k[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=U+(C^A^V)+k[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^A)+k[3]+3572445317&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^C)+k[6]+76029189&4294967295,A=V+(N<<23&4294967295|N>>>9),N=C+(A^V^U)+k[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=U+(C^A^V)+k[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=V+(U^C^A)+k[15]+530742520&4294967295,V=U+(N<<16&4294967295|N>>>16),N=A+(V^U^C)+k[2]+3299628645&4294967295,A=V+(N<<23&4294967295|N>>>9),N=C+(V^(A|~U))+k[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=U+(A^(C|~V))+k[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~A))+k[14]+2878612391&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~C))+k[5]+4237533241&4294967295,A=V+(N<<21&4294967295|N>>>11),N=C+(V^(A|~U))+k[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=U+(A^(C|~V))+k[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~A))+k[10]+4293915773&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~C))+k[1]+2240044497&4294967295,A=V+(N<<21&4294967295|N>>>11),N=C+(V^(A|~U))+k[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=U+(A^(C|~V))+k[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~A))+k[6]+2734768916&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~C))+k[13]+1309151649&4294967295,A=V+(N<<21&4294967295|N>>>11),N=C+(V^(A|~U))+k[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=U+(A^(C|~V))+k[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=V+(C^(U|~A))+k[2]+718787259&4294967295,V=U+(N<<15&4294967295|N>>>17),N=A+(U^(V|~C))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}n.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var A=C-this.blockSize,k=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=A;)r(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(k[V++]=O.charCodeAt(U++),V==this.blockSize){r(this,k),V=0;break}}else for(;U<C;)if(k[V++]=O[U++],V==this.blockSize){r(this,k),V=0;break}}this.h=V,this.o+=C},n.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var A=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=A&255,A/=256;for(this.u(O),O=Array(16),C=A=0;4>C;++C)for(var k=0;32>k;k+=8)O[A++]=this.g[C]>>>k&255;return O};function s(O,C){var A=c;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=C(O)}function o(O,C){this.h=C;for(var A=[],k=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;k&&U==C||(A[V]=U,k=!1)}this.g=A}var c={};function h(O){return-128<=O&&128>O?s(O,function(C){return new o([C|0],0>C?-1:0)}):new o([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return x(d(-O));for(var C=[],A=1,k=0;O>=A;k++)C[k]=O/A|0,A*=4294967296;return new o(C,0)}function p(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return x(p(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(C,8)),k=y,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),N=parseInt(O.substring(V,V+U),C);8>U?(U=d(Math.pow(C,U)),k=k.j(U).add(d(N))):(k=k.j(A),k=k.add(d(N)))}return k}var y=h(0),v=h(1),b=h(16777216);i=o.prototype,i.m=function(){if(S(this))return-x(this).m();for(var O=0,C=1,A=0;A<this.g.length;A++){var k=this.i(A);O+=(0<=k?k:4294967296+k)*C,C*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(S(this))return"-"+x(this).toString(O);for(var C=d(Math.pow(O,6)),A=this,k="";;){var V=W(A,C).g;A=M(A,V.j(C));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=V,E(A))return U+k;for(;6>U.length;)U="0"+U;k=U+k}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function S(O){return O.h==-1}i.l=function(O){return O=M(this,O),S(O)?-1:E(O)?0:1};function x(O){for(var C=O.g.length,A=[],k=0;k<C;k++)A[k]=~O.g[k];return new o(A,~O.h).add(v)}i.abs=function(){return S(this)?x(this):this},i.add=function(O){for(var C=Math.max(this.g.length,O.g.length),A=[],k=0,V=0;V<=C;V++){var U=k+(this.i(V)&65535)+(O.i(V)&65535),N=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);k=N>>>16,U&=65535,N&=65535,A[V]=N<<16|U}return new o(A,A[A.length-1]&-2147483648?-1:0)};function M(O,C){return O.add(x(C))}i.j=function(O){if(E(this)||E(O))return y;if(S(this))return S(O)?x(this).j(x(O)):x(x(this).j(O));if(S(O))return x(this.j(x(O)));if(0>this.l(b)&&0>O.l(b))return d(this.m()*O.m());for(var C=this.g.length+O.g.length,A=[],k=0;k<2*C;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<O.g.length;V++){var U=this.i(k)>>>16,N=this.i(k)&65535,de=O.i(V)>>>16,q=O.i(V)&65535;A[2*k+2*V]+=N*q,L(A,2*k+2*V),A[2*k+2*V+1]+=U*q,L(A,2*k+2*V+1),A[2*k+2*V+1]+=N*de,L(A,2*k+2*V+1),A[2*k+2*V+2]+=U*de,L(A,2*k+2*V+2)}for(k=0;k<C;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=C;k<2*C;k++)A[k]=0;return new o(A,0)};function L(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function j(O,C){this.g=O,this.h=C}function W(O,C){if(E(C))throw Error("division by zero");if(E(O))return new j(y,y);if(S(O))return C=W(x(O),C),new j(x(C.g),x(C.h));if(S(C))return C=W(O,x(C)),new j(x(C.g),C.h);if(30<O.g.length){if(S(O)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var A=v,k=C;0>=k.l(O);)A=H(A),k=H(k);var V=Q(A,1),U=Q(k,1);for(k=Q(k,2),A=Q(A,2);!E(k);){var N=U.add(k);0>=N.l(O)&&(V=V.add(A),U=N),k=Q(k,1),A=Q(A,1)}return C=M(O,V.j(C)),new j(V,C)}for(V=y;0<=O.l(C);){for(A=Math.max(1,Math.floor(O.m()/C.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),U=d(A),N=U.j(C);S(N)||0<N.l(O);)A-=k,U=d(A),N=U.j(C);E(U)&&(U=v),V=V.add(U),O=M(O,N)}return new j(V,O)}i.A=function(O){return W(this,O).h},i.and=function(O){for(var C=Math.max(this.g.length,O.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)&O.i(k);return new o(A,this.h&O.h)},i.or=function(O){for(var C=Math.max(this.g.length,O.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)|O.i(k);return new o(A,this.h|O.h)},i.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)^O.i(k);return new o(A,this.h^O.h)};function H(O){for(var C=O.g.length+1,A=[],k=0;k<C;k++)A[k]=O.i(k)<<1|O.i(k-1)>>>31;return new o(A,O.h)}function Q(O,C){var A=C>>5;C%=32;for(var k=O.g.length-A,V=[],U=0;U<k;U++)V[U]=0<C?O.i(U+A)>>>C|O.i(U+A+1)<<32-C:O.i(U+A);return new o(V,O.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,t1=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,La=o}).apply(typeof fx<"u"?fx:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,Eh,i1,Vp,j_,r1,s1,a1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,T){return m==Array.prototype||m==Object.prototype||(m[w]=T.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var w=0;w<m.length;++w){var T=m[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function r(m,w){if(w)e:{var T=n;m=m.split(".");for(var P=0;P<m.length-1;P++){var X=m[P];if(!(X in T))break e;T=T[X]}m=m[m.length-1],P=T[m],w=w(P),w!=P&&w!=null&&e(T,m,{configurable:!0,writable:!0,value:w})}}function s(m,w){m instanceof String&&(m+="");var T=0,P=!1,X={next:function(){if(!P&&T<m.length){var ne=T++;return{value:w(ne,m[ne]),done:!1}}return P=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}r("Array.prototype.values",function(m){return m||function(){return s(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,T){return m.call.apply(m.bind,arguments)}function y(m,w,T){if(!m)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,P),m.apply(w,X)}}return function(){return m.apply(w,arguments)}}function v(m,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,v.apply(null,arguments)}function b(m,w){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),m.apply(this,P)}}function E(m,w){function T(){}T.prototype=w.prototype,m.aa=w.prototype,m.prototype=new T,m.prototype.constructor=m,m.Qb=function(P,X,ne){for(var pe=Array(arguments.length-2),We=2;We<arguments.length;We++)pe[We-2]=arguments[We];return w.prototype[X].apply(P,pe)}}function S(m){const w=m.length;if(0<w){const T=Array(w);for(let P=0;P<w;P++)T[P]=m[P];return T}return[]}function x(m,w){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(h(P)){const X=m.length||0,ne=P.length||0;m.length=X+ne;for(let pe=0;pe<ne;pe++)m[X+pe]=P[pe]}else m.push(P)}}class M{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function L(m){return/^[\s\xa0]*$/.test(m)}function j(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function W(m){return W[" "](m),m}W[" "]=function(){};var H=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Q(m,w,T){for(const P in m)w.call(T,m[P],P,m)}function O(m,w){for(const T in m)w.call(void 0,m[T],T,m)}function C(m){const w={};for(const T in m)w[T]=m[T];return w}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,w){let T,P;for(let X=1;X<arguments.length;X++){P=arguments[X];for(T in P)m[T]=P[T];for(let ne=0;ne<A.length;ne++)T=A[ne],Object.prototype.hasOwnProperty.call(P,T)&&(m[T]=P[T])}}function V(m){var w=1;m=m.split(":");const T=[];for(;0<w&&m.length;)T.push(m.shift()),w--;return m.length&&T.push(m.join(":")),T}function U(m){c.setTimeout(()=>{throw m},0)}function N(){var m=fe;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class de{constructor(){this.h=this.g=null}add(w,T){const P=q.get();P.set(w,T),this.h?this.h.next=P:this.g=P,this.h=P}}var q=new M(()=>new z,m=>m.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,fe=new de,Y=()=>{const m=c.Promise.resolve(void 0);te=()=>{m.then(ie)}};var ie=()=>{for(var m;m=N();){try{m.h.call(m.g)}catch(T){U(T)}var w=q;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}re=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};c.addEventListener("test",T,w),c.removeEventListener("test",T,w)}catch{}return m}();function Re(m,w){if(me.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var T=this.type=m.type,P=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(H){e:{try{W(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else T=="mouseover"?w=m.fromElement:T=="mouseout"&&(w=m.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:xe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Re.aa.h.call(this)}}E(Re,me);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Mt(m,w,T,P,X){this.listener=m,this.proxy=null,this.src=w,this.type=T,this.capture=!!P,this.ha=X,this.key=++Ze,this.da=this.fa=!1}function at(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Nn(m){this.src=m,this.g={},this.h=0}Nn.prototype.add=function(m,w,T,P,X){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var pe=di(m,w,P,X);return-1<pe?(w=m[pe],T||(w.fa=!1)):(w=new Mt(w,this.src,ne,!!P,X),w.fa=T,m.push(w)),w};function Vr(m,w){var T=w.type;if(T in m.g){var P=m.g[T],X=Array.prototype.indexOf.call(P,w,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(P,X,1),ne&&(at(w),m.g[T].length==0&&(delete m.g[T],m.h--))}}function di(m,w,T,P){for(var X=0;X<m.length;++X){var ne=m[X];if(!ne.da&&ne.listener==w&&ne.capture==!!T&&ne.ha==P)return X}return-1}var js="closure_lm_"+(1e6*Math.random()|0),Us={};function Fr(m,w,T,P,X){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)Fr(m,w[ne],T,P,X);return null}return T=Pd(T),m&&m[yt]?m.K(w,T,d(P)?!!P.capture:!1,X):nu(m,w,T,!1,P,X)}function nu(m,w,T,P,X,ne){if(!w)throw Error("Invalid event type");var pe=d(X)?!!X.capture:!!X,We=iu(m);if(We||(m[js]=We=new Nn(m)),T=We.add(w,T,P,pe,ne),T.proxy)return T;if(P=wl(),T.proxy=P,P.src=m,P.listener=T,m.addEventListener)ge||(X=pe),X===void 0&&(X=!1),m.addEventListener(w.toString(),P,X);else if(m.attachEvent)m.attachEvent(Tl(w.toString()),P);else if(m.addListener&&m.removeListener)m.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function wl(){function m(T){return w.call(m.src,m.listener,T)}const w=Lg;return m}function El(m,w,T,P,X){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)El(m,w[ne],T,P,X);else P=d(P)?!!P.capture:!!P,T=Pd(T),m&&m[yt]?(m=m.i,w=String(w).toString(),w in m.g&&(ne=m.g[w],T=di(ne,T,P,X),-1<T&&(at(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete m.g[w],m.h--)))):m&&(m=iu(m))&&(w=m.g[w.toString()],m=-1,w&&(m=di(w,T,P,X)),(T=-1<m?w[m]:null)&&ao(T))}function ao(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[yt])Vr(w.i,m);else{var T=m.type,P=m.proxy;w.removeEventListener?w.removeEventListener(T,P,m.capture):w.detachEvent?w.detachEvent(Tl(T),P):w.addListener&&w.removeListener&&w.removeListener(P),(T=iu(w))?(Vr(T,m),T.h==0&&(T.src=null,w[js]=null)):at(m)}}}function Tl(m){return m in Us?Us[m]:Us[m]="on"+m}function Lg(m,w){if(m.da)m=!0;else{w=new Re(w,this);var T=m.listener,P=m.ha||m.src;m.fa&&ao(m),m=T.call(P,w)}return m}function iu(m){return m=m[js],m instanceof Nn?m:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pd(m){return typeof m=="function"?m:(m[Yn]||(m[Yn]=function(w){return m.handleEvent(w)}),m[Yn])}function Qt(){ye.call(this),this.i=new Nn(this),this.M=this,this.F=null}E(Qt,ye),Qt.prototype[yt]=!0,Qt.prototype.removeEventListener=function(m,w,T,P){El(this,m,w,T,P)};function an(m,w){var T,P=m.F;if(P)for(T=[];P;P=P.F)T.push(P);if(m=m.M,P=w.type||w,typeof w=="string")w=new me(w,m);else if(w instanceof me)w.target=w.target||m;else{var X=w;w=new me(P,m),k(w,X)}if(X=!0,T)for(var ne=T.length-1;0<=ne;ne--){var pe=w.g=T[ne];X=jr(pe,P,!0,w)&&X}if(pe=w.g=m,X=jr(pe,P,!0,w)&&X,X=jr(pe,P,!1,w)&&X,T)for(ne=0;ne<T.length;ne++)pe=w.g=T[ne],X=jr(pe,P,!1,w)&&X}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var T=m.g[w],P=0;P<T.length;P++)at(T[P]);delete m.g[w],m.h--}}this.F=null},Qt.prototype.K=function(m,w,T,P){return this.i.add(String(m),w,!1,T,P)},Qt.prototype.L=function(m,w,T,P){return this.i.add(String(m),w,!0,T,P)};function jr(m,w,T,P){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,ne=0;ne<w.length;++ne){var pe=w[ne];if(pe&&!pe.da&&pe.capture==T){var We=pe.listener,Zt=pe.ha||pe.src;pe.fa&&Vr(m.i,pe),X=We.call(Zt,P)!==!1&&X}}return X&&!P.defaultPrevented}function Nd(m,w,T){if(typeof m=="function")T&&(m=v(m,T));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function ru(m){m.g=Nd(()=>{m.g=null,m.i&&(m.i=!1,ru(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Vg extends ye{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(m){ye.call(this),this.h=m,this.g={}}E(oo,ye);var Bs=[];function xn(m){Q(m.g,function(w,T){this.g.hasOwnProperty(T)&&ao(w)},m),m.g={}}oo.prototype.N=function(){oo.aa.N.call(this),xn(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var su=c.JSON.stringify,tr=c.JSON.parse,Ln=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function au(){}au.prototype.h=null;function Ld(m){return m.h||(m.h=m.i())}function Vd(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zs(){me.call(this,"d")}E(zs,me);function Fi(){me.call(this,"c")}E(Fi,me);var fi={},Hs=null;function Sl(){return Hs=Hs||new Qt}fi.La="serverreachability";function ou(m){me.call(this,fi.La,m)}E(ou,me);function Ys(m){const w=Sl();an(w,new ou(w))}fi.STAT_EVENT="statevent";function xl(m,w){me.call(this,fi.STAT_EVENT,m),this.stat=w}E(xl,me);function Vt(m){const w=Sl();an(w,new xl(w,m))}fi.Ma="timingevent";function Fd(m,w){me.call(this,fi.Ma,m),this.size=w}E(Fd,me);function qs(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function jd(m,w,T,P,X,ne){m.info(function(){if(m.g)if(ne)for(var pe="",We=ne.split("&"),Zt=0;Zt<We.length;Zt++){var $e=We[Zt].split("=");if(1<$e.length){var cn=$e[0];$e=$e[1];var Jt=cn.split("_");pe=2<=Jt.length&&Jt[1]=="type"?pe+(cn+"="+$e+"&"):pe+(cn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+P+") [attempt "+X+"]: "+w+`
`+T+`
`+pe})}function Ud(m,w,T,P,X,ne,pe){m.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+X+"]: "+w+`
`+T+`
`+ne+" "+pe})}function $s(m,w,T,P){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+on(m,T)+(P?" "+P:"")})}function ir(m,w){m.info(function(){return"TIMEOUT: "+w})}Ws.prototype.info=function(){};function on(m,w){if(!m.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(m=0;m<T.length;m++)if(Array.isArray(T[m])){var P=T[m];if(!(2>P.length)){var X=P[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<X.length;pe++)X[pe]=""}}}}return su(T)}catch{return w}}var Xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ur={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lo;function Dl(){}E(Dl,au),Dl.prototype.g=function(){return new XMLHttpRequest},Dl.prototype.i=function(){return{}},lo=new Dl;function rr(m,w,T,P){this.j=m,this.i=w,this.l=T,this.R=P||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var Gs={},co={};function ji(m,w,T){m.L=1,m.v=fo(kt(w)),m.m=T,m.P=!0,Br(m,null)}function Br(m,w){m.F=Date.now(),xt(m),m.A=kt(m.v);var T=m.A,P=m.R;Array.isArray(P)||(P=[String(P)]),Yr(T.i,"t",P),m.C=0,T=m.j.J,m.h=new lu,m.g=ef(m.j,T?w:null,!m.m),0<m.O&&(m.M=new Vg(v(m.Y,m,m.g),m.O)),w=m.U,T=m.g,P=m.ca;var X="readystatechange";Array.isArray(X)||(X&&(Bs[0]=X.toString()),X=Bs);for(var ne=0;ne<X.length;ne++){var pe=Fr(T,X[ne],P||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Ys(),jd(m.i,m.u,m.A,m.l,m.R,m.m)}rr.prototype.ca=function(m){m=m.target;const w=this.M;w&&vi(m)==3?w.j():this.Y(m)},rr.prototype.Y=function(m){try{if(m==this.g)e:{const Jt=vi(this.g);var w=this.g.Ba();const Gr=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||Wd(this.g)))){this.J||Jt!=4||w==7||(w==8||0>=Gr?Ys(3):Ys(2)),Al(this);var T=this.g.Z();this.X=T;t:if(Ks(this)){var P=Wd(this.g);m="";var X=P.length,ne=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),ei(this);var pe="";break t}this.h.i=new c.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,m+=this.h.i.decode(P[w],{stream:!(ne&&w==X-1)});P.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=T==200,Ud(this.i,this.u,this.A,this.l,this.R,Jt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Zt=this.g;if((We=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var $e=We;break t}}$e=null}if(T=$e)$s(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,T);else{this.o=!1,this.s=3,Vt(12),qn(this),ei(this);break e}}if(this.P){T=!0;let gn;for(;!this.J&&this.C<pe.length;)if(gn=Qs(this,pe),gn==co){Jt==4&&(this.s=4,Vt(14),T=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Gs){this.s=4,Vt(15),$s(this.i,this.l,pe,"[Invalid Chunk]"),T=!1;break}else $s(this.i,this.l,gn,null),ti(this,gn);if(Ks(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||pe.length!=0||this.h.h||(this.s=1,Vt(16),T=!1),this.o=this.o&&T,!T)$s(this.i,this.l,pe,"[Invalid Chunked Response]"),qn(this),ei(this);else if(0<pe.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),bo(cn),cn.M=!0,Vt(11))}}else $s(this.i,this.l,pe,null),ti(this,pe);Jt==4&&qn(this),this.o&&!this.J&&(Jt==4?Xd(this.j,this):(this.o=!1,xt(this)))}else Hg(this.g),T==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),qn(this),ei(this)}}}catch{}finally{}};function Ks(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Qs(m,w){var T=m.C,P=w.indexOf(`
`,T);return P==-1?co:(T=Number(w.substring(T,P)),isNaN(T)?Gs:(P+=1,P+T>w.length?co:(w=w.slice(P,P+T),m.C=P+T,w)))}rr.prototype.cancel=function(){this.J=!0,qn(this)};function xt(m){m.S=Date.now()+m.I,cu(m,m.I)}function cu(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=qs(v(m.ba,m),w)}function Al(m){m.B&&(c.clearTimeout(m.B),m.B=null)}rr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ir(this.i,this.A),this.L!=2&&(Ys(),Vt(17)),qn(this),this.s=2,ei(this)):cu(this,this.S-m)};function ei(m){m.j.G==0||m.J||Xd(m.j,m)}function qn(m){Al(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,xn(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function ti(m,w){try{var T=m.j;if(T.G!=0&&(T.g==m||Xs(T.h,m))){if(!m.K&&Xs(T.h,m)&&T.G==3){try{var P=T.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var X=P;if(X[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<m.F)Vl(T),Nl(T);else break e;bu(T),Vt(18)}}else T.za=X[1],0<T.za-T.T&&37500>X[2]&&T.F&&T.v==0&&!T.C&&(T.C=qs(v(T.Za,T),6e3));if(1>=Bd(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else $r(T,11)}else if((m.K||T.g==m)&&Vl(T),!L(w))for(X=T.Da.g.parse(w),w=0;w<X.length;w++){let $e=X[w];if(T.T=$e[0],$e=$e[1],T.G==2)if($e[0]=="c"){T.K=$e[1],T.ia=$e[2];const cn=$e[3];cn!=null&&(T.la=cn,T.j.info("VER="+T.la));const Jt=$e[4];Jt!=null&&(T.Aa=Jt,T.j.info("SVER="+T.Aa));const Gr=$e[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(P=1.5*Gr,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const gn=m.g;if(gn){const hr=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hr){var ne=P.h;ne.g||hr.indexOf("spdy")==-1&&hr.indexOf("quic")==-1&&hr.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Zs(ne,ne.h),ne.h=null))}if(P.D){const Eu=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eu&&(P.ya=Eu,Je(P.I,P.D,Eu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-m.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var pe=m;if(P.qa=Jd(P,P.J?P.ia:null,P.W),pe.K){pi(P.h,pe);var We=pe,Zt=P.L;Zt&&(We.I=Zt),We.B&&(Al(We),xt(We)),P.g=pe}else Kd(P);0<T.i.length&&Ll(T)}else $e[0]!="stop"&&$e[0]!="close"||$r(T,7);else T.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?$r(T,7):vu(T):$e[0]!="noop"&&T.l&&T.l.ta($e),T.v=0)}}Ys(4)}catch{}}var Fg=class{constructor(m,w){this.g=m,this.map=w}};function uu(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bd(m){return m.h?1:m.g?m.g.size:0}function Xs(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function Zs(m,w){m.g?m.g.add(w):m.h=w}function pi(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}uu.prototype.cancel=function(){if(this.i=Vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const T of m.g.values())w=w.concat(T.D);return w}return S(m.i)}function zd(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],T=m.length,P=0;P<T;P++)w.push(m[P]);return w}w=[],T=0;for(P in m)w[T++]=m[P];return w}function jg(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var T=0;T<m;T++)w.push(T);return w}w=[],T=0;for(const P in m)w[T++]=P;return w}}}function uo(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var T=jg(m),P=zd(m),X=P.length,ne=0;ne<X;ne++)w.call(void 0,P[ne],T&&T[ne],m)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cl(m,w){if(m){m=m.split("&");for(var T=0;T<m.length;T++){var P=m[T].indexOf("="),X=null;if(0<=P){var ne=m[T].substring(0,P);X=m[T].substring(P+1)}else ne=m[T];w(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function zr(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof zr){this.h=m.h,Js(this,m.j),this.o=m.o,this.g=m.g,ho(this,m.s),this.l=m.l;var w=m.i,T=new sr;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Rl(this,T),this.m=m.m}else m&&(w=String(m).match(du))?(this.h=!1,Js(this,w[1]||"",!0),this.o=ea(w[2]||""),this.g=ea(w[3]||"",!0),ho(this,w[4]),this.l=ea(w[5]||"",!0),Rl(this,w[6]||"",!0),this.m=ea(w[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}zr.prototype.toString=function(){var m=[],w=this.j;w&&m.push(mi(w,fu,!0),":");var T=this.g;return(T||w=="file")&&(m.push("//"),(w=this.o)&&m.push(mi(w,fu,!0),"@"),m.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&m.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(mi(T,T.charAt(0)=="/"?pu:Hd,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",mi(T,zg)),m.join("")};function kt(m){return new zr(m)}function Js(m,w,T){m.j=T?ea(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function ho(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function Rl(m,w,T){w instanceof sr?(m.i=w,mu(m.i,m.h)):(T||(w=mi(w,Bg)),m.i=new sr(w,m.h))}function Je(m,w,T){m.i.set(w,T)}function fo(m){return Je(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ea(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function mi(m,w,T){return typeof m=="string"?(m=encodeURI(m).replace(w,Ug),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ug(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var fu=/[#\/\?@]/g,Hd=/[#\?:]/g,pu=/[#\?]/g,Bg=/[#\?@]/g,zg=/#/g;function sr(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function gi(m){m.g||(m.g=new Map,m.h=0,m.i&&Cl(m.i,function(w,T){m.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}i=sr.prototype,i.add=function(m,w){gi(this),this.i=null,m=qr(this,m);var T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(w),this.h+=1,this};function Ml(m,w){gi(m),w=qr(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function Hr(m,w){return gi(m),w=qr(m,w),m.g.has(w)}i.forEach=function(m,w){gi(this),this.g.forEach(function(T,P){T.forEach(function(X){m.call(w,X,P,this)},this)},this)},i.na=function(){gi(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let P=0;P<w.length;P++){const X=m[P];for(let ne=0;ne<X.length;ne++)T.push(w[P])}return T},i.V=function(m){gi(this);let w=[];if(typeof m=="string")Hr(this,m)&&(w=w.concat(this.g.get(qr(this,m))));else{m=Array.from(this.g.values());for(let T=0;T<m.length;T++)w=w.concat(m[T])}return w},i.set=function(m,w){return gi(this),this.i=null,m=qr(this,m),Hr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function Yr(m,w,T){Ml(m,w),0<T.length&&(m.i=null,m.g.set(qr(m,w),S(T)),m.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var P=w[T];const ne=encodeURIComponent(String(P)),pe=this.V(P);for(P=0;P<pe.length;P++){var X=ne;pe[P]!==""&&(X+="="+encodeURIComponent(String(pe[P]))),m.push(X)}}return this.i=m.join("&")};function qr(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function mu(m,w){w&&!m.j&&(gi(m),m.i=null,m.g.forEach(function(T,P){var X=P.toLowerCase();P!=X&&(Ml(this,P),Yr(this,X,T))},m)),m.j=w}function Yd(m,w){const T=new Ws;if(c.Image){const P=new Image;P.onload=b(yi,T,"TestLoadImage: loaded",!0,w,P),P.onerror=b(yi,T,"TestLoadImage: error",!1,w,P),P.onabort=b(yi,T,"TestLoadImage: abort",!1,w,P),P.ontimeout=b(yi,T,"TestLoadImage: timeout",!1,w,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=m}else w(!1)}function po(m,w){const T=new Ws,P=new AbortController,X=setTimeout(()=>{P.abort(),yi(T,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:P.signal}).then(ne=>{clearTimeout(X),ne.ok?yi(T,"TestPingServer: ok",!0,w):yi(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),yi(T,"TestPingServer: error",!1,w)})}function yi(m,w,T,P,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),P(T)}catch{}}function mo(){this.g=new Ln}function ar(m,w,T){const P=T||"";try{uo(m,function(X,ne){let pe=X;d(X)&&(pe=su(X)),w.push(P+ne+"="+encodeURIComponent(pe))})}catch(X){throw w.push(P+"type="+encodeURIComponent("_badmap")),X}}function ta(m){this.l=m.Ub||null,this.j=m.eb||!1}E(ta,au),ta.prototype.g=function(){return new Wr(this.l,this.j)},ta.prototype.i=function(m){return function(){return m}}({});function Wr(m,w){Qt.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wr,Qt),i=Wr.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,lr(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?or(this):lr(this),this.readyState==3&&gu(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,or(this))},i.Qa=function(m){this.g&&(this.response=m,or(this))},i.ga=function(){this.g&&or(this)};function or(m){m.readyState=4,m.l=null,m.j=null,m.v=null,lr(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=w.next();return m.join(`\r
`)};function lr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yu(m){let w="";return Q(m,function(T,P){w+=P,w+=":",w+=T,w+=`\r
`}),w}function ln(m,w,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=yu(T),typeof m=="string"?T!=null&&encodeURIComponent(String(T)):Je(m,w,T))}function it(m){Qt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,Qt);var kl=/^https?$/i,go=["POST","PUT"];i=it.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lo.g(),this.v=this.o?Ld(this.o):Ld(lo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(ne){qd(this,ne);return}if(m=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var X in P)T.set(X,P[X]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())T.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(go,w,void 0))||P||X||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of T)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){qd(this,ne)}};function qd(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Il(m),cr(m)}function Il(m){m.A||(m.A=!0,an(m,"complete"),an(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,an(this,"complete"),an(this,"abort"),cr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),it.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ol(this):this.bb())},i.bb=function(){Ol(this)};function Ol(m){if(m.h&&typeof o<"u"&&(!m.v[1]||vi(m)!=4||m.Z()!=2)){if(m.u&&vi(m)==4)Nd(m.Ea,0,m);else if(an(m,"readystatechange"),vi(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var P;if(P=pe===0){var X=String(m.D).match(du)[1]||null;!X&&c.self&&c.self.location&&(X=c.self.location.protocol.slice(0,-1)),P=!kl.test(X?X.toLowerCase():"")}T=P}if(T)an(m,"complete"),an(m,"success");else{m.m=6;try{var ne=2<vi(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Il(m)}}finally{cr(m)}}}}function cr(m,w){if(m.g){yo(m);const T=m.g,P=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||an(m,"ready");try{T.onreadystatechange=P}catch{}}}function yo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function vi(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),tr(w)}};function Wd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Hg(m){const w={};m=(m.g&&2<=vi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<m.length;P++){if(L(m[P]))continue;var T=V(m[P]);const X=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=w[X]||[];w[X]=ne,ne.push(T)}O(w,function(P){return P.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(m,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||w}function Pl(m){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,m),this.cb=vo("retryDelaySeedMs",1e4,m),this.Wa=vo("forwardChannelMaxRetries",2,m),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new uu(m&&m.concurrentRequestLimit),this.Da=new mo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Pl.prototype,i.la=8,i.G=1,i.connect=function(m,w,T,P){Vt(0),this.W=m,this.H=w||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=Jd(this,null,this.W),Ll(this)};function vu(m){if($d(m),m.G==3){var w=m.U++,T=kt(m.I);if(Je(T,"SID",m.K),Je(T,"RID",w),Je(T,"TYPE","terminate"),_o(m,T),w=new rr(m,m.j,w),w.L=2,w.v=fo(kt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=w.v,T=!0),T||(w.g=ef(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xt(w)}Zd(m)}function Nl(m){m.g&&(bo(m),m.g.cancel(),m.g=null)}function $d(m){Nl(m),m.u&&(c.clearTimeout(m.u),m.u=null),Vl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ll(m){if(!hu(m.h)&&!m.s){m.s=!0;var w=m.Ga;te||Y(),re||(te(),re=!0),fe.add(w,m),m.B=0}}function Yg(m,w){return Bd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=qs(v(m.Ga,m,w),wu(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const X=new rr(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=C(ne),k(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Gd(this,X,w),T=kt(this.I),Je(T,"RID",m),Je(T,"CVER",22),this.D&&Je(T,"X-HTTP-Session-Id",this.D),_o(this,T),ne&&(this.O?w="headers="+encodeURIComponent(String(yu(ne)))+"&"+w:this.m&&ln(T,this.m,ne)),Zs(this.h,X),this.Ua&&Je(T,"TYPE","init"),this.P?(Je(T,"$req",w),Je(T,"SID","null"),X.T=!0,ji(X,T,null)):ji(X,T,w),this.G=2}}else this.G==3&&(m?_u(this,m):this.i.length==0||hu(this.h)||_u(this))};function _u(m,w){var T;w?T=w.l:T=m.U++;const P=kt(m.I);Je(P,"SID",m.K),Je(P,"RID",T),Je(P,"AID",m.T),_o(m,P),m.m&&m.o&&ln(P,m.m,m.o),T=new rr(m,m.j,T,m.B+1),m.m===null&&(T.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Gd(m,T,1e3),T.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Zs(m.h,T),ji(T,P,w)}function _o(m,w){m.H&&Q(m.H,function(T,P){Je(w,P,T)}),m.l&&uo({},function(T,P){Je(w,P,T)})}function Gd(m,w,T){T=Math.min(m.i.length,T);var P=m.l?v(m.l.Na,m.l,m):null;e:{var X=m.i;let ne=-1;for(;;){const pe=["count="+T];ne==-1?0<T?(ne=X[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let We=!0;for(let Zt=0;Zt<T;Zt++){let $e=X[Zt].g;const cn=X[Zt].map;if($e-=ne,0>$e)ne=Math.max(0,X[Zt].g-100),We=!1;else try{ar(cn,pe,"req"+$e+"_")}catch{P&&P(cn)}}if(We){P=pe.join("&");break e}}}return m=m.i.splice(0,T),w.D=m,P}function Kd(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;te||Y(),re||(te(),re=!0),fe.add(w,m),m.v=0}}function bu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=qs(v(m.Fa,m),wu(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,Qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=qs(v(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Nl(this),Qd(this))};function bo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Qd(m){m.g=new rr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=kt(m.qa);Je(w,"RID","rpc"),Je(w,"SID",m.K),Je(w,"AID",m.T),Je(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&Je(w,"TO",m.ja),Je(w,"TYPE","xmlhttp"),_o(m,w),m.m&&m.o&&ln(w,m.m,m.o),m.L&&(m.g.I=m.L);var T=m.g;m=m.ia,T.L=1,T.v=fo(kt(w)),T.m=null,T.P=!0,Br(T,m)}i.Za=function(){this.C!=null&&(this.C=null,Nl(this),bu(this),Vt(19))};function Vl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Xd(m,w){var T=null;if(m.g==w){Vl(m),bo(m),m.g=null;var P=2}else if(Xs(m.h,w))T=w.D,pi(m.h,w),P=1;else return;if(m.G!=0){if(w.o)if(P==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var X=m.B;P=Sl(),an(P,new Fd(P,T)),Ll(m)}else Kd(m);else if(X=w.s,X==3||X==0&&0<w.X||!(P==1&&Yg(m,w)||P==2&&bu(m)))switch(T&&0<T.length&&(w=m.h,w.i=w.i.concat(T)),X){case 1:$r(m,5);break;case 4:$r(m,10);break;case 3:$r(m,6);break;default:$r(m,2)}}}function wu(m,w){let T=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(T*=2),T*w}function $r(m,w){if(m.j.info("Error code "+w),w==2){var T=v(m.fb,m),P=m.Xa;const X=!P;P=new zr(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Js(P,"https"),fo(P),X?Yd(P.toString(),T):po(P.toString(),T)}else Vt(2);m.G=0,m.l&&m.l.sa(w),Zd(m),$d(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Zd(m){if(m.G=0,m.ka=[],m.l){const w=Vn(m.h);(w.length!=0||m.i.length!=0)&&(x(m.ka,w),x(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function Jd(m,w,T){var P=T instanceof zr?kt(T):new zr(T);if(P.g!="")w&&(P.g=w+"."+P.g),ho(P,P.s);else{var X=c.location;P=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var ne=new zr(null);P&&Js(ne,P),w&&(ne.g=w),X&&ho(ne,X),T&&(ne.l=T),P=ne}return T=m.D,w=m.ya,T&&w&&Je(P,T,w),Je(P,"VER",m.la),_o(m,P),P}function ef(m,w,T){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new it(new ta({eb:T})):new it(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tf(){}i=tf.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Fl(){}Fl.prototype.g=function(m,w){return new Fn(m,w)};function Fn(m,w){Qt.call(this),this.g=new Pl(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!L(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ur(this)}E(Fn,Qt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){vu(this.g)},Fn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.u&&(T={},T.__data__=su(m),m=T);w.i.push(new Fg(w.Ya++,m)),w.G==3&&Ll(w)},Fn.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,Fn.aa.N.call(this)};function nf(m){zs.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const T in w){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}E(nf,zs);function rf(){Fi.call(this),this.status=1}E(rf,Fi);function ur(m){this.g=m}E(ur,tf),ur.prototype.ua=function(){an(this.g,"a")},ur.prototype.ta=function(m){an(this.g,new nf(m))},ur.prototype.sa=function(m){an(this.g,new rf)},ur.prototype.ra=function(){an(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,a1=function(){return new Fl},s1=function(){return Sl()},r1=fi,j_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xt.NO_ERROR=0,Xt.TIMEOUT=8,Xt.HTTP_ERROR=6,Vp=Xt,Ur.COMPLETE="complete",i1=Ur,Vd.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Eh=Vd,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,n1=it}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});const px="@firebase/firestore",mx="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new Qm("@firebase/firestore");function mc(){return ll.logLevel}function _e(i,...e){if(ll.logLevel<=Be.DEBUG){const t=e.map(Zb);ll.debug(`Firestore (${Qc}): ${i}`,...t)}}function Os(i,...e){if(ll.logLevel<=Be.ERROR){const t=e.map(Zb);ll.error(`Firestore (${Qc}): ${i}`,...t)}}function Ac(i,...e){if(ll.logLevel<=Be.WARN){const t=e.map(Zb);ll.warn(`Firestore (${Qc}): ${i}`,...t)}}function Zb(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(i="Unexpected state"){const e=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: `+i;throw Os(e),new Error(e)}function st(i,e){i||Me()}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mn.UNAUTHENTICATED))}shutdown(){}}class Xj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zj{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let n=this.i;const r=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let s=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ss,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ss)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(st(typeof n.accessToken=="string"),new o1(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Mn(e)}}class Jj{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eU{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Jj(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tU{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const n=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const r=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new gx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=nU(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function qe(i,e){return i<e?-1:i>e?1:0}function Cc(i,e,t){return i.length===e.length&&i.every((n,r)=>t(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=-62135596800,vx=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*vx);return new rn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yx)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vx}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new rn(0,0))}static max(){return new ke(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__name__";class _r{constructor(e,t,n){t===void 0?t=0:t>e.length&&Me(),n===void 0?n=e.length-t:n>e.length-t&&Me(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=_r.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=_r.isNumericId(e),r=_r.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?_r.extractNumericId(e).compare(_r.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class vt extends _r{construct(e,t,n){return new vt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(r=>r.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const iU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends _r{construct(e,t,n){return new En(e,t,n)}static isValidIdentifier(e){return iU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_x}static keyField(){return new En([_x])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(vt.fromString(e))}static fromName(e){return new De(vt.fromString(e).popFirst(5))}static empty(){return new De(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function rU(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(n===1e9?new rn(t+1,0):new rn(t,n));return new za(r,De.empty(),e)}function sU(i){return new za(i.readTime,i.key,Qh)}class za{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new za(ke.min(),De.empty(),Qh)}static max(){return new za(ke.max(),De.empty(),Qh)}}function aU(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(i.documentKey,e.documentKey),t!==0?t:qe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==oU)throw i;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,n)=>{t(e)})}static reject(e){return new ce((t,n)=>{n(e)})}static waitFor(e){return new ce((t,n)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&t()},h=>n(h))}),o=!0,s===r&&t()})}static or(e){let t=ce.resolve(!1);for(const n of e)t=t.next(r=>r?ce.resolve(r):n());return t}static forEach(e,t){const n=[];return e.forEach((r,s)=>{n.push(t.call(this,r,s))}),this.waitFor(n)}static mapArray(e,t){return new ce((n,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;t(e[d]).next(p=>{o[d]=p,++c,c===s&&n(o)},p=>r(p))}})}static doWhile(e,t){return new ce((n,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):n()};s()})}}function cU(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ig.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=-1;function rg(i){return i==null}function fm(i){return i===0&&1/i==-1/0}function uU(i){return typeof i=="number"&&Number.isInteger(i)&&!fm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="";function hU(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=bx(e)),e=dU(i.get(t),e);return bx(e)}function dU(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case c1:t+="";break;default:t+=s}}return t}function bx(i){return i+c1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function io(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function u1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sp(this.root,e,this.comparator,!1)}getReverseIterator(){return new sp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sp(this.root,e,this.comparator,!0)}}class sp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??bn.RED,this.left=r??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new bn(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return bn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,t,n,r,s){return this}insert(e,t,n){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ex(this.data.getIterator())}getIteratorFrom(e){return new Ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class Ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ci([])}unionWith(e){let t=new sn(En.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h1("Invalid base64 string: "+s):s}}(e);return new Sn(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(i){if(st(!!i),typeof i=="string"){let e=0;const t=fU.exec(i);if(st(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:jt(i.seconds),nanos:jt(i.nanos)}}function jt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ya(i){return typeof i=="string"?Sn.fromBase64String(i):Sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="server_timestamp",f1="__type__",p1="__previous_value__",m1="__local_write_time__";function e0(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[f1])===null||t===void 0?void 0:t.stringValue)===d1}function sg(i){const e=i.mapValue.fields[p1];return e0(e)?sg(e):e}function Xh(i){const e=Ha(i.mapValue.fields[m1].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,t,n,r,s,o,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}}const pm="(default)";class Zh{constructor(e,t){this.projectId=e,this.database=t||pm}static empty(){return new Zh("","")}get isDefaultDatabase(){return this.database===pm}isEqual(e){return e instanceof Zh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__type__",mU="__max__",ap={mapValue:{}},y1="__vector__",mm="value";function qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?e0(i)?4:yU(i)?9007199254740991:gU(i)?10:11:Me()}function Or(i,e){if(i===e)return!0;const t=qa(i);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xh(i).isEqual(Xh(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ha(r.timestampValue),c=Ha(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(r,s){return Ya(r.bytesValue).isEqual(Ya(s.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(r,s){return jt(r.geoPointValue.latitude)===jt(s.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(s.geoPointValue.longitude)}(i,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return jt(r.integerValue)===jt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=jt(r.doubleValue),c=jt(s.doubleValue);return o===c?fm(o)===fm(c):isNaN(o)&&isNaN(c)}return!1}(i,e);case 9:return Cc(i.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(wx(o)!==wx(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!Or(o[h],c[h])))return!1;return!0}(i,e);default:return Me()}}function Jh(i,e){return(i.values||[]).find(t=>Or(t,e))!==void 0}function Rc(i,e){if(i===e)return 0;const t=qa(i),n=qa(e);if(t!==n)return qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(i.booleanValue,e.booleanValue);case 2:return function(s,o){const c=jt(s.integerValue||s.doubleValue),h=jt(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(i,e);case 3:return Tx(i.timestampValue,e.timestampValue);case 4:return Tx(Xh(i),Xh(e));case 5:return qe(i.stringValue,e.stringValue);case 6:return function(s,o){const c=Ya(s),h=Ya(o);return c.compareTo(h)}(i.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=qe(c[d],h[d]);if(p!==0)return p}return qe(c.length,h.length)}(i.referenceValue,e.referenceValue);case 8:return function(s,o){const c=qe(jt(s.latitude),jt(o.latitude));return c!==0?c:qe(jt(s.longitude),jt(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Sx(i.arrayValue,e.arrayValue);case 10:return function(s,o){var c,h,d,p;const y=s.fields||{},v=o.fields||{},b=(c=y[mm])===null||c===void 0?void 0:c.arrayValue,E=(h=v[mm])===null||h===void 0?void 0:h.arrayValue,S=qe(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:Sx(b,E)}(i.mapValue,e.mapValue);case 11:return function(s,o){if(s===ap.mapValue&&o===ap.mapValue)return 0;if(s===ap.mapValue)return 1;if(o===ap.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=o.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const v=qe(h[y],p[y]);if(v!==0)return v;const b=Rc(c[h[y]],d[p[y]]);if(b!==0)return b}return qe(h.length,p.length)}(i.mapValue,e.mapValue);default:throw Me()}}function Tx(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return qe(i,e);const t=Ha(i),n=Ha(e),r=qe(t.seconds,n.seconds);return r!==0?r:qe(t.nanos,n.nanos)}function Sx(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const s=Rc(t[r],n[r]);if(s)return s}return qe(t.length,n.length)}function Mc(i){return U_(i)}function U_(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=Ha(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ya(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return De.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=U_(s);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${U_(t.fields[o])}`;return r+"}"}(i.mapValue):Me()}function Fp(i){switch(qa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sg(i);return e?16+Fp(e):16;case 5:return 2*i.stringValue.length;case 6:return Ya(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((r,s)=>r+Fp(s),0)}(i.arrayValue);case 10:case 11:return function(n){let r=0;return io(n.fields,(s,o)=>{r+=s.length+Fp(o)}),r}(i.mapValue);default:throw Me()}}function xx(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function B_(i){return!!i&&"integerValue"in i}function t0(i){return!!i&&"arrayValue"in i}function Dx(i){return!!i&&"nullValue"in i}function Ax(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jp(i){return!!i&&"mapValue"in i}function gU(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[g1])===null||t===void 0?void 0:t.stringValue)===y1}function Lh(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return io(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Lh(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lh(i.arrayValue.values[t]);return e}return Object.assign({},i)}function yU(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(t)}setAll(e){let t=En.emptyPath(),n={},r=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,r),n={},r=[],t=c.popLast()}o?n[c.lastSegment()]=Lh(o):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){io(t,(r,s)=>e[r]=s);for(const r of n)delete e[r]}clone(){return new Qn(Lh(this.value))}}function v1(i){const e=[];return io(i.fields,(t,n)=>{const r=new En([t]);if(jp(n)){const s=v1(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t,n,r,s,o,c){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new kn(e,0,ke.min(),ke.min(),ke.min(),Qn.empty(),0)}static newFoundDocument(e,t,n,r){return new kn(e,1,t,ke.min(),n,r,0)}static newNoDocument(e,t){return new kn(e,2,t,ke.min(),ke.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,ke.min(),ke.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,t){this.position=e,this.inclusive=t}}function Cx(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=De.comparator(De.fromName(o.referenceValue),t.key):n=Rc(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Rx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Or(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t="asc"){this.field=e,this.dir=t}}function vU(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{}class Kt extends _1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new bU(e,t,n):t==="array-contains"?new TU(e,n):t==="in"?new SU(e,n):t==="not-in"?new xU(e,n):t==="array-contains-any"?new DU(e,n):new Kt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new wU(e,n):new EU(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Rc(t,this.value)):t!==null&&qa(this.value)===qa(t)&&this.matchesComparison(Rc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends _1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Qi(e,t)}matches(e){return b1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function b1(i){return i.op==="and"}function w1(i){return _U(i)&&b1(i)}function _U(i){for(const e of i.filters)if(e instanceof Qi)return!1;return!0}function z_(i){if(i instanceof Kt)return i.field.canonicalString()+i.op.toString()+Mc(i.value);if(w1(i))return i.filters.map(e=>z_(e)).join(",");{const e=i.filters.map(t=>z_(t)).join(",");return`${i.op}(${e})`}}function E1(i,e){return i instanceof Kt?function(n,r){return r instanceof Kt&&n.op===r.op&&n.field.isEqual(r.field)&&Or(n.value,r.value)}(i,e):i instanceof Qi?function(n,r){return r instanceof Qi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,c)=>s&&E1(o,r.filters[c]),!0):!1}(i,e):void Me()}function T1(i){return i instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mc(t.value)}`}(i):i instanceof Qi?function(t){return t.op.toString()+" {"+t.getFilters().map(T1).join(" ,")+"}"}(i):"Filter"}class bU extends Kt{constructor(e,t,n){super(e,t,n),this.key=De.fromName(n.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class wU extends Kt{constructor(e,t){super(e,"in",t),this.keys=S1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EU extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=S1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>De.fromName(n.referenceValue))}class TU extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t0(t)&&Jh(t.arrayValue,this.value)}}class SU extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jh(this.value.arrayValue,t)}}class xU extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jh(this.value.arrayValue,t)}}class DU extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Jh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,t=null,n=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}}function Mx(i,e=null,t=[],n=[],r=null,s=null,o=null){return new AU(i,e,t,n,r,s,o)}function n0(i){const e=Oe(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>z_(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),rg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Mc(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Mc(n)).join(",")),e.le=t}return e.le}function i0(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!vU(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!E1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rx(i.startAt,e.startAt)&&Rx(i.endAt,e.endAt)}function H_(i){return De.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t=null,n=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CU(i,e,t,n,r,s,o,c){return new bd(i,e,t,n,r,s,o,c)}function r0(i){return new bd(i)}function kx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function x1(i){return i.collectionGroup!==null}function Vh(i){const e=Oe(i);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new sn(En.comparator);return o.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new ym(s,n))}),t.has(En.keyField().canonicalString())||e.he.push(new ym(En.keyField(),n))}return e.he}function Ar(i){const e=Oe(i);return e.Pe||(e.Pe=RU(e,Vh(i))),e.Pe}function RU(i,e){if(i.limitType==="F")return Mx(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ym(r.field,s)});const t=i.endAt?new gm(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new gm(i.startAt.position,i.startAt.inclusive):null;return Mx(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function Y_(i,e){const t=i.filters.concat([e]);return new bd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function q_(i,e,t){return new bd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ag(i,e){return i0(Ar(i),Ar(e))&&i.limitType===e.limitType}function D1(i){return`${n0(Ar(i))}|lt:${i.limitType}`}function gc(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>T1(r)).join(", ")}]`),rg(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Mc(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Mc(r)).join(",")),`Target(${n})`}(Ar(i))}; limitType=${i.limitType})`}function og(i,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):De.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(i,e)&&function(n,r){for(const s of Vh(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(i,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(i,e)&&function(n,r){return!(n.startAt&&!function(o,c,h){const d=Cx(o,c,h);return o.inclusive?d<=0:d<0}(n.startAt,Vh(n),r)||n.endAt&&!function(o,c,h){const d=Cx(o,c,h);return o.inclusive?d>=0:d>0}(n.endAt,Vh(n),r))}(i,e)}function MU(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function A1(i){return(e,t)=>{let n=!1;for(const r of Vh(i)){const s=kU(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function kU(i,e,t){const n=i.field.isKeyField()?De.comparator(e.key,t.key):function(s,o,c){const h=o.data.field(s),d=c.data.field(s);return h!==null&&d!==null?Rc(h,d):Me()}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return u1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new Rt(De.comparator);function Ps(){return IU}const C1=new Rt(De.comparator);function Th(...i){let e=C1;for(const t of i)e=e.insert(t.key,t);return e}function R1(i){let e=C1;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Qo(){return Fh()}function M1(){return Fh()}function Fh(){return new yl(i=>i.toString(),(i,e)=>i.isEqual(e))}const OU=new Rt(De.comparator),PU=new sn(De.comparator);function ze(...i){let e=PU;for(const t of i)e=e.add(t);return e}const NU=new sn(qe);function LU(){return NU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fm(e)?"-0":e}}function k1(i){return{integerValue:""+i}}function VU(i,e){return uU(e)?k1(e):s0(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this._=void 0}}function FU(i,e,t){return i instanceof vm?function(r,s){const o={fields:{[f1]:{stringValue:d1},[m1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&e0(s)&&(s=sg(s)),s&&(o.fields[p1]=s),{mapValue:o}}(t,e):i instanceof ed?O1(i,e):i instanceof td?P1(i,e):function(r,s){const o=I1(r,s),c=Ix(o)+Ix(r.Ie);return B_(o)&&B_(r.Ie)?k1(c):s0(r.serializer,c)}(i,e)}function jU(i,e,t){return i instanceof ed?O1(i,e):i instanceof td?P1(i,e):t}function I1(i,e){return i instanceof _m?function(n){return B_(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class vm extends lg{}class ed extends lg{constructor(e){super(),this.elements=e}}function O1(i,e){const t=N1(e);for(const n of i.elements)t.some(r=>Or(r,n))||t.push(n);return{arrayValue:{values:t}}}class td extends lg{constructor(e){super(),this.elements=e}}function P1(i,e){let t=N1(e);for(const n of i.elements)t=t.filter(r=>!Or(r,n));return{arrayValue:{values:t}}}class _m extends lg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ix(i){return jt(i.integerValue||i.doubleValue)}function N1(i){return t0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UU(i,e){return i.field.isEqual(e.field)&&function(n,r){return n instanceof ed&&r instanceof ed||n instanceof td&&r instanceof td?Cc(n.elements,r.elements,Or):n instanceof _m&&r instanceof _m?Or(n.Ie,r.Ie):n instanceof vm&&r instanceof vm}(i.transform,e.transform)}class BU{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Up(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cg{}function L1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new F1(i.key,Cr.none()):new wd(i.key,i.data,Cr.none());{const t=i.data,n=Qn.empty();let r=new sn(En.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new ro(i.key,n,new ci(r.toArray()),Cr.none())}}function zU(i,e,t){i instanceof wd?function(r,s,o){const c=r.value.clone(),h=Px(r.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(i,e,t):i instanceof ro?function(r,s,o){if(!Up(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=Px(r.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(V1(r)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(i,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function jh(i,e,t,n){return i instanceof wd?function(s,o,c,h){if(!Up(s.precondition,o))return c;const d=s.value.clone(),p=Nx(s.fieldTransforms,h,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(i,e,t,n):i instanceof ro?function(s,o,c,h){if(!Up(s.precondition,o))return c;const d=Nx(s.fieldTransforms,h,o),p=o.data;return p.setAll(V1(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(i,e,t,n):function(s,o,c){return Up(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(i,e,t)}function HU(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=I1(n.transform,r||null);s!=null&&(t===null&&(t=Qn.empty()),t.set(n.field,s))}return t||null}function Ox(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Cc(n,r,(s,o)=>UU(s,o))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wd extends cg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ro extends cg{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function V1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function Px(i,e,t){const n=new Map;st(i.length===t.length);for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,c=e.data.field(s.field);n.set(s.field,jU(o,c,t[r]))}return n}function Nx(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,FU(s,o,e))}return n}class F1 extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YU extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&zU(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=M1();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const h=L1(o,c);h!==null&&n.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(ke.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,(t,n)=>Ox(t,n))&&Cc(this.baseMutations,e.baseMutations,(t,n)=>Ox(t,n))}}class a0{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){st(e.mutations.length===n.length);let r=function(){return OU}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new a0(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Ke;function GU(i){switch(i){case ue.OK:return Me();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Me()}}function j1(i){if(i===void 0)return Os("GRPC error has no .code"),ue.UNKNOWN;switch(i){case $t.OK:return ue.OK;case $t.CANCELLED:return ue.CANCELLED;case $t.UNKNOWN:return ue.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ue.INTERNAL;case $t.UNAVAILABLE:return ue.UNAVAILABLE;case $t.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case $t.NOT_FOUND:return ue.NOT_FOUND;case $t.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case $t.ABORTED:return ue.ABORTED;case $t.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case $t.DATA_LOSS:return ue.DATA_LOSS;default:return Me()}}(Ke=$t||($t={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=new La([4294967295,4294967295],0);function Lx(i){const e=KU().encode(i),t=new t1;return t.update(e),new Uint8Array(t.digest())}function Vx(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new La([t,n],0),new La([r,s],0)]}class o0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sh(`Invalid padding: ${t}`);if(n<0)throw new Sh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Sh(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Sh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=La.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(La.fromNumber(n)));return r.compare(QU)===1&&(r=new La([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Lx(e),[n,r]=Vx(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,r,s);if(!this.Re(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o0(s,r,t);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;const t=Lx(e),[n,r]=Vx(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(n,r,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ed.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ug(ke.min(),r,new Rt(qe),Ps(),ze())}}class Ed{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ed(n,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class U1{constructor(e,t){this.targetId=e,this.ge=t}}class B1{constructor(e,t,n=Sn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fx{constructor(){this.pe=0,this.ye=jx(),this.we=Sn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ze(),t=ze(),n=ze();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Me()}}),new Ed(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=jx()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class XU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ps(),this.$e=op(),this.Ke=op(),this.Ue=new Rt(qe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const s=r.target;if(H_(s))if(n===0){const o=new De(s.path);this.ze(t,o,kn.newNoDocument(o,ke.min()))}else st(n===1);else{const o=this.et(t);if(o!==n){const c=this.tt(e),h=c?this.nt(c,e,o):1;if(h!==0){this.Ye(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,d)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,c;try{o=Ya(n).toUint8Array()}catch(h){if(h instanceof h1)return Ac("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new o0(o,r,s)}catch(h){return Ac(h instanceof Sh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach(s=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(t,s,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const c=this.Xe(o);if(c){if(s.current&&H_(c.target)){const h=new De(c.target.path);this._t(h).has(o)||this.ut(o,h)||this.ze(o,h,kn.newNoDocument(h,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let n=ze();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(h=>{const d=this.Xe(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new ug(e,t,this.Ue,this.Qe,n);return this.Qe=Ps(),this.$e=op(),this.Ke=op(),this.Ue=new Rt(qe),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Fx,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new sn(qe),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new sn(qe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fx),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function op(){return new Rt(De.comparator)}function jx(){return new Rt(De.comparator)}const ZU={asc:"ASCENDING",desc:"DESCENDING"},JU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4={and:"AND",or:"OR"};class t4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function W_(i,e){return i.useProto3Json||rg(e)?e:{value:e}}function bm(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function n4(i,e){return bm(i,e.toTimestamp())}function Rr(i){return st(!!i),ke.fromTimestamp(function(t){const n=Ha(t);return new rn(n.seconds,n.nanos)}(i))}function l0(i,e){return $_(i,e).canonicalString()}function $_(i,e){const t=function(r){return new vt(["projects",r.projectId,"databases",r.database])}(i).child("documents");return e===void 0?t:t.child(e)}function H1(i){const e=vt.fromString(i);return st(G1(e)),e}function G_(i,e){return l0(i.databaseId,e.path)}function Zv(i,e){const t=H1(e);if(t.get(1)!==i.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new De(q1(t))}function Y1(i,e){return l0(i.databaseId,e)}function i4(i){const e=H1(i);return e.length===4?vt.emptyPath():q1(e)}function K_(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function q1(i){return st(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Ux(i,e,t){return{name:G_(i,e),fields:t.value.mapValue.fields}}function r4(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(st(p===void 0||typeof p=="string"),Sn.fromBase64String(p||"")):(st(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Sn.fromUint8Array(p||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const p=d.code===void 0?ue.UNKNOWN:j1(d.code);return new be(p,d.message||"")}(o);t=new B1(n,r,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Zv(i,n.document.name),s=Rr(n.document.updateTime),o=n.document.createTime?Rr(n.document.createTime):ke.min(),c=new Qn({mapValue:{fields:n.document.fields}}),h=kn.newFoundDocument(r,s,o,c),d=n.targetIds||[],p=n.removedTargetIds||[];t=new Bp(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Zv(i,n.document),s=n.readTime?Rr(n.readTime):ke.min(),o=kn.newNoDocument(r,s),c=n.removedTargetIds||[];t=new Bp([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Zv(i,n.document),s=n.removedTargetIds||[];t=new Bp([],s,r,null)}else{if(!("filter"in e))return Me();{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new $U(r,s),c=n.targetId;t=new U1(c,o)}}return t}function s4(i,e){let t;if(e instanceof wd)t={update:Ux(i,e.key,e.value)};else if(e instanceof F1)t={delete:G_(i,e.key)};else if(e instanceof ro)t={update:Ux(i,e.key,e.data),updateMask:p4(e.fieldMask)};else{if(!(e instanceof YU))return Me();t={verify:G_(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof vm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ed)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof td)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _m)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw Me()}(0,n))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:n4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me()}(i,e.precondition)),t}function a4(i,e){return i&&i.length>0?(st(e!==void 0),i.map(t=>function(r,s){let o=r.updateTime?Rr(r.updateTime):Rr(s);return o.isEqual(ke.min())&&(o=Rr(s)),new BU(o,r.transformResults||[])}(t,e))):[]}function o4(i,e){return{documents:[Y1(i,e.path)]}}function l4(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Y1(i,r);const s=function(d){if(d.length!==0)return $1(Qi.create(d,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:yc(v.field),direction:h4(v.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=W_(i,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ht:t,parent:r}}function c4(i){let e=i4(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){st(n===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){const v=W1(y);return v instanceof Qi&&w1(v)?v.getFilters():[v]}(t.where));let o=[];t.orderBy&&(o=function(y){return y.map(v=>function(E){return new ym(vc(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let c=null;t.limit&&(c=function(y){let v;return v=typeof y=="object"?y.value:y,rg(v)?null:v}(t.limit));let h=null;t.startAt&&(h=function(y){const v=!!y.before,b=y.values||[];return new gm(b,v)}(t.startAt));let d=null;return t.endAt&&(d=function(y){const v=!y.before,b=y.values||[];return new gm(b,v)}(t.endAt)),CU(e,r,o,s,c,"F",h,d)}function u4(i,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function W1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=vc(t.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=vc(t.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vc(t.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vc(t.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(i):i.fieldFilter!==void 0?function(t){return Kt.create(vc(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Qi.create(t.compositeFilter.filters.map(n=>W1(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Me()}}(t.compositeFilter.op))}(i):Me()}function h4(i){return ZU[i]}function d4(i){return JU[i]}function f4(i){return e4[i]}function yc(i){return{fieldPath:i.canonicalString()}}function vc(i){return En.fromServerFormat(i.fieldPath)}function $1(i){return i instanceof Kt?function(t){if(t.op==="=="){if(Ax(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NAN"}};if(Dx(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ax(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NAN"}};if(Dx(t.value))return{unaryFilter:{field:yc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(t.field),op:d4(t.op),value:t.value}}}(i):i instanceof Qi?function(t){const n=t.getFilters().map(r=>$1(r));return n.length===1?n[0]:{compositeFilter:{op:f4(t.op),filters:n}}}(i):Me()}function p4(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function G1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,n,r,s=ke.min(),o=ke.min(),c=Sn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.Tt=e}}function g4(i){const e=c4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?q_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.Tn=new v4}addToCollectionParentIndex(e,t){return this.Tn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(za.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(za.min())}updateCollectionGroup(e,t,n){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class v4{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sn(vt.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new sn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(K1,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new kc(0)}static Un(){return new kc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="LruGarbageCollector",_4=1048576;function Hx([i,e],[t,n]){const r=qe(i,t);return r===0?qe(e,n):r}class b4{constructor(e){this.Hn=e,this.buffer=new sn(Hx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Hx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(zx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zc(t)?_e(zx,"Ignoring IndexedDB error during garbage collection: ",t):await Xc(t)}await this.er(3e5)})}}class E4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(ig.ae);const n=new b4(t);return this.tr.forEachTarget(e,r=>n.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>n.Zn(r))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Bx)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bx):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,s,o,c,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,o=Date.now(),this.nthSequenceNumber(e,r))).next(y=>(n=y,c=Date.now(),this.removeTargets(e,n,t))).next(y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(d=Date.now(),mc()<=Be.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})))}}function T4(i,e){return new E4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.changes=new yl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(n!==null&&jh(n.mutation,r,ci.empty(),rn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,ze()).next(()=>n))}getLocalViewOfDocuments(e,t,n=ze()){const r=Qo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(s=>{let o=Th();return s.forEach((c,h)=>{o=o.insert(c,h.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=Qo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ze()))}populateOverlays(e,t,n){const r=[];return n.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,n,r){let s=Ps();const o=Fh(),c=function(){return Fh()}();return t.forEach((h,d)=>{const p=n.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof ro)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),jh(p.mutation,d,p.mutation.getFieldMask(),rn.now())):o.set(d.key,ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>{var y;return c.set(d,new x4(p,(y=o.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Fh();let r=new Rt((o,c)=>o-c),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const c of o)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let p=n.get(h)||ci.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(r.get(c.batchId)||ze()).add(h);r=r.insert(c.batchId,y)})}).next(()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=M1();p.forEach(v=>{if(!s.has(v)){const b=L1(t.get(v),n.get(v));b!==null&&y.set(v,b),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return ce.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,r){return function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):x1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):ce.resolve(Qo());let c=Qh,h=s;return o.next(d=>ce.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{h=h.insert(p,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,h,d,ze())).next(p=>({batchId:c,changes:R1(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(n=>{let r=Th();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=Th();return this.indexManager.getCollectionParents(e,s).next(c=>ce.forEach(c,h=>{const d=function(y,v){return new bd(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,r).next(p=>{p.forEach((y,v)=>{o=o.insert(y,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(o=>{s.forEach((h,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,kn.newInvalidDocument(p)))});let c=Th();return o.forEach((h,d)=>{const p=s.get(h);p!==void 0&&jh(p.mutation,d,ci.empty(),rn.now()),og(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ce.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Rr(r.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:g4(r.bundledQuery),readTime:Rr(r.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.overlays=new Rt(De.comparator),this.Rr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qo();return ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((r,s)=>{this.Et(e,t,s)}),ce.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(n)),ce.resolve()}getOverlaysForCollection(e,t,n){const r=Qo(),s=t.length+1,o=new De(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>n&&r.set(h.getKey(),h)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Rt((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=Qo(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Qo(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=r)););return ce.resolve(c)}Et(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new WU(t,n));let s=this.Rr.get(t);s===void 0&&(s=ze(),this.Rr.set(t,s)),this.Rr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Vr=new sn(fn.mr),this.gr=new sn(fn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new fn(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new fn(e,t))}br(e,t){e.forEach(n=>this.removeReference(n,t))}Sr(e){const t=new De(new vt([])),n=new fn(t,e),r=new fn(t,e+1),s=[];return this.gr.forEachInRange([n,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new De(new vt([])),n=new fn(t,e),r=new fn(t,e+1);let s=ze();return this.gr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new fn(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class fn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return De.comparator(e.key,t.key)||qe(e.Cr,t.Cr)}static pr(e,t){return qe(e.Cr,t.Cr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new sn(fn.mr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qU(s,t,n,r);this.mutationQueue.push(o);for(const c of r)this.Mr=this.Mr.add(new fn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ce.resolve(o)}lookupMutationBatch(e,t){return ce.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Jb:this.Fr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fn(t,0),r=new fn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([n,r],o=>{const c=this.Or(o.Cr);s.push(c)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new sn(qe);return t.forEach(r=>{const s=new fn(r,0),o=new fn(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{n=n.add(c.Cr)})}),ce.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;De.isDocumentKey(s)||(s=s.child(""));const o=new fn(new De(s),0);let c=new sn(qe);return this.Mr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(h.Cr)),!0)},o),ce.resolve(this.Br(c))}Br(e){const t=[];return e.forEach(n=>{const r=this.Or(n);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return ce.forEach(t.mutations,r=>{const s=new fn(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new fn(t,0),r=this.Mr.firstAfterOrEqual(n);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.kr=e,this.docs=function(){return new Rt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ce.resolve(n?n.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let n=Ps();return t.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():kn.newInvalidDocument(r))}),ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ps();const o=t.path,c=new De(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||aU(sU(p),n)<=0||(r.has(p.key)||og(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Me()}qr(e,t){return ce.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new I4(this)}getSize(e){return ce.resolve(this.size)}}class I4 extends S4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)}),ce.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.persistence=e,this.Qr=new yl(t=>n0(t),i0),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new c0,this.targetCount=0,this.Ur=kc.Kn()}forEachTarget(e,t){return this.Qr.forEach((n,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ce.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new kc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.zn(t),ce.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ce.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),ce.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return ce.resolve(n)}containsKey(e,t){return ce.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ig(0),this.zr=!1,this.zr=!0,this.jr=new R4,this.referenceDelegate=e(this),this.Hr=new O4(this),this.indexManager=new y4,this.remoteDocumentCache=function(r){return new k4(r)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new m4(t),this.Yr=new A4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new C4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new M4(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){_e("MemoryPersistence","Starting transaction:",e);const r=new P4(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,t){return ce.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class P4 extends lU{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.ti=new c0,this.ni=null}static ri(e){return new u0(e)}get ii(){if(this.ni)return this.ni;throw Me()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ce.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(r=>this.ii.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.ii,n=>{const r=De.fromPath(n);return this.si(e,r).next(s=>{s||t.removeEntry(r,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ce.or([()=>ce.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class wm{constructor(e,t){this.persistence=e,this.oi=new yl(n=>hU(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=T4(this,t)}static ri(e,t){return new wm(e,t)}Zr(){}Xr(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(r=>n+r))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return ce.forEach(this.oi,(n,r)=>this.ar(e,n,r).next(s=>s?ce.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,t).next(c=>{c||(n++,s.removeEntry(o,ke.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ce.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fp(e.data.value)),t}ar(e,t,n){return ce.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return ce.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=ze(),r=ze();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new h0(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KN()?8:cU(On())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new N4;return this._s(e,t,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,t,o,c.size)})}).next(()=>s.result)}us(e,t,n,r){return n.documentReadCount<this.es?(mc()<=Be.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",gc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ce.resolve()):(mc()<=Be.DEBUG&&_e("QueryEngine","Query:",gc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(mc()<=Be.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",gc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ce.resolve())}rs(e,t){if(kx(t))return ce.resolve(null);let n=Ar(t);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=q_(t,null,"F"),n=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=ze(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.cs(t,c);return this.ls(t,d,o,h.readTime)?this.rs(e,q_(t,null,"F")):this.hs(e,d,t,h)}))})))}ss(e,t,n,r){return kx(t)||r.isEqual(ke.min())?ce.resolve(null):this.ns.getDocuments(e,n).next(s=>{const o=this.cs(t,s);return this.ls(t,o,n,r)?ce.resolve(null):(mc()<=Be.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gc(t)),this.hs(e,o,t,rU(r,Qh)).next(c=>c))})}cs(e,t){let n=new sn(A1(e));return t.forEach((r,s)=>{og(e,s)&&(n=n.add(s))}),n}ls(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,t,n){return mc()<=Be.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",gc(t)),this.ns.getDocumentsMatchingQuery(e,t,za.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",V4=3e8;class F4{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Rt(qe),this.Is=new yl(s=>n0(s),i0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function j4(i,e,t,n){return new F4(i,e,t,n)}async function X1(i,e){const t=Oe(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let h=ze();for(const d of r){o.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(n,h).next(d=>({Rs:d,removedBatchIds:o,addedBatchIds:c}))})})}function U4(i,e){const t=Oe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,d,p){const y=d.batch,v=y.keys();let b=ce.resolve();return v.forEach(E=>{b=b.next(()=>p.getEntry(h,E)).next(S=>{const x=d.docVersions.get(E);st(x!==null),S.version.compareTo(x)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=ze();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,r))})}function Z1(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function B4(i,e){const t=Oe(i),n=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const c=[];e.targetChanges.forEach((p,y)=>{const v=r.get(y);if(!v)return;c.push(t.Hr.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(s,p.addedDocuments,y)));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(Sn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),r=r.insert(y,b),function(S,x,M){return S.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=V4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,b,p)&&c.push(t.Hr.updateTargetData(s,b))});let h=Ps(),d=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(z4(s,o,e.documentUpdates).next(p=>{h=p.Vs,d=p.fs})),!n.isEqual(ke.min())){const p=t.Hr.getLastRemoteSnapshotVersion(s).next(y=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return ce.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,h,d)).next(()=>h)}).then(s=>(t.Ts=r,s))}function z4(i,e,t){let n=ze(),r=ze();return t.forEach(s=>n=n.add(s)),e.getEntries(i,n).next(s=>{let o=Ps();return t.forEach((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):_e(d0,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Vs:o,fs:r}})}function H4(i,e){const t=Oe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Jb),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Y4(i,e){const t=Oe(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return t.Hr.getTargetData(n,e).next(s=>s?(r=s,ce.resolve(r)):t.Hr.allocateTargetId(n).next(o=>(r=new Ca(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=t.Ts.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Q_(i,e,t){const n=Oe(i),r=n.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Zc(o))throw o;_e(d0,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(r.target)}function Yx(i,e,t){const n=Oe(i);let r=ke.min(),s=ze();return n.persistence.runTransaction("Execute query","readwrite",o=>function(h,d,p){const y=Oe(h),v=y.Is.get(p);return v!==void 0?ce.resolve(y.Ts.get(v)):y.Hr.getTargetData(d,p)}(n,o,Ar(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,c.targetId).next(h=>{s=h})}).next(()=>n.Ps.getDocumentsMatchingQuery(o,e,t?r:ke.min(),t?s:ze())).next(c=>(q4(n,MU(e),c),{documents:c,gs:s})))}function q4(i,e,t){let n=i.Es.get(e)||ke.min();t.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),i.Es.set(e,n)}class qx{constructor(){this.activeTargetIds=LU()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.ho=new qx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qx,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="ConnectivityMonitor";class $x{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(Wx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(Wx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp=null;function X_(){return lp===null?lp=function(){return 268435456+Math.round(2147483648*Math.random())}():lp++,"0x"+lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="RestConnection",G4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===pm?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,s){const o=X_(),c=this.So(e,t.toUriEncodedString());_e(Jv,`Sending RPC '${e}' ${o}:`,c,n);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,r,s),this.vo(e,c,h,n).then(d=>(_e(Jv,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Ac(Jv,`RPC '${e}' ${o} failed with error: `,d,"url: ",c,"request:",n),d})}Co(e,t,n,r,s,o){return this.bo(e,t,n,r,s)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),n&&n.headers.forEach((r,s)=>e[s]=r)}So(e,t){const n=G4[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class X4 extends K4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const s=X_();return new Promise((o,c)=>{const h=new n1;h.setWithCredentials(!0),h.listenOnce(i1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Vp.NO_ERROR:const p=h.getResponseJson();_e(Cn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Vp.TIMEOUT:_e(Cn,`RPC '${e}' ${s} timed out`),c(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Vp.HTTP_ERROR:const y=h.getStatus();if(_e(Cn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const E=function(x){const M=x.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(M)>=0?M:ue.UNKNOWN}(b.status);c(new be(E,b.message))}else c(new be(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new be(ue.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{_e(Cn,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(r);_e(Cn,`RPC '${e}' ${s} sending request:`,r),h.send(t,"POST",d,n,15)})}Wo(e,t,n){const r=X_(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a1(),c=s1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const p=s.join("");_e(Cn,`Creating RPC '${e}' stream ${r}: ${p}`,h);const y=o.createWebChannel(p,h);let v=!1,b=!1;const E=new Q4({Fo:x=>{b?_e(Cn,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(v||(_e(Cn,`Opening RPC '${e}' stream ${r} transport.`),y.open(),v=!0),_e(Cn,`RPC '${e}' stream ${r} sending:`,x),y.send(x))},Mo:()=>y.close()}),S=(x,M,L)=>{x.listen(M,j=>{try{L(j)}catch(W){setTimeout(()=>{throw W},0)}})};return S(y,Eh.EventType.OPEN,()=>{b||(_e(Cn,`RPC '${e}' stream ${r} transport opened.`),E.Qo())}),S(y,Eh.EventType.CLOSE,()=>{b||(b=!0,_e(Cn,`RPC '${e}' stream ${r} transport closed`),E.Ko())}),S(y,Eh.EventType.ERROR,x=>{b||(b=!0,Ac(Cn,`RPC '${e}' stream ${r} transport errored:`,x),E.Ko(new be(ue.UNAVAILABLE,"The operation could not be completed")))}),S(y,Eh.EventType.MESSAGE,x=>{var M;if(!b){const L=x.data[0];st(!!L);const j=L,W=(j==null?void 0:j.error)||((M=j[0])===null||M===void 0?void 0:M.error);if(W){_e(Cn,`RPC '${e}' stream ${r} received error:`,W);const H=W.status;let Q=function(A){const k=$t[A];if(k!==void 0)return j1(k)}(H),O=W.message;Q===void 0&&(Q=ue.INTERNAL,O="Unknown error status: "+H+" with message "+W.message),b=!0,E.Ko(new be(Q,O)),y.close()}else _e(Cn,`RPC '${e}' stream ${r} received:`,L),E.Uo(L)}}),S(c,r1.STAT_EVENT,x=>{x.stat===j_.PROXY?_e(Cn,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===j_.NOPROXY&&_e(Cn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}}function e_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i){return new t4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&_e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="PersistentStream";class eM{constructor(e,t,n,r,s,o,c,h){this.Ti=e,this.n_=n,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new J1(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Os(t.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.i_===t&&this.V_(n,r)},n=>{e(()=>{const r=new be(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(r)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{n(()=>this.m_(r))}),this.stream.onMessage(r=>{n(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(Gx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(_e(Gx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z4 extends eM{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=r4(this.serializer,e),n=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Rr(o.readTime):ke.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=K_(this.serializer),t.addTarget=function(s,o){let c;const h=o.target;if(c=H_(h)?{documents:o4(s,h)}:{query:l4(s,h).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=z1(s,o.resumeToken);const d=W_(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ke.min())>0){c.readTime=bm(s,o.snapshotVersion.toTimestamp());const d=W_(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=u4(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=K_(this.serializer),t.removeTarget=e,this.I_(t)}}class J4 extends eM{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=a4(e.writeResults,e.commitTime),n=Rr(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=K_(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>s4(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{}class tB extends eB{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,$_(t,n),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ue.UNKNOWN,s.toString())})}Co(e,t,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,$_(t,n),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ue.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Os(t),this.N_=!1):_e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="RemoteStore";class iB{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{n.enqueueAndForget(async()=>{vl(this)&&(_e(cl,"Restarting streams for network reachability change."),await async function(h){const d=Oe(h);d.W_.add(4),await Td(d),d.j_.set("Unknown"),d.W_.delete(4),await dg(d)}(this))})}),this.j_=new nB(n,r)}}async function dg(i){if(vl(i))for(const e of i.G_)await e(!0)}async function Td(i){for(const e of i.G_)await e(!1)}function tM(i,e){const t=Oe(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),g0(t)?m0(t):Jc(t).c_()&&p0(t,e))}function f0(i,e){const t=Oe(i),n=Jc(t);t.U_.delete(e),n.c_()&&nM(t,e),t.U_.size===0&&(n.c_()?n.P_():vl(t)&&t.j_.set("Unknown"))}function p0(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jc(i).y_(e)}function nM(i,e){i.H_.Ne(e),Jc(i).w_(e)}function m0(i){i.H_=new XU({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Jc(i).start(),i.j_.B_()}function g0(i){return vl(i)&&!Jc(i).u_()&&i.U_.size>0}function vl(i){return Oe(i).W_.size===0}function iM(i){i.H_=void 0}async function rB(i){i.j_.set("Online")}async function sB(i){i.U_.forEach((e,t)=>{p0(i,e)})}async function aB(i,e){iM(i),g0(i)?(i.j_.q_(e),m0(i)):i.j_.set("Unknown")}async function oB(i,e,t){if(i.j_.set("Online"),e instanceof B1&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const c of s.targetIds)r.U_.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.U_.delete(c),r.H_.removeTarget(c))}(i,e)}catch(n){_e(cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Em(i,n)}else if(e instanceof Bp?i.H_.We(e):e instanceof U1?i.H_.Ze(e):i.H_.je(e),!t.isEqual(ke.min()))try{const n=await Z1(i.localStore);t.compareTo(n)>=0&&await function(s,o){const c=s.H_.ot(o);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.U_.get(d);p&&s.U_.set(d,p.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,d)=>{const p=s.U_.get(h);if(!p)return;s.U_.set(h,p.withResumeToken(Sn.EMPTY_BYTE_STRING,p.snapshotVersion)),nM(s,h);const y=new Ca(p.target,h,d,p.sequenceNumber);p0(s,y)}),s.remoteSyncer.applyRemoteEvent(c)}(i,t)}catch(n){_e(cl,"Failed to raise snapshot:",n),await Em(i,n)}}async function Em(i,e,t){if(!Zc(e))throw e;i.W_.add(1),await Td(i),i.j_.set("Offline"),t||(t=()=>Z1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{_e(cl,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await dg(i)})}function rM(i,e){return e().catch(t=>Em(i,t,e))}async function fg(i){const e=Oe(i),t=Wa(e);let n=e.K_.length>0?e.K_[e.K_.length-1].batchId:Jb;for(;lB(e);)try{const r=await H4(e.localStore,n);if(r===null){e.K_.length===0&&t.P_();break}n=r.batchId,cB(e,r)}catch(r){await Em(e,r)}sM(e)&&aM(e)}function lB(i){return vl(i)&&i.K_.length<10}function cB(i,e){i.K_.push(e);const t=Wa(i);t.c_()&&t.b_&&t.S_(e.mutations)}function sM(i){return vl(i)&&!Wa(i).u_()&&i.K_.length>0}function aM(i){Wa(i).start()}async function uB(i){Wa(i).C_()}async function hB(i){const e=Wa(i);for(const t of i.K_)e.S_(t.mutations)}async function dB(i,e,t){const n=i.K_.shift(),r=a0.from(n,e,t);await rM(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),await fg(i)}async function fB(i,e){e&&Wa(i).b_&&await async function(n,r){if(function(o){return GU(o)&&o!==ue.ABORTED}(r.code)){const s=n.K_.shift();Wa(n).h_(),await rM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fg(n)}}(i,e),sM(i)&&aM(i)}async function Kx(i,e){const t=Oe(i);t.asyncQueue.verifyOperationInProgress(),_e(cl,"RemoteStore received new credentials");const n=vl(t);t.W_.add(3),await Td(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await dg(t)}async function pB(i,e){const t=Oe(i);e?(t.W_.delete(2),await dg(t)):e||(t.W_.add(2),await Td(t),t.j_.set("Unknown"))}function Jc(i){return i.J_||(i.J_=function(t,n,r){const s=Oe(t);return s.M_(),new Z4(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{xo:rB.bind(null,i),No:sB.bind(null,i),Lo:aB.bind(null,i),p_:oB.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),g0(i)?m0(i):i.j_.set("Unknown")):(await i.J_.stop(),iM(i))})),i.J_}function Wa(i){return i.Y_||(i.Y_=function(t,n,r){const s=Oe(t);return s.M_(),new J4(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:uB.bind(null,i),Lo:fB.bind(null,i),D_:hB.bind(null,i),v_:dB.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await fg(i)):(await i.Y_.stop(),i.K_.length>0&&(_e(cl,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,c=new y0(e,t,o,r,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v0(i,e){if(Os("AsyncQueue",`${e}: ${i}`),Zc(i))return new be(ue.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||De.comparator(t.key,n.key):(t,n)=>De.comparator(t.key,n.key),this.keyedMap=Th(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.Z_=new Rt(De.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Me():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Ic{constructor(e,t,n,r,s,o,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new Ic(e,t,Tc.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class gB{constructor(){this.queries=Xx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const r=Oe(t),s=r.queries;r.queries=Xx(),s.forEach((o,c)=>{for(const h of c.ta)h.onError(n)})})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function Xx(){return new yl(i=>D1(i),ag)}async function oM(i,e){const t=Oe(i);let n=3;const r=e.query;let s=t.queries.get(r);s?!s.na()&&e.ra()&&(n=2):(s=new mB,n=e.ra()?0:1);try{switch(n){case 0:s.ea=await t.onListen(r,!0);break;case 1:s.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const c=v0(o,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&_0(t)}async function lM(i,e){const t=Oe(i),n=e.query;let r=3;const s=t.queries.get(n);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function yB(i,e){const t=Oe(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const c of o.ta)c.oa(r)&&(n=!0);o.ea=r}}n&&_0(t)}function vB(i,e,t){const n=Oe(i),r=n.queries.get(e);if(r)for(const s of r.ta)s.onError(t);n.queries.delete(e)}function _0(i){i.ia.forEach(e=>{e.next()})}var Z_,Zx;(Zx=Z_||(Z_={}))._a="default",Zx.Cache="cache";class cM{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Ic(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Z_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.key=e}}class hM{constructor(e){this.key=e}}class _B{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=A1(e),this.wa=new Tc(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new Qx,r=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,y)=>{const v=r.get(p),b=og(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;v&&b?v.data.isEqual(b.data)?E!==S&&(n.track({type:3,doc:b}),x=!0):this.va(v,b)||(n.track({type:2,doc:b}),x=!0,(h&&this.ya(b,h)>0||d&&this.ya(b,d)<0)&&(c=!0)):!v&&b?(n.track({type:0,doc:b}),x=!0):v&&!b&&(n.track({type:1,doc:v}),x=!0,(h||d)&&(c=!0)),x&&(b?(o=o.add(b),s=S?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{wa:o,Da:n,ls:c,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((p,y)=>function(b,E){const S=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return S(b)-S(E)}(p.type,y.type)||this.ya(p.doc,y.doc)),this.Ca(n),r=r!=null&&r;const c=t&&!r?this.Fa():[],h=this.pa.size===0&&this.current&&!r?1:0,d=h!==this.ga;return this.ga=h,o.length!==0||d?{snapshot:new Ic(this.query,e.wa,s,o,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qx,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new hM(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new uM(n))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ic.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const b0="SyncEngine";class bB{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wB{constructor(e){this.key=e,this.Ba=!1}}class EB{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new yl(c=>D1(c),ag),this.qa=new Map,this.Qa=new Set,this.$a=new Rt(De.comparator),this.Ka=new Map,this.Ua=new c0,this.Wa={},this.Ga=new Map,this.za=kc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function TB(i,e,t=!0){const n=yM(i);let r;const s=n.ka.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await dM(n,e,t,!0),r}async function SB(i,e){const t=yM(i);await dM(t,e,!0,!1)}async function dM(i,e,t,n){const r=await Y4(i.localStore,Ar(e)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await xB(i,e,s,o==="current",r.resumeToken)),i.isPrimaryClient&&t&&tM(i.remoteStore,r),c}async function xB(i,e,t,n,r){i.Ha=(y,v,b)=>async function(S,x,M,L){let j=x.view.Sa(M);j.ls&&(j=await Yx(S.localStore,x.query,!1).then(({documents:O})=>x.view.Sa(O,j)));const W=L&&L.targetChanges.get(x.targetId),H=L&&L.targetMismatches.get(x.targetId)!=null,Q=x.view.applyChanges(j,S.isPrimaryClient,W,H);return eD(S,x.targetId,Q.Ma),Q.snapshot}(i,y,v,b);const s=await Yx(i.localStore,e,!0),o=new _B(e,s.gs),c=o.Sa(s.documents),h=Ed.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),d=o.applyChanges(c,i.isPrimaryClient,h);eD(i,t,d.Ma);const p=new bB(e,t,o);return i.ka.set(e,p),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),d.snapshot}async function DB(i,e,t){const n=Oe(i),r=n.ka.get(e),s=n.qa.get(r.targetId);if(s.length>1)return n.qa.set(r.targetId,s.filter(o=>!ag(o,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Q_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),t&&f0(n.remoteStore,r.targetId),J_(n,r.targetId)}).catch(Xc)):(J_(n,r.targetId),await Q_(n.localStore,r.targetId,!0))}async function AB(i,e){const t=Oe(i),n=t.ka.get(e),r=t.qa.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),f0(t.remoteStore,n.targetId))}async function CB(i,e,t){const n=NB(i);try{const r=await function(o,c){const h=Oe(o),d=rn.now(),p=c.reduce((b,E)=>b.add(E.key),ze());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=Ps(),S=ze();return h.ds.getEntries(b,p).next(x=>{E=x,E.forEach((M,L)=>{L.isValidDocument()||(S=S.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,E)).next(x=>{y=x;const M=[];for(const L of c){const j=HU(L,y.get(L.key).overlayedDocument);j!=null&&M.push(new ro(L.key,j,v1(j.value.mapValue),Cr.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,M,c)}).next(x=>{v=x;const M=x.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(b,x.batchId,M)})}).then(()=>({batchId:v.batchId,changes:R1(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let d=o.Wa[o.currentUser.toKey()];d||(d=new Rt(qe)),d=d.insert(c,h),o.Wa[o.currentUser.toKey()]=d}(n,r.batchId,t),await Sd(n,r.changes),await fg(n.remoteStore)}catch(r){const s=v0(r,"Failed to persist write");t.reject(s)}}async function fM(i,e){const t=Oe(i);try{const n=await B4(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Ka.get(s);o&&(st(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?st(o.Ba):r.removedDocuments.size>0&&(st(o.Ba),o.Ba=!1))}),await Sd(t,n,e)}catch(n){await Xc(n)}}function Jx(i,e,t){const n=Oe(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.ka.forEach((s,o)=>{const c=o.view.sa(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){const h=Oe(o);h.onlineState=c;let d=!1;h.queries.forEach((p,y)=>{for(const v of y.ta)v.sa(c)&&(d=!0)}),d&&_0(h)}(n.eventManager,e),r.length&&n.La.p_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function RB(i,e,t){const n=Oe(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Ka.get(e),s=r&&r.key;if(s){let o=new Rt(De.comparator);o=o.insert(s,kn.newNoDocument(s,ke.min()));const c=ze().add(s),h=new ug(ke.min(),new Map,new Rt(qe),o,c);await fM(n,h),n.$a=n.$a.remove(s),n.Ka.delete(e),w0(n)}else await Q_(n.localStore,e,!1).then(()=>J_(n,e,t)).catch(Xc)}async function MB(i,e){const t=Oe(i),n=e.batch.batchId;try{const r=await U4(t.localStore,e);mM(t,n,null),pM(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Sd(t,r)}catch(r){await Xc(r)}}async function kB(i,e,t){const n=Oe(i);try{const r=await function(o,c){const h=Oe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(st(y!==null),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>h.localDocuments.getDocuments(d,p))})}(n.localStore,e);mM(n,e,t),pM(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Sd(n,r)}catch(r){await Xc(r)}}function pM(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function mM(i,e,t){const n=Oe(i);let r=n.Wa[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Wa[n.currentUser.toKey()]=r}}function J_(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.qa.get(e))i.ka.delete(n),t&&i.La.Ja(n,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.Sr(e).forEach(n=>{i.Ua.containsKey(n)||gM(i,n)})}function gM(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(f0(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),w0(i))}function eD(i,e,t){for(const n of t)n instanceof uM?(i.Ua.addReference(n.key,e),IB(i,n)):n instanceof hM?(_e(b0,"Document no longer in limbo: "+n.key),i.Ua.removeReference(n.key,e),i.Ua.containsKey(n.key)||gM(i,n.key)):Me()}function IB(i,e){const t=e.key,n=t.path.canonicalString();i.$a.get(t)||i.Qa.has(n)||(_e(b0,"New document in limbo: "+t),i.Qa.add(n),w0(i))}function w0(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new De(vt.fromString(e)),n=i.za.next();i.Ka.set(n,new wB(t)),i.$a=i.$a.insert(t,n),tM(i.remoteStore,new Ca(Ar(r0(t.path)),n,"TargetPurposeLimboResolution",ig.ae))}}async function Sd(i,e,t){const n=Oe(i),r=[],s=[],o=[];n.ka.isEmpty()||(n.ka.forEach((c,h)=>{o.push(n.Ha(h,e,t).then(d=>{var p;if((d||t)&&n.isPrimaryClient){const y=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(h.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){r.push(d);const y=h0.Yi(h.targetId,d);s.push(y)}}))}),await Promise.all(o),n.La.p_(r),await async function(h,d){const p=Oe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ce.forEach(d,v=>ce.forEach(v.Hi,b=>p.persistence.referenceDelegate.addReference(y,v.targetId,b)).next(()=>ce.forEach(v.Ji,b=>p.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))}catch(y){if(!Zc(y))throw y;_e(d0,"Failed to update sequence numbers: "+y)}for(const y of d){const v=y.targetId;if(!y.fromCache){const b=p.Ts.get(v),E=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(E);p.Ts=p.Ts.insert(v,S)}}}(n.localStore,s))}async function OB(i,e){const t=Oe(i);if(!t.currentUser.isEqual(e)){_e(b0,"User change. New user:",e.toKey());const n=await X1(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(h=>{h.reject(new be(ue.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Sd(t,n.Rs)}}function PB(i,e){const t=Oe(i),n=t.Ka.get(e);if(n&&n.Ba)return ze().add(n.key);{let r=ze();const s=t.qa.get(e);if(!s)return r;for(const o of s){const c=t.ka.get(o);r=r.unionWith(c.view.ba)}return r}}function yM(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=fM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RB.bind(null,e),e.La.p_=yB.bind(null,e.eventManager),e.La.Ja=vB.bind(null,e.eventManager),e}function NB(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kB.bind(null,e),e}class Tm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return j4(this.persistence,new L4,e.initialUser,this.serializer)}Xa(e){return new Q1(u0.ri,this.serializer)}Za(e){return new W4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tm.provider={build:()=>new Tm};class LB extends Tm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof wm);const n=this.persistence.referenceDelegate.garbageCollector;return new w4(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new Q1(n=>wm.ri(n,t),this.serializer)}}class eb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Jx(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=OB.bind(null,this.syncEngine),await pB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gB}()}createDatastore(e){const t=hg(e.databaseInfo.databaseId),n=function(s){return new X4(s)}(e.databaseInfo);return function(s,o,c,h){return new tB(s,o,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,r,s,o,c){return new iB(n,r,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Jx(this.syncEngine,t,0),function(){return $x.D()?new $x:new $4}())}createSyncEngine(e,t){return function(r,s,o,c,h,d,p){const y=new EB(r,s,o,c,h,d);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Oe(r);_e(cl,"RemoteStore shutting down."),s.W_.add(5),await Td(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}eb.provider={build:()=>new eb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class VB{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Mn.UNAUTHENTICATED,this.clientId=l1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{_e($a,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(_e($a,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=v0(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function t_(i,e){i.asyncQueue.verifyOperationInProgress(),_e($a,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async r=>{n.isEqual(r)||(await X1(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function tD(i,e){i.asyncQueue.verifyOperationInProgress();const t=await FB(i);_e($a,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>Kx(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>Kx(e.remoteStore,r)),i._onlineComponents=e}async function FB(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e($a,"Using user provided OfflineComponentProvider");try{await t_(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ue.FAILED_PRECONDITION||r.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Ac("Error using user provided cache. Falling back to memory cache: "+t),await t_(i,new Tm)}}else _e($a,"Using default OfflineComponentProvider"),await t_(i,new LB(void 0));return i._offlineComponents}async function _M(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e($a,"Using user provided OnlineComponentProvider"),await tD(i,i._uninitializedComponentsProvider._online)):(_e($a,"Using default OnlineComponentProvider"),await tD(i,new eb))),i._onlineComponents}function jB(i){return _M(i).then(e=>e.syncEngine)}async function bM(i){const e=await _M(i),t=e.eventManager;return t.onListen=TB.bind(null,e.syncEngine),t.onUnlisten=DB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AB.bind(null,e.syncEngine),t}function UB(i,e,t={}){const n=new Ss;return i.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new vM({next:v=>{p.su(),o.enqueueAndForget(()=>lM(s,y));const b=v.docs.has(c);!b&&v.fromCache?d.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&h&&h.source==="server"?d.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new cM(r0(c.path),p,{includeMetadataChanges:!0,Ta:!0});return oM(s,y)}(await bM(i),i.asyncQueue,e,t,n)),n.promise}function BB(i,e,t={}){const n=new Ss;return i.asyncQueue.enqueueAndForget(async()=>function(s,o,c,h,d){const p=new vM({next:v=>{p.su(),o.enqueueAndForget(()=>lM(s,y)),v.fromCache&&h.source==="server"?d.reject(new be(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),y=new cM(c,p,{includeMetadataChanges:!0,Ta:!0});return oM(s,y)}(await bM(i),i.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(i,e,t){if(!t)throw new be(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function zB(i,e,t,n){if(e===!0&&n===!0)throw new be(ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function iD(i){if(!De.isDocumentKey(i))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rD(i){if(De.isDocumentKey(i))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Me()}function Ga(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pg(i);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="firestore.googleapis.com",sD=!0;class aD{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TM,this.ssl=sD}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sD;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_4)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Qj;switch(n.type){case"firstParty":return new eU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=nD.get(t);n&&(_e("ComponentProvider","Removing Datastore"),nD.delete(t),n.terminate())}(this),Promise.resolve()}}function HB(i,e,t,n={}){var r;const s=(i=Ga(i,mg))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:i._getEmulatorOptions()}),c=`${e}:${t}`;s.host!==TM&&s.host!==c&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:n});if(!Ba(h,o)&&(i._setSettings(h),n.mockUserToken)){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=Mn.MOCK_USER;else{d=HN(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Mn(y)}i._authCredentials=new Xj(new o1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new eu(this.firestore,e,this._query)}}class Jn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class Va extends eu{constructor(e,t,n){super(e,t,r0(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new De(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Pi(i,e,...t){if(i=Ht(i),EM("collection","path",e),i instanceof mg){const n=vt.fromString(e,...t);return rD(n),new Va(i,null,n)}{if(!(i instanceof Jn||i instanceof Va))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(vt.fromString(e,...t));return rD(n),new Va(i.firestore,null,n)}}function _s(i,e,...t){if(i=Ht(i),arguments.length===1&&(e=l1.newId()),EM("doc","path",e),i instanceof mg){const n=vt.fromString(e,...t);return iD(n),new Jn(i,null,new De(n))}{if(!(i instanceof Jn||i instanceof Va))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(vt.fromString(e,...t));return iD(n),new Jn(i.firestore,i instanceof Va?i.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="AsyncQueue";class lD{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new J1(this,"async_queue_retry"),this.bu=()=>{const n=e_();n&&_e(oD,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.Su=e;const t=e_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=e_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ss;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zc(e))throw e;_e(oD,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw Os("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.pu=!1,n))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=y0.createAndSchedule(this,e,t,n,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&Me()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class xd extends mg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new lD,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lD(e),this._firestoreClient=void 0,await e}}}function YB(i,e){const t=typeof i=="object"?i:Nb(),n=typeof i=="string"?i:pm,r=gl(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=BN("firestore");s&&HB(r,...s)}return r}function E0(i){if(i._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qB(i),i._firestoreClient}function qB(i){var e,t,n;const r=i._freezeSettings(),s=function(c,h,d,p){return new pU(c,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,wM(p.experimentalLongPollingOptions),p.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,r);i._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),i._firestoreClient=new VB(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Sn.fromBase64String(e))}catch(t){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=/^__.*__$/;class $B{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new wd(e,this.data,t,this.fieldTransforms)}}class SM{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function xM(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class D0{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new D0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xM(this.Lu)&&WB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class GB{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||hg(e)}ju(e,t,n,r=!1){return new D0({Lu:e,methodName:t,zu:n,path:En.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A0(i){const e=i._freezeSettings(),t=hg(i._databaseId);return new GB(i._databaseId,!!e.ignoreUndefinedProperties,t)}function KB(i,e,t,n,r,s={}){const o=i.ju(s.merge||s.mergeFields?2:0,e,t,r);C0("Data must be an object, but it was:",o,n);const c=DM(n,o);let h,d;if(s.merge)h=new ci(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const v=tb(e,y,t);if(!o.contains(v))throw new be(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);CM(p,v)||p.push(v)}h=new ci(p),d=o.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=o.fieldTransforms;return new $B(new Qn(c),h,d)}class yg extends T0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yg}}function QB(i,e,t,n){const r=i.ju(1,e,t);C0("Data must be an object, but it was:",r,n);const s=[],o=Qn.empty();io(n,(h,d)=>{const p=R0(e,h,t);d=Ht(d);const y=r.Ku(p);if(d instanceof yg)s.push(p);else{const v=Dd(d,y);v!=null&&(s.push(p),o.set(p,v))}});const c=new ci(s);return new SM(o,c,r.fieldTransforms)}function XB(i,e,t,n,r,s){const o=i.ju(1,e,t),c=[tb(e,n,t)],h=[r];if(s.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(tb(e,s[v])),h.push(s[v+1]);const d=[],p=Qn.empty();for(let v=c.length-1;v>=0;--v)if(!CM(d,c[v])){const b=c[v];let E=h[v];E=Ht(E);const S=o.Ku(b);if(E instanceof yg)d.push(b);else{const x=Dd(E,S);x!=null&&(d.push(b),p.set(b,x))}}const y=new ci(d);return new SM(p,y,o.fieldTransforms)}function ZB(i,e,t,n=!1){return Dd(t,i.ju(n?4:3,e))}function Dd(i,e){if(AM(i=Ht(i)))return C0("Unsupported field value:",e,i),DM(i,e);if(i instanceof T0)return function(n,r){if(!xM(r.Lu))throw r.Wu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const c of n){let h=Dd(c,r.Uu(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}}(i,e)}return function(n,r){if((n=Ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return VU(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=rn.fromDate(n);return{timestampValue:bm(r.serializer,s)}}if(n instanceof rn){const s=new rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bm(r.serializer,s)}}if(n instanceof S0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oc)return{bytesValue:z1(r.serializer,n._byteString)};if(n instanceof Jn){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l0(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof x0)return function(o,c){return{mapValue:{fields:{[g1]:{stringValue:y1},[mm]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Wu("VectorValues must only contain numeric values.");return s0(c.serializer,d)})}}}}}}(n,r);throw r.Wu(`Unsupported field value: ${pg(n)}`)}(i,e)}function DM(i,e){const t={};return u1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(i,(n,r)=>{const s=Dd(r,e.qu(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function AM(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rn||i instanceof S0||i instanceof Oc||i instanceof Jn||i instanceof T0||i instanceof x0)}function C0(i,e,t){if(!AM(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const n=pg(t);throw n==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+n)}}function tb(i,e,t){if((e=Ht(e))instanceof gg)return e._internalPath;if(typeof e=="string")return R0(i,e);throw Sm("Field path arguments must be of type string or ",i,!1,void 0,t)}const JB=new RegExp("[~\\*/\\[\\]]");function R0(i,e,t){if(e.search(JB)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gg(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Sm(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${r}`),h+=")"),new be(ue.INVALID_ARGUMENT,c+i+h)}function CM(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ez(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(M0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ez extends RM{data(){return super.data()}}function M0(i,e){return typeof e=="string"?R0(i,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}class nz extends k0{}function iz(i,e,...t){let n=[];e instanceof k0&&n.push(e),n=n.concat(t),function(s){const o=s.filter(h=>h instanceof I0).length,c=s.filter(h=>h instanceof vg).length;if(o>1||o>0&&c>0)throw new be(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)i=r._apply(i);return i}class vg extends nz{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vg(e,t,n)}_apply(e){const t=this._parse(e);return MM(e._query,t),new eu(e.firestore,e.converter,Y_(e._query,t))}_parse(e){const t=A0(e.firestore);return function(s,o,c,h,d,p,y){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new be(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){uD(y,p);const E=[];for(const S of y)E.push(cD(h,s,S));v={arrayValue:{values:E}}}else v=cD(h,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||uD(y,p),v=ZB(c,o,y,p==="in"||p==="not-in");return Kt.create(d,p,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function n_(i,e,t){const n=e,r=M0("where",i);return vg._create(r,n,t)}class I0 extends k0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I0(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Qi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r;const c=s.getFlattenedFilters();for(const h of c)MM(o,h),o=Y_(o,h)}(e._query,t),new eu(e.firestore,e.converter,Y_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cD(i,e,t){if(typeof(t=Ht(t))=="string"){if(t==="")throw new be(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x1(e)&&t.indexOf("/")!==-1)throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(vt.fromString(t));if(!De.isDocumentKey(n))throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return xx(i,new De(n))}if(t instanceof Jn)return xx(i,t._key);throw new be(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pg(t)}.`)}function uD(i,e){if(!Array.isArray(i)||i.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MM(i,e){const t=function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rz{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return io(e,(r,s)=>{n[r]=this.convertValue(s,t)}),n}convertVectorValue(e){var t,n,r;const s=(r=(n=(t=e.fields)===null||t===void 0?void 0:t[mm].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.map(o=>jt(o.doubleValue));return new x0(s)}convertGeoPoint(e){return new S0(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sg(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xh(e));default:return null}}convertTimestamp(e){const t=Ha(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vt.fromString(e);st(G1(n));const r=new Zh(n.get(1),n.get(3)),s=new De(n.popFirst(5));return r.isEqual(t)||Os(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(i,e,t){let n;return n=i?i.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kM extends RM{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(M0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class zp extends kM{data(e={}){return super.data(e)}}class az{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new zp(this._firestore,this._userDataWriter,n.key,n,new xh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{const h=new zp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const h=new zp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:oz(c.type),doc:h,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oz(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){i=Ga(i,Jn);const e=Ga(i.firestore,xd);return UB(E0(e),i._key).then(t=>lz(e,i,t))}class IM extends rz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function Ka(i){i=Ga(i,eu);const e=Ga(i.firestore,xd),t=E0(e),n=new IM(e);return tz(i._query),BB(t,i._query).then(r=>new az(e,n,i,r))}function i_(i,e,t,...n){i=Ga(i,Jn);const r=Ga(i.firestore,xd),s=A0(r);let o;return o=typeof(e=Ht(e))=="string"||e instanceof gg?XB(s,"updateDoc",i._key,e,t,n):QB(s,"updateDoc",i._key,e),OM(r,[o.toMutation(i._key,Cr.exists(!0))])}function xm(i,e){const t=Ga(i.firestore,xd),n=_s(i),r=sz(i.converter,e);return OM(t,[KB(A0(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,Cr.exists(!1))]).then(()=>n)}function OM(i,e){return function(n,r){const s=new Ss;return n.asyncQueue.enqueueAndForget(async()=>CB(await jB(n),r,s)),s.promise}(E0(i),e)}function lz(i,e,t){const n=t.docs.get(e._key),r=new IM(i);return new kM(i,r,e._key,n,new xh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Qc=r})(Gc),Ir(new Ki("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new xd(new Zj(n.getProvider("auth-internal")),new tU(o,n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(d.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ni(px,mx,e),Ni(px,mx,"esm2017")})();const cz={apiKey:"AIzaSyAdL-uZRcqP9ySdETTlhqFyPtRDNzJsJf4",authDomain:"mercado-1218a.firebaseapp.com",projectId:"mercado-1218a",storageBucket:"mercado-1218a.appspot.com",messagingSenderId:"14773311466",appId:"1:14773311466:web:3caac2ac03c2e99a25c493",measurementId:"G-DT1MLGQ41L"},O0=WC(cz);Wj(O0);const Gt=YB(O0),gt=AF(O0),uz=()=>{const[i,e]=F.useState(""),[t,n]=F.useState(""),[r,s]=F.useState(!1),[o,c]=F.useState(""),h=eo(),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);F.useEffect(()=>{HV(gt).then(v=>{v&&h("/seleccionar-tienda")}).catch(v=>{console.error("Error en redireccin:",v),c("Error en la autenticacin: "+v.message)})},[h]);const p=async v=>{v.preventDefault(),c("");try{r?(await hV(gt,i,t),alert("Cuenta creada exitosamente.")):await dV(gt,i,t),h("/seleccionar-tienda")}catch(b){console.error("Error de autenticacin:",b),c("Error: "+b.message)}},y=async()=>{try{const v=new ms;d?await BV(gt,v):await NV(gt,v)&&h("/seleccionar-tienda")}catch(v){console.error("Error al iniciar sesin con Google:",v),c("Error al iniciar sesin con Google: "+v.message)}};return R.jsx("div",{className:"login-container",children:R.jsxs("div",{className:"login-card",children:[R.jsx("h2",{className:"login-title",children:r?"Crear Cuenta":"Iniciar Sesin"}),o&&R.jsx("div",{className:"error-message",children:o}),R.jsxs("button",{onClick:y,className:"google-button",children:[R.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo"}),"Iniciar sesin con Google"]}),R.jsxs("div",{className:"divider",children:[R.jsx("div",{className:"divider-line"}),R.jsx("span",{className:"divider-text",children:"o"}),R.jsx("div",{className:"divider-line"})]}),R.jsxs("form",{onSubmit:p,className:"login-form",children:[R.jsx("input",{type:"email",placeholder:"Correo",value:i,onChange:v=>e(v.target.value),required:!0,className:"form-input"}),R.jsx("input",{type:"password",placeholder:"Contrasea",value:t,onChange:v=>n(v.target.value),required:!0,className:"form-input"}),R.jsx("button",{type:"submit",className:"login-button",children:r?"Registrarse":"Iniciar Sesin"})]}),R.jsxs("button",{className:"security-test-button",onClick:()=>alert("Verificacin de seguridad completada con xito."),children:[R.jsx("i",{className:"fas fa-shield-alt"})," Prueba de Seguridad"]}),R.jsx("button",{onClick:()=>s(!r),className:"toggle-button",children:r?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})]})})};function _g(){const i=async()=>{try{await L_(gt)}catch(e){console.error("Error al cerrar sesin:",e)}};return R.jsxs("button",{className:"btn-cerrar-sesion",onClick:i,children:[R.jsx("i",{className:"fas fa-sign-out-alt"})," Cerrar Sesin"]})}function hz(){const[i,e]=F.useState([]),[t,n]=F.useState(""),[r,s]=F.useState(null),[o,c]=F.useState({nombre:"",marca:"",precio:"",unidad:"",categoria:""}),[h,d]=F.useState([]),[p,y]=F.useState(null),[v,b]=F.useState([]),[E,S]=F.useState(!0),[x,M]=F.useState([]),[L,j]=F.useState(!1),[W,H]=F.useState({nombre:"",marca:"",precio:"",categoria:""});eo();const Q=()=>{if(document.visibilityState==="hidden")localStorage.setItem("lastActivity",Date.now());else if(document.visibilityState==="visible"){const q=localStorage.getItem("lastActivity");q&&Date.now()-parseInt(q)>5e3&&L_(gt)}},O=async()=>{try{let q=[];try{const ie=localStorage.getItem("productosEliminados");ie&&(q=JSON.parse(ie),Array.isArray(q)||(console.warn("Los productos eliminados no son un array, reiniciando"),q=[]))}catch(ie){console.error("Error al recuperar productos eliminados:",ie),q=[]}console.log("Productos eliminados recuperados de localStorage (cantidad):",q.length),q.length>0&&console.log("Primer producto eliminado:",q[0]),b(q);const z=gt.currentUser.uid,te=Pi(Gt,"usuarios",z,"tiendas"),Y=(await Ka(te)).docs.map(ie=>({id:ie.id,...ie.data(),productos:ie.data().productos||[]})).map(ie=>({...ie,productos:ie.productos.filter(ye=>!q.some(me=>me.nombre===ye.nombre&&me.marca===ye.marca))}));console.log("Tiendas cargadas despus de filtrar productos desactivados:",Y),e(Y)}catch(q){console.error("Error al obtener tiendas:",q)}finally{S(!1)}};F.useEffect(()=>((async()=>{await O();const z=localStorage.getItem("ultimaTiendaSeleccionada");if(z){console.log("Cargando automticamente la ltima tienda seleccionada:",z);try{const te=gt.currentUser.uid,re=_s(Gt,"usuarios",te,"tiendas",z),fe=await Pc(re);if(fe.exists()){const Y=fe.data(),ie=Array.isArray(Y.productos)?Y.productos:[],ye={id:z,...Y,productos:ie};s(ye),console.log("Tienda cargada automticamente:",ye.nombre)}}catch(te){console.error("Error al cargar la ltima tienda:",te)}}})(),document.addEventListener("visibilitychange",Q),()=>{document.removeEventListener("visibilitychange",Q)}),[]),F.useEffect(()=>{if(r&&r.productos){const q=new Set(r.productos.map(z=>z.categoria));M(["Filtrar Categoria",...Array.from(q)])}},[r]),F.useEffect(()=>{const q=()=>{const z=JSON.parse(localStorage.getItem("productosEliminados"))||[];b(z)};return window.addEventListener("storage",q),()=>{window.removeEventListener("storage",q)}},[]),F.useEffect(()=>{p&&c({nombre:p.nombre,marca:p.marca,precio:p.precio,unidad:p.unidad,categoria:p.categoria})},[p]);const C=async()=>{if(t.trim()!=="")try{const q=gt.currentUser.uid,z=Pi(Gt,"usuarios",q,"tiendas"),te=await xm(z,{nombre:t,productos:[]});e([...i,{id:te.id,nombre:t,productos:[]}]),n("")}catch(q){console.error("Error al agregar la tienda:",q)}},A=async()=>{if(!(!r||!o.nombre.trim()))try{const q=gt.currentUser.uid,z=_s(Gt,"usuarios",q,"tiendas",r.id);if(p!==null){const te=r.productos.map((re,fe)=>fe===p.index?{...o,fechaCompra:re.fechaCompra||new Date().toISOString()}:re);await i_(z,{productos:te}),s({...r,productos:te}),c({nombre:"",marca:"",precio:"",unidad:"",categoria:""}),y(null)}else{const te=[...r.productos,{...o,fechaCompra:new Date().toISOString()}];await i_(z,{productos:te}),s({...r,productos:te}),c({nombre:"",marca:"",precio:"",unidad:"",categoria:""})}}catch(q){console.error("Error al gestionar el producto:",q)}},k=async q=>{if(r&&window.confirm("Ests seguro de que quieres eliminar este producto?"))try{const z=r.productos[q],te=new Date,re={nombre:z.nombre,marca:z.marca,precio:z.precio,unidad:z.unidad,categoria:z.categoria,tiendaId:r.id,tiendaNombre:r.nombre,fechaDesactivacion:te.toISOString()},fe=gt.currentUser.uid,Y=Pi(Gt,"usuarios",fe,"desactivados");await xm(Y,re);const ie=r.productos.filter((xe,yt)=>yt!==q),ye=_s(Gt,"usuarios",fe,"tiendas",r.id);await i_(ye,{productos:ie});const me=[...v,re];b(me);const ge={...r,productos:ie};s(ge),e(xe=>xe.map(yt=>yt.id===r.id?ge:yt));const Re=new Set(ie.map(xe=>xe.categoria));d(Array.from(Re)),alert("Producto eliminado correctamente y guardado en productos desactivados")}catch(z){console.error("Error detallado:",z),console.error("Mensaje de error:",z.message),alert("Error al eliminar el producto. Por favor, intenta nuevamente.")}};F.useEffect(()=>{(async()=>{try{const z=await V();console.log("Productos desactivados cargados de Firebase:",z),b(z),await O(),S(!1)}catch(z){console.error("Error al cargar datos:",z),S(!1)}})()},[]);const V=async()=>{try{const q=gt.currentUser.uid,z=Pi(Gt,"usuarios",q,"desactivados"),te=await Ka(z);console.log("Coleccin desactivados existe:",!te.empty),console.log("Nmero de documentos en desactivados:",te.size);const re=te.docs.map(fe=>({id:fe.id,...fe.data()}));return console.log("Productos desactivados encontrados:",re),re}catch(q){return console.error("Error al cargar productos desactivados:",q),[]}},U=async q=>{try{const z=gt.currentUser.uid,te=_s(Gt,"usuarios",z,"tiendas",q.id),re=await Pc(te);if(!re.exists()){console.error("La tienda seleccionada no existe en Firebase.");return}const fe=re.data(),Y=Array.isArray(fe.productos)?fe.productos:[];console.log("Tienda seleccionada desde Firebase:",fe);const ie={id:q.id,...fe,productos:Y};localStorage.setItem("ultimaTiendaSeleccionada",q.id),console.log("ID de tienda guardado en localStorage:",q.id),s(ie),e(ye=>ye.map(me=>me.id===q.id?ie:me))}catch(z){console.error("Error al obtener la tienda seleccionada:",z)}},N=q=>q?q.filter(te=>!v.some(re=>re.nombre===te.nombre&&re.marca===te.marca)).filter(te=>te.nombre.toLowerCase().includes(W.nombre.toLowerCase())&&te.marca.toLowerCase().includes(W.marca.toLowerCase())&&(!W.precio||te.precio.toString().includes(W.precio))&&(!W.categoria||te.categoria===W.categoria)):[];F.useEffect(()=>{fV(gt,wR).then(()=>{console.log("Persistencia local configurada")}).catch(z=>{console.error("Error al configurar persistencia:",z)});const q=()=>{if(document.visibilityState==="hidden")localStorage.setItem("lastActivity",Date.now());else if(document.visibilityState==="visible"){const z=localStorage.getItem("lastActivity");z&&Date.now()-parseInt(z)>5e3&&L_(gt)}};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[]),F.useEffect(()=>(O(),document.addEventListener("visibilitychange",Q),()=>{document.removeEventListener("visibilitychange",Q)}),[]),F.useEffect(()=>{if(r&&r.productos){const q=new Set(r.productos.map(z=>z.categoria));M(["Filtrar Categoria",...Array.from(q)])}},[r]);const de=async q=>{if(r)try{const z=r.productos[q];y({index:q,...z})}catch(z){console.error("Error al editar el producto:",z),alert("Error al editar el producto. Por favor, intenta nuevamente.")}};return E?R.jsx("div",{className:"loading",children:"Cargando..."}):R.jsxs("div",{className:"seleccionar-tienda-container",children:[R.jsx("div",{className:"header-center",children:R.jsx("h1",{className:"titulo-principal",children:"Seleccionar Tienda"})}),r?R.jsxs("div",{children:[R.jsxs("div",{className:"tienda-header",children:[R.jsxs("button",{onClick:()=>{s(null),localStorage.removeItem("ultimaTiendaSeleccionada")},className:"btn-volver",title:"Volver a la lista de tiendas",children:[R.jsx("span",{children:""})," Ver Todas La Tiendas"]}),R.jsx("h2",{children:r.nombre}),R.jsx("div",{className:"tienda-header-spacer"})," "]}),R.jsxs("div",{className:"botones-grandes-container",children:[R.jsx($o,{to:"/comparar-precios",style:{textDecoration:"none"},onClick:()=>localStorage.setItem("ultimaTiendaSeleccionada",r.id),children:R.jsx("button",{className:"btn-comparar-precios",children:"COMPARAR PRECIOS POR MES"})}),R.jsx($o,{to:"/resumen-gastos",style:{textDecoration:"none"},onClick:()=>localStorage.setItem("ultimaTiendaSeleccionada",r.id),children:R.jsx("button",{className:"btn-resumen-gastos",children:"RESUMEN DE GASTOS MENSUALES"})})]}),R.jsxs("div",{className:"filtros",children:[R.jsx("input",{type:"text",placeholder:"Filtrar por nombre",value:W.nombre,onChange:q=>H(z=>({...z,nombre:q.target.value}))}),R.jsx("input",{type:"text",placeholder:"Filtrar por marca",value:W.marca,onChange:q=>H(z=>({...z,marca:q.target.value}))}),R.jsx("input",{type:"number",placeholder:"Filtrar por precio mximo",value:W.precio,onChange:q=>H(z=>({...z,precio:q.target.value}))}),R.jsx("select",{value:W.categoria,onChange:q=>H(z=>({...z,categoria:q.target.value})),children:x.map((q,z)=>R.jsx("option",{value:q==="Filtrar Categoria"?"":q,children:q==="Filtrar Categoria"?"Filtrar Categoria":q},z))})]}),R.jsxs("div",{className:"form-agregar-producto",children:[R.jsx("input",{type:"text",value:o.nombre,onChange:q=>c({...o,nombre:q.target.value}),placeholder:"Nombre del producto"}),R.jsx("input",{type:"text",value:o.marca,onChange:q=>c({...o,marca:q.target.value}),placeholder:"Marca"}),R.jsx("input",{type:"number",value:o.precio,onChange:q=>c({...o,precio:q.target.value}),placeholder:"Precio"}),R.jsx("input",{type:"text",value:o.unidad,onChange:q=>c({...o,unidad:q.target.value}),placeholder:"Unidad de medida"}),R.jsx("input",{type:"text",value:o.categoria,onChange:q=>c({...o,categoria:q.target.value}),placeholder:"Categora"}),R.jsx("button",{onClick:A,children:p!==null?"Actualizar Producto":"Agregar Producto"})]}),R.jsx("h3",{className:"titulo-lista-productos",children:"Lista de Productos"}),R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Nombre"}),R.jsx("th",{children:"Marca"}),R.jsx("th",{children:"Precio"}),R.jsx("th",{children:"Unidad"}),R.jsx("th",{children:"Categora"}),R.jsx("th",{children:"Fecha de Compra"}),R.jsx("th",{children:"Acciones"})]})}),R.jsx("tbody",{children:N(r.productos).map((q,z)=>R.jsxs("tr",{children:[R.jsx("td",{children:q.nombre}),R.jsx("td",{children:q.marca}),R.jsx("td",{children:q.precio}),R.jsx("td",{children:q.unidad}),R.jsx("td",{children:q.categoria}),R.jsx("td",{children:q.fechaCompra?new Date(q.fechaCompra).toLocaleDateString():"No disponible"}),R.jsxs("td",{children:[R.jsx("button",{onClick:()=>de(z),children:"Editar"}),R.jsx("button",{onClick:()=>k(z),children:"Desactivar"})]})]},z))})]}),R.jsxs("div",{className:"productos-desactivados-container",children:[R.jsxs("div",{className:"productos-desactivados-header",children:[R.jsx("h3",{children:"Productos Desactivados"}),R.jsx("div",{children:R.jsx("button",{onClick:async()=>{if(!L){const q=await V();b(q)}j(!L)},className:"btn-productos-desactivados",children:L?"Ocultar Productos Desactivados":"Ver Productos Desactivados"})})]}),L&&R.jsx("div",{className:"productos-desactivados-tabla",children:R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Nombre"}),R.jsx("th",{children:"Marca"}),R.jsx("th",{children:"Precio"}),R.jsx("th",{children:"Unidad"}),R.jsx("th",{children:"Categora"}),R.jsx("th",{children:"Fecha Desactivacin"})]})}),R.jsx("tbody",{children:v.map((q,z)=>R.jsxs("tr",{children:[R.jsx("td",{children:q.nombre}),R.jsx("td",{children:q.marca}),R.jsx("td",{children:q.precio}),R.jsx("td",{children:q.unidad}),R.jsx("td",{children:q.categoria}),R.jsx("td",{children:(()=>{try{return new Date(q.fechaDesactivacion).toLocaleDateString()}catch{return"Fecha no disponible"}})()})]},q.id||z))})]})})]})]}):R.jsxs("div",{children:[R.jsxs("div",{className:"agregar-tienda",children:[R.jsx("input",{type:"text",value:t,onChange:q=>n(q.target.value),placeholder:"Nombre de la nueva tienda"}),R.jsx("button",{onClick:C,children:"Agregar Tienda"})]}),i.length>0?R.jsx("ul",{className:"lista-tiendas",children:i.map(q=>R.jsx("li",{children:R.jsx("button",{onClick:()=>U(q),children:q.nombre})},q.id))}):R.jsx("p",{children:"No hay tiendas disponibles. Agrega una nueva tienda."})]}),R.jsxs("div",{className:"cerrar-sesion-container",children:[R.jsx(_g,{}),R.jsx($o,{to:"/asistencia",style:{textDecoration:"none"},children:R.jsx("button",{className:"btn-asistencia",children:"Asistencia"})}),R.jsx($o,{to:"/prueba-seguridad",style:{textDecoration:"none"},children:R.jsx("button",{className:"btn-prueba-seguridad",children:"Pruebas de Seguridad"})})]})]})}function dz(){const i=eo(),e=()=>{i("/categorias")};return R.jsxs("div",{children:[R.jsx("h1",{children:"Seleccionar Tienda"}),R.jsx("button",{onClick:e,children:"Continuar"})]})}const fz=Pi(Gt,"productos"),pz=async(i,e,t)=>{try{return(await xm(fz,{...i,usuarioId:e,tiendaId:t,fechaCompra:new Date,activo:!0})).id}catch(n){throw console.error("Error al agregar producto:",n),n}};function mz({tiendaSeleccionada:i}){const[e,t]=F.useState({nombre:"",marca:"",precio:"",unidad:"",categoria:""}),[n,r]=F.useState(null),[s,o]=F.useState(!1),c=d=>{const{name:p,value:y}=d.target;t(v=>({...v,[p]:p==="precio"?parseFloat(y)||0:y}))},h=async d=>{if(d.preventDefault(),r(null),o(!1),!(i!=null&&i.id)){r("Por favor selecciona una tienda primero");return}if(!e.nombre.trim()){r("El nombre del producto es obligatorio");return}try{await pz({nombre:e.nombre.trim(),marca:e.marca.trim(),precio:e.precio,unidad:e.unidad.trim(),categoria:e.categoria.trim()},gt.currentUser.uid,i.id),o(!0),t({nombre:"",marca:"",precio:"",unidad:"",categoria:""}),setTimeout(()=>o(!1),3e3)}catch(p){console.error("Error al agregar producto:",p),r("Error al agregar el producto. Por favor intenta nuevamente.")}};return R.jsxs("div",{className:"agregar-producto-container",children:[R.jsx("h2",{children:"Agregar Nuevo Producto"}),n&&R.jsx("div",{className:"error-message",children:n}),s&&R.jsx("div",{className:"success-message",children:"Producto agregado con xito!"}),R.jsxs("form",{onSubmit:h,className:"producto-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"nombre",children:"Nombre*"}),R.jsx("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Ej: Arroz",value:e.nombre,onChange:c,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"marca",children:"Marca"}),R.jsx("input",{type:"text",id:"marca",name:"marca",placeholder:"Ej: Diana",value:e.marca,onChange:c})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"precio",children:"Precio*"}),R.jsx("input",{type:"number",id:"precio",name:"precio",placeholder:"Ej: 2500",value:e.precio||"",onChange:c,min:"0",step:"0.01",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"unidad",children:"Unidad de medida"}),R.jsx("input",{type:"text",id:"unidad",name:"unidad",placeholder:"Ej: Libra, Kilo, Litro",value:e.unidad,onChange:c})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"categoria",children:"Categora"}),R.jsx("input",{type:"text",id:"categoria",name:"categoria",placeholder:"Ej: Granos, Lcteos",value:e.categoria,onChange:c})]}),R.jsx("button",{type:"submit",className:"submit-btn",children:"Agregar Producto"})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ad(i){return i+.5|0}const Ra=(i,e,t)=>Math.max(Math.min(i,t),e);function Dh(i){return Ra(Ad(i*2.55),0,255)}function Fa(i){return Ra(Ad(i*255),0,255)}function ps(i){return Ra(Ad(i/2.55)/100,0,1)}function hD(i){return Ra(Ad(i*100),0,100)}const Ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nb=[..."0123456789ABCDEF"],gz=i=>nb[i&15],yz=i=>nb[(i&240)>>4]+nb[i&15],cp=i=>(i&240)>>4===(i&15),vz=i=>cp(i.r)&&cp(i.g)&&cp(i.b)&&cp(i.a);function _z(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Ri[i[1]]*17,g:255&Ri[i[2]]*17,b:255&Ri[i[3]]*17,a:e===5?Ri[i[4]]*17:255}:(e===7||e===9)&&(t={r:Ri[i[1]]<<4|Ri[i[2]],g:Ri[i[3]]<<4|Ri[i[4]],b:Ri[i[5]]<<4|Ri[i[6]],a:e===9?Ri[i[7]]<<4|Ri[i[8]]:255})),t}const bz=(i,e)=>i<255?e(i):"";function wz(i){var e=vz(i)?gz:yz;return i?"#"+e(i.r)+e(i.g)+e(i.b)+bz(i.a,e):void 0}const Ez=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PM(i,e,t){const n=e*Math.min(t,1-t),r=(s,o=(s+i/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Tz(i,e,t){const n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Sz(i,e,t){const n=PM(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function xz(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function P0(i){const t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),c=(s+o)/2;let h,d,p;return s!==o&&(p=s-o,d=c>.5?p/(2-s-o):p/(s+o),h=xz(t,n,r,p,s),h=h*60+.5),[h|0,d||0,c]}function N0(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(Fa)}function L0(i,e,t){return N0(PM,i,e,t)}function Dz(i,e,t){return N0(Sz,i,e,t)}function Az(i,e,t){return N0(Tz,i,e,t)}function NM(i){return(i%360+360)%360}function Cz(i){const e=Ez.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Dh(+e[5]):Fa(+e[5]));const r=NM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=Dz(r,s,o):e[1]==="hsv"?n=Az(r,s,o):n=L0(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}function Rz(i,e){var t=P0(i);t[0]=NM(t[0]+e),t=L0(t),i.r=t[0],i.g=t[1],i.b=t[2]}function Mz(i){if(!i)return;const e=P0(i),t=e[0],n=hD(e[1]),r=hD(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${ps(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}const dD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kz(){const i={},e=Object.keys(fD),t=Object.keys(dD);let n,r,s,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],r=0;r<t.length;r++)s=t[r],c=c.replace(s,dD[s]);s=parseInt(fD[o],16),i[c]=[s>>16&255,s>>8&255,s&255]}return i}let up;function Iz(i){up||(up=kz(),up.transparent=[0,0,0,0]);const e=up[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Oz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Pz(i){const e=Oz.exec(i);let t=255,n,r,s;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?Dh(o):Ra(o*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?Dh(n):Ra(n,0,255)),r=255&(e[4]?Dh(r):Ra(r,0,255)),s=255&(e[6]?Dh(s):Ra(s,0,255)),{r:n,g:r,b:s,a:t}}}function Nz(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ps(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const r_=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,hc=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Lz(i,e,t){const n=hc(ps(i.r)),r=hc(ps(i.g)),s=hc(ps(i.b));return{r:Fa(r_(n+t*(hc(ps(e.r))-n))),g:Fa(r_(r+t*(hc(ps(e.g))-r))),b:Fa(r_(s+t*(hc(ps(e.b))-s))),a:i.a+t*(e.a-i.a)}}function hp(i,e,t){if(i){let n=P0(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=L0(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function LM(i,e){return i&&Object.assign(e||{},i)}function pD(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Fa(i[3]))):(e=LM(i,{r:0,g:0,b:0,a:1}),e.a=Fa(e.a)),e}function Vz(i){return i.charAt(0)==="r"?Pz(i):Cz(i)}class nd{constructor(e){if(e instanceof nd)return e;const t=typeof e;let n;t==="object"?n=pD(e):t==="string"&&(n=_z(e)||Iz(e)||Vz(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=LM(this._rgb);return e&&(e.a=ps(e.a)),e}set rgb(e){this._rgb=pD(e)}rgbString(){return this._valid?Nz(this._rgb):void 0}hexString(){return this._valid?wz(this._rgb):void 0}hslString(){return this._valid?Mz(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,h=n.a-r.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;s=1-d,n.r=255&d*n.r+s*r.r+.5,n.g=255&d*n.g+s*r.g+.5,n.b=255&d*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=Lz(this._rgb,e._rgb,t)),this}clone(){return new nd(this.rgb)}alpha(e){return this._rgb.a=Fa(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ad(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return hp(this._rgb,2,e),this}darken(e){return hp(this._rgb,2,-e),this}saturate(e){return hp(this._rgb,1,e),this}desaturate(e){return hp(this._rgb,1,-e),this}rotate(e){return Rz(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hs(){}const Fz=(()=>{let i=0;return()=>i++})();function Ue(i){return i==null}function wt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Nt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function oi(i,e){return Nt(i)?i:e}function Pe(i,e){return typeof i>"u"?e:i}const jz=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,VM=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function mt(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function lt(i,e,t,n){let r,s,o;if(wt(i))for(s=i.length,r=0;r<s;r++)e.call(t,i[r],r);else if(He(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)e.call(t,i[o[r]],o[r])}function Dm(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Am(i){if(wt(i))return i.map(Am);if(He(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let r=0;for(;r<n;++r)e[t[r]]=Am(i[t[r]]);return e}return i}function FM(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Uz(i,e,t,n){if(!FM(i))return;const r=e[i],s=t[i];He(r)&&He(s)?id(r,s,n):e[i]=Am(s)}function id(i,e,t){const n=wt(e)?e:[e],r=n.length;if(!He(i))return i;t=t||{};const s=t.merger||Uz;let o;for(let c=0;c<r;++c){if(o=n[c],!He(o))continue;const h=Object.keys(o);for(let d=0,p=h.length;d<p;++d)s(h[d],i,o,t)}return i}function Uh(i,e){return id(i,e,{merger:Bz})}function Bz(i,e,t){if(!FM(i))return;const n=e[i],r=t[i];He(n)&&He(r)?Uh(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Am(r))}const mD={"":i=>i,x:i=>i.x,y:i=>i.y};function zz(i){const e=i.split("."),t=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Hz(i){const e=zz(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Qa(i,e){return(mD[e]||(mD[e]=Hz(e)))(i)}function V0(i){return i.charAt(0).toUpperCase()+i.slice(1)}const rd=i=>typeof i<"u",Xa=i=>typeof i=="function",gD=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function Yz(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const bt=Math.PI,_t=2*bt,qz=_t+bt,Cm=Number.POSITIVE_INFINITY,Wz=bt/180,Ut=bt/2,jo=bt/4,yD=bt*2/3,Ma=Math.log10,Mr=Math.sign;function Bh(i,e,t){return Math.abs(i-e)<t}function vD(i){const e=Math.round(i);i=Bh(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Ma(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function $z(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function Gz(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Nc(i){return!Gz(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Kz(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function jM(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Yi(i){return i*(bt/180)}function F0(i){return i*(180/bt)}function _D(i){if(!Nt(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function UM(i,e){const t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*bt&&(s+=_t),{angle:s,distance:r}}function ib(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Qz(i,e){return(i-e+qz)%_t-bt}function li(i){return(i%_t+_t)%_t}function sd(i,e,t,n){const r=li(i),s=li(e),o=li(t),c=li(s-r),h=li(o-r),d=li(r-s),p=li(r-o);return r===s||r===o||n&&s===o||c>h&&d<p}function pn(i,e,t){return Math.max(e,Math.min(t,i))}function Xz(i){return pn(i,-32768,32767)}function bs(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function j0(i,e,t){t=t||(o=>i[o]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const ws=(i,e,t,n)=>j0(i,t,n?r=>{const s=i[r][e];return s<t||s===t&&i[r+1][e]===t}:r=>i[r][e]<t),Zz=(i,e,t)=>j0(i,t,n=>i[n][e]>=t);function Jz(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}const BM=["push","pop","shift","splice","unshift"];function eH(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),BM.forEach(t=>{const n="_onData"+V0(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...s)}),o}})})}function bD(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(BM.forEach(s=>{delete i[s]}),delete i._chartjs)}function zM(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const HM=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function YM(i,e){let t=[],n=!1;return function(...r){t=r,n||(n=!0,HM.call(window,()=>{n=!1,i.apply(e,t)}))}}function tH(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const U0=i=>i==="start"?"left":i==="end"?"right":"center",Rn=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,nH=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function qM(i,e,t){const n=e.length;let r=0,s=n;if(i._sorted){const{iScale:o,vScale:c,_parsed:h}=i,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=o.axis,{min:y,max:v,minDefined:b,maxDefined:E}=o.getUserBounds();if(b){if(r=Math.min(ws(h,p,y).lo,t?n:ws(e,p,o.getPixelForValue(y)).lo),d){const S=h.slice(0,r+1).reverse().findIndex(x=>!Ue(x[c.axis]));r-=Math.max(0,S)}r=pn(r,0,n-1)}if(E){let S=Math.max(ws(h,o.axis,v,!0).hi+1,t?0:ws(e,p,o.getPixelForValue(v),!0).hi+1);if(d){const x=h.slice(S-1).findIndex(M=>!Ue(M[c.axis]));S+=Math.max(0,x)}s=pn(S,r,n)-r}else s=n-r}return{start:r,count:s}}function WM(i){const{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const dp=i=>i===0||i===1,wD=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*_t/t)),ED=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*_t/t)+1,zh={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Ut)+1,easeOutSine:i=>Math.sin(i*Ut),easeInOutSine:i=>-.5*(Math.cos(bt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>dp(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>dp(i)?i:wD(i,.075,.3),easeOutElastic:i=>dp(i)?i:ED(i,.075,.3),easeInOutElastic(i){return dp(i)?i:i<.5?.5*wD(i*2,.1125,.45):.5+.5*ED(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-zh.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?zh.easeInBounce(i*2)*.5:zh.easeOutBounce(i*2-1)*.5+.5};function B0(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function TD(i){return B0(i)?i:new nd(i)}function s_(i){return B0(i)?i:new nd(i).saturate(.5).darken(.1).hexString()}const iH=["x","y","borderWidth","radius","tension"],rH=["color","borderColor","backgroundColor"];function sH(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:rH},numbers:{type:"number",properties:iH}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aH(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const SD=new Map;function oH(i,e){e=e||{};const t=i+JSON.stringify(e);let n=SD.get(t);return n||(n=new Intl.NumberFormat(i,e),SD.set(t,n)),n}function Cd(i,e,t){return oH(e,t).format(i)}const $M={values(i){return wt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let r,s=i;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=lH(i,t)}const o=Ma(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Cd(i,n,h)},logarithmic(i,e,t){if(i===0)return"0";const n=t[e].significand||i/Math.pow(10,Math.floor(Ma(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?$M.numeric.call(this,i,e,t):""}};function lH(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var bg={formatters:$M};function cH(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ul=Object.create(null),rb=Object.create(null);function Hh(i,e){if(!e)return i;const t=e.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function a_(i,e,t){return typeof e=="string"?id(Hh(i,e),t):id(Hh(i,""),e)}class uH{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>s_(r.backgroundColor),this.hoverBorderColor=(n,r)=>s_(r.borderColor),this.hoverColor=(n,r)=>s_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return a_(this,e,t)}get(e){return Hh(this,e)}describe(e,t){return a_(rb,e,t)}override(e,t){return a_(ul,e,t)}route(e,t,n,r){const s=Hh(this,e),o=Hh(this,n),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=o[r];return He(h)?Object.assign({},d,h):Pe(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Et=new uH({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sH,aH,cH]);function hH(i){return!i||Ue(i.size)||Ue(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Rm(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function dH(i,e,t,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let o=0;const c=t.length;let h,d,p,y,v;for(h=0;h<c;h++)if(y=t[h],y!=null&&!wt(y))o=Rm(i,r,s,o,y);else if(wt(y))for(d=0,p=y.length;d<p;d++)v=y[d],v!=null&&!wt(v)&&(o=Rm(i,r,s,o,v));i.restore();const b=s.length/2;if(b>t.length){for(h=0;h<b;h++)delete r[s[h]];s.splice(0,b)}return o}function Uo(i,e,t){const n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function xD(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function sb(i,e,t,n){GM(i,e,t,n,null)}function GM(i,e,t,n,r){let s,o,c,h,d,p,y,v;const b=e.pointStyle,E=e.rotation,S=e.radius;let x=(E||0)*Wz;if(b&&typeof b=="object"&&(s=b.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(x),i.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),b){default:r?i.ellipse(t,n,r/2,S,0,0,_t):i.arc(t,n,S,0,_t),i.closePath();break;case"triangle":p=r?r/2:S,i.moveTo(t+Math.sin(x)*p,n-Math.cos(x)*S),x+=yD,i.lineTo(t+Math.sin(x)*p,n-Math.cos(x)*S),x+=yD,i.lineTo(t+Math.sin(x)*p,n-Math.cos(x)*S),i.closePath();break;case"rectRounded":d=S*.516,h=S-d,o=Math.cos(x+jo)*h,y=Math.cos(x+jo)*(r?r/2-d:h),c=Math.sin(x+jo)*h,v=Math.sin(x+jo)*(r?r/2-d:h),i.arc(t-y,n-c,d,x-bt,x-Ut),i.arc(t+v,n-o,d,x-Ut,x),i.arc(t+y,n+c,d,x,x+Ut),i.arc(t-v,n+o,d,x+Ut,x+bt),i.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*S,p=r?r/2:h,i.rect(t-p,n-h,2*p,2*h);break}x+=jo;case"rectRot":y=Math.cos(x)*(r?r/2:S),o=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+v,n-o),i.lineTo(t+y,n+c),i.lineTo(t-v,n+o),i.closePath();break;case"crossRot":x+=jo;case"cross":y=Math.cos(x)*(r?r/2:S),o=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o);break;case"star":y=Math.cos(x)*(r?r/2:S),o=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o),x+=jo,y=Math.cos(x)*(r?r/2:S),o=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+v,n-o),i.lineTo(t-v,n+o);break;case"line":o=r?r/2:Math.cos(x)*S,c=Math.sin(x)*S,i.moveTo(t-o,n-c),i.lineTo(t+o,n+c);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(x)*(r?r/2:S),n+Math.sin(x)*S);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function Es(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function wg(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Eg(i){i.restore()}function fH(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function pH(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function mH(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Ue(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function gH(i,e,t,n,r){if(r.strikethrough||r.underline){const s=i.measureText(n),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,p=r.strikethrough?(h+d)/2:d;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,p),i.lineTo(c,p),i.stroke()}}function yH(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function hl(i,e,t,n,r,s={}){const o=wt(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let h,d;for(i.save(),i.font=r.string,mH(i,s),h=0;h<o.length;++h)d=o[h],s.backdrop&&yH(i,s.backdrop),c&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),Ue(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(d,t,n,s.maxWidth)),i.fillText(d,t,n,s.maxWidth),gH(i,t,n,d,s),n+=Number(r.lineHeight);i.restore()}function ad(i,e){const{x:t,y:n,w:r,h:s,radius:o}=e;i.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*bt,bt,!0),i.lineTo(t,n+s-o.bottomLeft),i.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,bt,Ut,!0),i.lineTo(t+r-o.bottomRight,n+s),i.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Ut,0,!0),i.lineTo(t+r,n+o.topRight),i.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-Ut,!0),i.lineTo(t+o.topLeft,n)}const vH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_H=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bH(i,e){const t=(""+i).match(vH);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const wH=i=>+i||0;function z0(i,e){const t={},n=He(e),r=n?Object.keys(e):e,s=He(i)?n?o=>Pe(i[o],i[e[o]]):o=>i[o]:()=>i;for(const o of r)t[o]=wH(s(o));return t}function KM(i){return z0(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Jo(i){return z0(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(i){const e=KM(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(i,e){i=i||{},e=e||Et.font;let t=Pe(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Pe(i.style,e.style);n&&!(""+n).match(_H)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Pe(i.family,e.family),lineHeight:bH(Pe(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:Pe(i.weight,e.weight),string:""};return r.string=hH(r),r}function Ah(i,e,t,n){let r,s,o;for(r=0,s=i.length;r<s;++r)if(o=i[r],o!==void 0&&o!==void 0)return o}function EH(i,e,t){const{min:n,max:r}=i,s=VM(e,(r-n)/2),o=(c,h)=>t&&c===0?0:c+h;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function so(i,e){return Object.assign(Object.create(i),e)}function H0(i,e=[""],t,n,r=()=>i[0]){const s=t||i;typeof n>"u"&&(n=JM("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:c=>H0([c,...i],e,s,n)};return new Proxy(o,{deleteProperty(c,h){return delete c[h],delete c._keys,delete i[0][h],!0},get(c,h){return XM(c,h,()=>MH(h,e,i,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,h){return AD(c).includes(h)},ownKeys(c){return AD(c)},set(c,h,d){const p=c._storage||(c._storage=r());return c[h]=p[h]=d,delete c._keys,!0}})}function Lc(i,e,t,n){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:QM(i,n),setContext:s=>Lc(i,s,t,n),override:s=>Lc(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,c){return XM(s,o,()=>SH(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,c){return i[o]=c,delete s[o],!0}})}function QM(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:Xa(t)?t:()=>t,isIndexable:Xa(n)?n:()=>n}}const TH=(i,e)=>i?i+V0(e):e,Y0=(i,e)=>He(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function XM(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const n=t();return i[e]=n,n}function SH(i,e,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i;let c=n[e];return Xa(c)&&o.isScriptable(e)&&(c=xH(e,c,i,t)),wt(c)&&c.length&&(c=DH(e,c,i,o.isIndexable)),Y0(e,c)&&(c=Lc(c,r,s&&s[e],o)),c}function xH(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let h=e(s,o||n);return c.delete(i),Y0(i,h)&&(h=q0(r._scopes,r,i,h)),h}function DH(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&n(i))return e[s.index%e.length];if(He(e[0])){const h=e,d=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const y=q0(d,r,i,p);e.push(Lc(y,s,o&&o[i],c))}}return e}function ZM(i,e,t){return Xa(i)?i(e,t):i}const AH=(i,e)=>i===!0?e:typeof i=="string"?Qa(e,i):void 0;function CH(i,e,t,n,r){for(const s of e){const o=AH(t,s);if(o){i.add(o);const c=ZM(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==n)return c}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function q0(i,e,t,n){const r=e._rootScopes,s=ZM(e._fallback,t,n),o=[...i,...r],c=new Set;c.add(n);let h=DD(c,o,t,s||t,n);return h===null||typeof s<"u"&&s!==t&&(h=DD(c,o,s,h,n),h===null)?!1:H0(Array.from(c),[""],r,s,()=>RH(e,t,n))}function DD(i,e,t,n,r){for(;t;)t=CH(i,e,t,n,r);return t}function RH(i,e,t){const n=i._getTarget();e in n||(n[e]={});const r=n[e];return wt(r)&&He(t)?t:r||{}}function MH(i,e,t,n){let r;for(const s of e)if(r=JM(TH(s,i),t),typeof r<"u")return Y0(i,r)?q0(t,n,i,r):r}function JM(i,e){for(const t of e){if(!t)continue;const n=t[i];if(typeof n<"u")return n}}function AD(i){let e=i._keys;return e||(e=i._keys=kH(i._scopes)),e}function kH(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function ek(i,e,t,n){const{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n);let c,h,d,p;for(c=0,h=n;c<h;++c)d=c+t,p=e[d],o[c]={r:r.parse(Qa(p,s),d)};return o}const IH=Number.EPSILON||1e-14,Vc=(i,e)=>e<i.length&&!i[e].skip&&i[e],tk=i=>i==="x"?"y":"x";function OH(i,e,t,n){const r=i.skip?e:i,s=e,o=t.skip?e:t,c=ib(s,r),h=ib(o,s);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=n*d,v=n*p;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+v*(o.x-r.x),y:s.y+v*(o.y-r.y)}}}function PH(i,e,t){const n=i.length;let r,s,o,c,h,d=Vc(i,0);for(let p=0;p<n-1;++p)if(h=d,d=Vc(i,p+1),!(!h||!d)){if(Bh(e[p],0,IH)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],s=t[p+1]/e[p],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[p]=r*o*e[p],t[p+1]=s*o*e[p])}}function NH(i,e,t="x"){const n=tk(t),r=i.length;let s,o,c,h=Vc(i,0);for(let d=0;d<r;++d){if(o=c,c=h,h=Vc(i,d+1),!c)continue;const p=c[t],y=c[n];o&&(s=(p-o[t])/3,c[`cp1${t}`]=p-s,c[`cp1${n}`]=y-s*e[d]),h&&(s=(h[t]-p)/3,c[`cp2${t}`]=p+s,c[`cp2${n}`]=y+s*e[d])}}function LH(i,e="x"){const t=tk(e),n=i.length,r=Array(n).fill(0),s=Array(n);let o,c,h,d=Vc(i,0);for(o=0;o<n;++o)if(c=h,h=d,d=Vc(i,o+1),!!h){if(d){const p=d[e]-h[e];r[o]=p!==0?(d[t]-h[t])/p:0}s[o]=c?d?Mr(r[o-1])!==Mr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}PH(i,r,s),NH(i,s,e)}function fp(i,e,t){return Math.max(Math.min(i,t),e)}function VH(i,e){let t,n,r,s,o,c=Es(i[0],e);for(t=0,n=i.length;t<n;++t)o=s,s=c,c=t<n-1&&Es(i[t+1],e),s&&(r=i[t],o&&(r.cp1x=fp(r.cp1x,e.left,e.right),r.cp1y=fp(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=fp(r.cp2x,e.left,e.right),r.cp2y=fp(r.cp2y,e.top,e.bottom)))}function FH(i,e,t,n,r){let s,o,c,h;if(e.spanGaps&&(i=i.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")LH(i,r);else{let d=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)c=i[s],h=OH(d,c,i[Math.min(s+1,o-(n?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&VH(i,t)}function W0(){return typeof window<"u"&&typeof document<"u"}function $0(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mm(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const Tg=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function jH(i,e){return Tg(i).getPropertyValue(e)}const UH=["top","right","bottom","left"];function el(i,e,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=UH[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const BH=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function zH(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n;let o=!1,c,h;if(BH(r,s,i.target))c=r,h=s;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,h=n.clientY-d.top,o=!0}return{x:c,y:h,box:o}}function Yo(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,r=Tg(t),s=r.boxSizing==="border-box",o=el(r,"padding"),c=el(r,"border","width"),{x:h,y:d,box:p}=zH(i,t),y=o.left+(p&&c.left),v=o.top+(p&&c.top);let{width:b,height:E}=e;return s&&(b-=o.width+c.width,E-=o.height+c.height),{x:Math.round((h-y)/b*t.width/n),y:Math.round((d-v)/E*t.height/n)}}function HH(i,e,t){let n,r;if(e===void 0||t===void 0){const s=i&&$0(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{const o=s.getBoundingClientRect(),c=Tg(s),h=el(c,"border","width"),d=el(c,"padding");e=o.width-d.width-h.width,t=o.height-d.height-h.height,n=Mm(c.maxWidth,s,"clientWidth"),r=Mm(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Cm,maxHeight:r||Cm}}const pp=i=>Math.round(i*10)/10;function YH(i,e,t,n){const r=Tg(i),s=el(r,"margin"),o=Mm(r.maxWidth,i,"clientWidth")||Cm,c=Mm(r.maxHeight,i,"clientHeight")||Cm,h=HH(i,e,t);let{width:d,height:p}=h;if(r.boxSizing==="content-box"){const v=el(r,"border","width"),b=el(r,"padding");d-=b.width+v.width,p-=b.height+v.height}return d=Math.max(0,d-s.width),p=Math.max(0,n?d/n:p-s.height),d=pp(Math.min(d,o,h.maxWidth)),p=pp(Math.min(p,c,h.maxHeight)),d&&!p&&(p=pp(d/2)),(e!==void 0||t!==void 0)&&n&&h.height&&p>h.height&&(p=h.height,d=pp(Math.floor(p*n))),{width:d,height:p}}function CD(i,e,t){const n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const qH=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};W0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i}();function RD(i,e){const t=jH(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function qo(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function WH(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function $H(i,e,t,n){const r={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},o=qo(i,r,t),c=qo(r,s,t),h=qo(s,e,t),d=qo(o,c,t),p=qo(c,h,t);return qo(d,p,t)}const GH=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},KH=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Sc(i,e,t){return i?GH(e,t):KH()}function nk(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function ik(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function rk(i){return i==="angle"?{between:sd,compare:Qz,normalize:li}:{between:bs,compare:(e,t)=>e-t,normalize:e=>e}}function MD({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function QH(i,e,t){const{property:n,start:r,end:s}=t,{between:o,normalize:c}=rk(n),h=e.length;let{start:d,end:p,loop:y}=i,v,b;if(y){for(d+=h,p+=h,v=0,b=h;v<b&&o(c(e[d%h][n]),r,s);++v)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:i.style}}function sk(i,e,t){if(!t)return[i];const{property:n,start:r,end:s}=t,o=e.length,{compare:c,between:h,normalize:d}=rk(n),{start:p,end:y,loop:v,style:b}=QH(i,e,t),E=[];let S=!1,x=null,M,L,j;const W=()=>h(r,j,M)&&c(r,j)!==0,H=()=>c(s,M)===0||h(s,j,M),Q=()=>S||W(),O=()=>!S||H();for(let C=p,A=p;C<=y;++C)L=e[C%o],!L.skip&&(M=d(L[n]),M!==j&&(S=h(M,r,s),x===null&&Q()&&(x=c(M,r)===0?C:A),x!==null&&O()&&(E.push(MD({start:x,end:C,loop:v,count:o,style:b})),x=null),A=C,j=M));return x!==null&&E.push(MD({start:x,end:y,loop:v,count:o,style:b})),E}function ak(i,e){const t=[],n=i.segments;for(let r=0;r<n.length;r++){const s=sk(n[r],i.points,e);s.length&&t.push(...s)}return t}function XH(i,e,t,n){let r=0,s=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&i[s%e].skip;)s--;return s%=e,{start:r,end:s}}function ZH(i,e,t,n){const r=i.length,s=[];let o=e,c=i[e],h;for(h=e+1;h<=t;++h){const d=i[h%r];d.skip||d.stop?c.skip||(n=!1,s.push({start:e%r,end:(h-1)%r,loop:n}),e=o=d.stop?h:null):(o=h,c.skip&&(e=h)),c=d}return o!==null&&s.push({start:e%r,end:o%r,loop:n}),s}function JH(i,e){const t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];const s=!!i._loop,{start:o,end:c}=XH(t,r,s,n);if(n===!0)return kD(i,[{start:o,end:c,loop:s}],t,e);const h=c<o?c+r:c,d=!!i._fullLoop&&o===0&&c===r-1;return kD(i,ZH(t,o,h,d),t,e)}function kD(i,e,t,n){return!n||!n.setContext||!t?e:e5(i,e,t,n)}function e5(i,e,t,n){const r=i._chart.getContext(),s=ID(i.options),{_datasetIndex:o,options:{spanGaps:c}}=i,h=t.length,d=[];let p=s,y=e[0].start,v=y;function b(E,S,x,M){const L=c?-1:1;if(E!==S){for(E+=h;t[E%h].skip;)E-=L;for(;t[S%h].skip;)S+=L;E%h!==S%h&&(d.push({start:E%h,end:S%h,loop:x,style:M}),p=M,y=S%h)}}for(const E of e){y=c?y:E.start;let S=t[y%h],x;for(v=y+1;v<=E.end;v++){const M=t[v%h];x=ID(n.setContext(so(r,{type:"segment",p0:S,p1:M,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:o}))),t5(x,p)&&b(y,v-1,E.loop,p),S=M,p=x}y<v-1&&b(y,v-1,E.loop,p)}return d}function ID(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function t5(i,e){if(!e)return!1;const t=[],n=function(r,s){return B0(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(e,n)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class n5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],o=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=HM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,c=!1,h;for(;o>=0;--o)h=s[o],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ds=new n5;const OD="transparent",i5={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=TD(i||OD),r=n.valid&&TD(e||OD);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class r5{constructor(e,t,n,r){const s=t[n];r=Ah([e.to,r,s,e.from]);const o=Ah([e.from,s,r]);this._active=!0,this._fn=e.fn||i5[e.type||typeof o],this._easing=zh[e.easing]||zh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ah([e.to,t,r,e.from]),this._from=Ah([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let h;if(this._active=s!==c&&(o||t<n),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=s;return}h=t/n%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class ok{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!He(e))return;const t=Object.keys(Et.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!He(s))return;const o={};for(const c of t)o[c]=s[c];(wt(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,t){const n=t.options,r=a5(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&s5(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const d=o[h];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let y=s[d];const v=n.get(d);if(y)if(v&&y.active()){y.update(v,p,c);continue}else y.cancel();if(!v||!v.duration){e[d]=p;continue}s[d]=y=new r5(v,e,d,p),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return ds.add(this._chart,n),!0}}function s5(i,e){const t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function a5(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function PD(i,e){const t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function o5(i,e,t){if(t===!1)return!1;const n=PD(i,t),r=PD(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function l5(i){let e,t,n,r;return He(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function lk(i,e){const t=[],n=i._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function ND(i,e,t,n={}){const r=i.keys,s=n.mode==="single";let o,c,h,d;if(e===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(h=+r[o],h===t){if(p=!0,n.all)continue;break}d=i.values[h],Nt(d)&&(s||e===0||Mr(e)===Mr(d))&&(e+=d)}return!p&&!n.all?0:e}function c5(i,e){const{iScale:t,vScale:n}=e,r=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),c=new Array(o.length);let h,d,p;for(h=0,d=o.length;h<d;++h)p=o[h],c[h]={[r]:p,[s]:i[p]};return c}function o_(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function u5(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function h5(i){const{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function d5(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function LD(i,e,t,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function VD(i,e){const{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=n,h=s.axis,d=o.axis,p=u5(s,o,n),y=e.length;let v;for(let b=0;b<y;++b){const E=e[b],{[h]:S,[d]:x}=E,M=E._stacks||(E._stacks={});v=M[d]=d5(r,p,S),v[c]=x,v._top=LD(v,o,!0,n.type),v._bottom=LD(v,o,!1,n.type);const L=v._visualValues||(v._visualValues={});L[c]=x}}function l_(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function f5(i,e){return so(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function p5(i,e,t){return so(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function hh(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const c_=i=>i==="reset"||i==="none",FD=(i,e)=>e?i:Object.assign({},i),m5=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:lk(t,!0),values:null};class Wi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=o_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(y,v,b,E)=>y==="x"?v:y==="r"?E:b,s=t.xAxisID=Pe(n.xAxisID,l_(e,"x")),o=t.yAxisID=Pe(n.yAxisID,l_(e,"y")),c=t.rAxisID=Pe(n.rAxisID,l_(e,"r")),h=t.indexAxis,d=t.iAxisID=r(h,s,o,c),p=t.vAxisID=r(h,o,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bD(this._data,this),e._stacked&&hh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(He(t)){const r=this._cachedMeta;this._data=c5(t,r)}else if(n!==t){if(n){bD(n,this);const r=this._cachedMeta;hh(r),r._parsed=[]}t&&Object.isExtensible(t)&&eH(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=o_(t.vScale,t),t.stack!==n.stack&&(r=!0,hh(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(VD(this,t._parsed),t._stacked=o_(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:o}=n,c=s.axis;let h=e===0&&t===r.length?!0:n._sorted,d=e>0&&n._parsed[e-1],p,y,v;if(this._parsing===!1)n._parsed=r,n._sorted=!0,v=r;else{wt(r[e])?v=this.parseArrayData(n,r,e,t):He(r[e])?v=this.parseObjectData(n,r,e,t):v=this.parsePrimitiveData(n,r,e,t);const b=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<t;++p)n._parsed[p+e]=y=v[p],h&&(b()&&(h=!1),d=y);n._sorted=h}o&&VD(this,v)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:o}=e,c=s.axis,h=o.axis,d=s.getLabels(),p=s===o,y=new Array(r);let v,b,E;for(v=0,b=r;v<b;++v)E=v+n,y[v]={[c]:p||s.parse(d[E],E),[h]:o.parse(t[E],E)};return y}parseArrayData(e,t,n,r){const{xScale:s,yScale:o}=e,c=new Array(r);let h,d,p,y;for(h=0,d=r;h<d;++h)p=h+n,y=t[p],c[h]={x:s.parse(y[0],p),y:o.parse(y[1],p)};return c}parseObjectData(e,t,n,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(r);let p,y,v,b;for(p=0,y=r;p<y;++p)v=p+n,b=t[v],d[p]={x:s.parse(Qa(b,c),v),y:o.parse(Qa(b,h),v)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,o=t[e.axis],c={keys:lk(r,!0),values:t._stacks[e.axis]._visualValues};return ND(c,o,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let o=s===null?NaN:s;const c=r&&n._stacks[t.axis];r&&c&&(r.values=c,o=ND(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,o=r.length,c=this._getOtherScale(e),h=m5(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=h5(c);let v,b;function E(){b=r[v];const S=b[c.axis];return!Nt(b[e.axis])||p>S||y<S}for(v=0;v<o&&!(!E()&&(this.updateRangeFromParsed(d,e,b,h),s));++v);if(s){for(v=o-1;v>=0;--v)if(!E()){this.updateRangeFromParsed(d,e,b,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Nt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=l5(Pe(this.options.clip,o5(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,o=[],c=this._drawStart||0,h=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(e,s,c,h),p=c;p<c+h;++p){const y=r[p];y.hidden||(y.active&&d?o.push(y):y.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=p5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=f5(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,c=s[o],h=this.enableOptionSharing&&rd(n);if(c)return FD(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],v=d.getOptionScopes(this.getDataset(),p),b=Object.keys(Et.elements[e]),E=()=>this.getContext(n,r,t),S=d.resolveNamedOptions(v,b,E,y);return S.$shared&&(S.$shared=h,s[o]=Object.freeze(FD(S,h))),S}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,c=s[o];if(c)return c;let h;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(v,this.getContext(e,n,t))}const d=new ok(r,h&&h.animations);return h&&h._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||c_(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:o}}updateElement(e,t,n,r){c_(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!c_(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const r=n.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,n=!0){const r=this._cachedMeta,s=r.data,o=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=o;c--)d[c]=d[c-t]};for(h(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&hh(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ee(Wi,"defaults",{}),ee(Wi,"datasetElementType",null),ee(Wi,"dataElementType",null);function g5(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=zM(n.sort((r,s)=>r-s))}return i._cache.$bar}function y5(i){const e=i.iScale,t=g5(e,i.type);let n=e._length,r,s,o,c;const h=()=>{o===32767||o===-32768||(rd(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),h();return n}function v5(i,e,t,n){const r=t.barThickness;let s,o;return Ue(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[i]-s/2}}function _5(i,e,t,n){const r=e.pixels,s=r[i];let o=i>0?r[i-1]:null,c=i<r.length-1?r[i+1]:null;const h=t.categoryPercentage;o===null&&(o=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-o);const d=s-(s-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/n,ratio:t.barPercentage,start:d}}function b5(i,e,t,n){const r=t.parse(i[0],n),s=t.parse(i[1],n),o=Math.min(r,s),c=Math.max(r,s);let h=o,d=c;Math.abs(o)>Math.abs(c)&&(h=c,d=o),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:r,end:s,min:o,max:c}}function ck(i,e,t,n){return wt(i)?b5(i,e,t,n):e[t.axis]=t.parse(i,n),e}function jD(i,e,t,n){const r=i.iScale,s=i.vScale,o=r.getLabels(),c=r===s,h=[];let d,p,y,v;for(d=t,p=t+n;d<p;++d)v=e[d],y={},y[r.axis]=c||r.parse(o[d],d),h.push(ck(v,y,s,d));return h}function u_(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function w5(i,e,t){return i!==0?Mr(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function E5(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function T5(i,e,t,n){let r=e.borderSkipped;const s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:h,top:d,bottom:p}=E5(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=d:(t._bottom||0)===n?r=p:(s[UD(p,o,c,h)]=!0,r=d)),s[UD(r,o,c,h)]=!0,i.borderSkipped=s}function UD(i,e,t,n){return n?(i=S5(i,e,t),i=BD(i,t,e)):i=BD(i,e,t),i}function S5(i,e,t){return i===e?t:i===t?e:i}function BD(i,e,t){return i==="start"?e:i==="end"?t:i}function x5(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class Yh extends Wi{parsePrimitiveData(e,t,n,r){return jD(e,t,n,r)}parseArrayData(e,t,n,r){return jD(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=s.axis==="x"?c:h,p=o.axis==="x"?c:h,y=[];let v,b,E,S;for(v=n,b=n+r;v<b;++v)S=t[v],E={},E[s.axis]=s.parse(Qa(S,d),v),y.push(ck(Qa(S,p),E,o,v));return y}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),o=s._custom,c=u_(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,r);for(let b=t;b<t+n;b++){const E=this.getParsed(b),S=s||Ue(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),x=this._calculateBarIndexPixels(b,p),M=(E._stacks||{})[c.axis],L={horizontal:d,base:S.base,enableBorderRadius:!M||u_(E._custom)||o===M._top||o===M._bottom,x:d?S.head:x.center,y:d?x.center:S.head,height:d?x.size:Math.abs(S.size),width:d?Math.abs(S.size):x.size};v&&(L.options=y||this.resolveDataElementOptions(b,e[b].active?"active":r));const j=L.options||e[b].options;T5(L,j,M,o),x5(L,j,p.ratio),this.updateElement(e[b],b,L,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[n.axis],d=p=>{const y=p._parsed.find(b=>b[n.axis]===h),v=y&&y[p.vScale.axis];if(Ue(v)||isNaN(v))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const c=e.barThickness;return{min:c||y5(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,h=this.getParsed(e),d=h._custom,p=u_(d);let y=h[t.axis],v=0,b=n?this.applyStack(t,h,n):y,E,S;b!==y&&(v=b-y,b=y),p&&(y=d.barStart,b=d.barEnd-d.barStart,y!==0&&Mr(y)!==Mr(d.barEnd)&&(v=0),v+=y);const x=!Ue(s)&&!p?s:v;let M=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(v+b):E=M,S=E-M,Math.abs(S)<o){S=w5(S,t,c)*o,y===c&&(M-=S/2);const L=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),W=Math.min(L,j),H=Math.max(L,j);M=Math.max(Math.min(M,H),W),E=M+S,n&&!p&&(h._stacks[t.axis]._visualValues[r]=t.getValueForPixel(E)-t.getValueForPixel(M))}if(M===t.getPixelForValue(c)){const L=Mr(S)*t.getLineWidthForValue(c)/2;M+=L,S-=L}return{size:S,base:M,head:E,center:E+S/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,o=Pe(r.maxBarThickness,1/0);let c,h;if(t.grouped){const d=s?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?_5(e,t,r,d):v5(e,t,r,d),y=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);c=p.start+p.chunk*y+p.chunk/2,h=Math.min(o,p.chunk*p.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),h=Math.min(o,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}ee(Yh,"id","bar"),ee(Yh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ee(Yh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Hp extends Wi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let o=0;o<s.length;o++){const c=t[n+o];s[o]._custom=Pe(c[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let o=0;o<s.length;o++){const c=t[n+o];s[o]._custom=Pe(c&&c.r&&+c.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),c=r.getLabelForValue(o.x),h=s.getLabelForValue(o.y),d=o._custom;return{label:n[e]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,r),p=o.axis,y=c.axis;for(let v=t;v<t+n;v++){const b=e[v],E=!s&&this.getParsed(v),S={},x=S[p]=s?o.getPixelForDecimal(.5):o.getPixelForValue(E[p]),M=S[y]=s?c.getBasePixel():c.getPixelForValue(E[y]);S.skip=isNaN(x)||isNaN(M),d&&(S.options=h||this.resolveDataElementOptions(v,b.active?"active":r),s&&(S.options.radius=0)),this.updateElement(b,v,S,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=Pe(n&&n._custom,s),r}}ee(Hp,"id","bubble"),ee(Hp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ee(Hp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function D5(i,e,t){let n=1,r=1,s=0,o=0;if(e<_t){const c=i,h=c+e,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),v=Math.sin(h),b=(j,W,H)=>sd(j,c,h,!0)?1:Math.max(W,W*t,H,H*t),E=(j,W,H)=>sd(j,c,h,!0)?-1:Math.min(W,W*t,H,H*t),S=b(0,d,y),x=b(Ut,p,v),M=E(bt,d,y),L=E(bt+Ut,p,v);n=(S-M)/2,r=(x-L)/2,s=-(S+M)/2,o=-(x+L)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}class Xo extends Wi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=h=>+n[h];if(He(n[e])){const{key:h="value"}=this._parsing;s=d=>+Qa(n[d],h)}let o,c;for(o=e,c=e+t;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Yi(this.options.rotation-90)}_getCircumference(){return Yi(this.options.circumference)}_getRotationExtents(){let e=_t,t=-_t;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),h=Math.min(jz(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:E,offsetY:S}=D5(y,p,h),x=(n.width-o)/v,M=(n.height-o)/b,L=Math.max(Math.min(x,M)/2,0),j=VM(this.options.radius,L),W=Math.max(j*h,0),H=(j-W)/this._getVisibleDatasetWeightTotal();this.offsetX=E*j,this.offsetY=S*j,r.total=this.calculateTotal(),this.outerRadius=j-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/_t)}updateElements(e,t,n,r){const s=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=s&&d.animateScale,b=v?0:this.innerRadius,E=v?0:this.outerRadius,{sharedOptions:S,includeOptions:x}=this._getSharedOptions(t,r);let M=this._getRotation(),L;for(L=0;L<t;++L)M+=this._circumference(L,s);for(L=t;L<t+n;++L){const j=this._circumference(L,s),W=e[L],H={x:p+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+j,circumference:j,outerRadius:E,innerRadius:b};x&&(H.options=S||this.resolveDataElementOptions(L,W.active?"active":r)),M+=j,this.updateElement(W,L,H,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?_t*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Cd(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,o,c,h;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)h=c.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Pe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ee(Xo,"id","doughnut"),ee(Xo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ee(Xo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ee(Xo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class Yp extends Wi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:c,count:h}=qM(t,r,o);this._drawStart=c,this._drawCount=h,WM(t)&&(c=0,h=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(r,c,h,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(t,r),v=o.axis,b=c.axis,{spanGaps:E,segment:S}=this.options,x=Nc(E)?E:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||s||r==="none",L=t+n,j=e.length;let W=t>0&&this.getParsed(t-1);for(let H=0;H<j;++H){const Q=e[H],O=M?Q:{};if(H<t||H>=L){O.skip=!0;continue}const C=this.getParsed(H),A=Ue(C[b]),k=O[v]=o.getPixelForValue(C[v],H),V=O[b]=s||A?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,C,h):C[b],H);O.skip=isNaN(k)||isNaN(V)||A,O.stop=H>0&&Math.abs(C[v]-W[v])>x,S&&(O.parsed=C,O.raw=d.data[H]),y&&(O.options=p||this.resolveDataElementOptions(H,Q.active?"active":r)),M||this.updateElement(Q,H,O,r),W=C}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ee(Yp,"id","line"),ee(Yp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ee(Yp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class qh extends Wi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Cd(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return ek.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),c=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,n,r){const s=r==="reset",o=this.chart,h=o.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,v=d.getIndexAngle(0)-.5*bt;let b=v,E;const S=360/this.countVisibleElements();for(E=0;E<t;++E)b+=this._computeAngle(E,r,S);for(E=t;E<t+n;E++){const x=e[E];let M=b,L=b+this._computeAngle(E,r,S),j=o.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;b=L,s&&(h.animateScale&&(j=0),h.animateRotate&&(M=L=v));const W={x:p,y,innerRadius:0,outerRadius:j,startAngle:M,endAngle:L,options:this.resolveDataElementOptions(E,x.active?"active":r)};this.updateElement(x,E,W,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Yi(this.resolveDataElementOptions(e,t).angle||n):0}}ee(qh,"id","polarArea"),ee(qh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ee(qh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ab extends Xo{}ee(ab,"id","pie"),ee(ab,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qp extends Wi{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return ek.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(n,void 0,c,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let c=t;c<t+n;c++){const h=e[c],d=this.resolveDataElementOptions(c,h.active?"active":r),p=s.getPointPositionForValue(c,this.getParsed(c).r),y=o?s.xCenter:p.x,v=o?s.yCenter:p.y,b={x:y,y:v,angle:p.angle,skip:isNaN(y)||isNaN(v),options:d};this.updateElement(h,c,b,r)}}}ee(qp,"id","radar"),ee(qp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ee(qp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Wp extends Wi{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),c=r.getLabelForValue(o.x),h=s.getLabelForValue(o.y);return{label:n[e]||"",value:"("+c+", "+h+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:o}=qM(t,n,r);if(this._drawStart=s,this._drawCount=o,WM(t)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=n;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,r),y=this.getSharedOptions(p),v=this.includeOptions(r,y),b=o.axis,E=c.axis,{spanGaps:S,segment:x}=this.options,M=Nc(S)?S:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||r==="none";let j=t>0&&this.getParsed(t-1);for(let W=t;W<t+n;++W){const H=e[W],Q=this.getParsed(W),O=L?H:{},C=Ue(Q[E]),A=O[b]=o.getPixelForValue(Q[b],W),k=O[E]=s||C?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,Q,h):Q[E],W);O.skip=isNaN(A)||isNaN(k)||C,O.stop=W>0&&Math.abs(Q[b]-j[b])>M,x&&(O.parsed=Q,O.raw=d.data[W]),v&&(O.options=y||this.resolveDataElementOptions(W,H.active?"active":r)),L||this.updateElement(H,W,O,r),j=Q}this.updateSharedOptions(y,r,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let h=t.length-1;h>=0;--h)c=Math.max(c,t[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,o)/2}}ee(Wp,"id","scatter"),ee(Wp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ee(Wp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var A5=Object.freeze({__proto__:null,BarController:Yh,BubbleController:Hp,DoughnutController:Xo,LineController:Yp,PieController:ab,PolarAreaController:qh,RadarController:qp,ScatterController:Wp});function Bo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class G0{constructor(e){ee(this,"options");this.options=e||{}}static override(e){Object.assign(G0.prototype,e)}init(){}formats(){return Bo()}parse(){return Bo()}format(){return Bo()}add(){return Bo()}diff(){return Bo()}startOf(){return Bo()}endOf(){return Bo()}}var C5={_date:G0};function R5(i,e,t,n){const{controller:r,data:s,_sorted:o}=i,c=r._cachedMeta.iScale,h=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const d=c._reversePixels?Zz:ws;if(n){if(r._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const v=d(s,e,t-y),b=d(s,e,t+y);return{lo:v.lo,hi:b.hi}}}}else{const p=d(s,e,t);if(h){const{vScale:y}=r._cachedMeta,{_parsed:v}=i,b=v.slice(0,p.lo+1).reverse().findIndex(S=>!Ue(S[y.axis]));p.lo-=Math.max(0,b);const E=v.slice(p.hi).findIndex(S=>!Ue(S[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:s.length-1}}function Sg(i,e,t,n,r){const s=i.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=s.length;c<h;++c){const{index:d,data:p}=s[c],{lo:y,hi:v}=R5(s[c],e,o,r);for(let b=y;b<=v;++b){const E=p[b];E.skip||n(E,d,b)}}}function M5(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function h_(i,e,t,n,r){const s=[];return!r&&!i.isPointInArea(e)||Sg(i,t,e,function(c,h,d){!r&&!Es(c,i.chartArea,0)||c.inRange(e.x,e.y,n)&&s.push({element:c,datasetIndex:h,index:d})},!0),s}function k5(i,e,t,n){let r=[];function s(o,c,h){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],n),{angle:y}=UM(o,{x:e.x,y:e.y});sd(y,d,p)&&r.push({element:o,datasetIndex:c,index:h})}return Sg(i,t,e,s),r}function I5(i,e,t,n,r,s){let o=[];const c=M5(t);let h=Number.POSITIVE_INFINITY;function d(p,y,v){const b=p.inRange(e.x,e.y,r);if(n&&!b)return;const E=p.getCenterPoint(r);if(!(!!s||i.isPointInArea(E))&&!b)return;const x=c(e,E);x<h?(o=[{element:p,datasetIndex:y,index:v}],h=x):x===h&&o.push({element:p,datasetIndex:y,index:v})}return Sg(i,t,e,d),o}function d_(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?k5(i,e,t,r):I5(i,e,t,n,r,s)}function zD(i,e,t,n,r){const s=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return Sg(i,t,e,(h,d,p)=>{h[o]&&h[o](e[t],r)&&(s.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(e.x,e.y,r))}),n&&!c?[]:s}var O5={modes:{index(i,e,t,n){const r=Yo(e,i),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?h_(i,r,s,n,o):d_(i,r,s,!1,n,o),h=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(i,e,t,n){const r=Yo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?h_(i,r,s,n,o):d_(i,r,s,!1,n,o);if(c.length>0){const h=c[0].datasetIndex,d=i.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(i,e,t,n){const r=Yo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return h_(i,r,s,n,o)},nearest(i,e,t,n){const r=Yo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return d_(i,r,s,t.intersect,n,o)},x(i,e,t,n){const r=Yo(e,i);return zD(i,r,"x",t.intersect,n)},y(i,e,t,n){const r=Yo(e,i);return zD(i,r,"y",t.intersect,n)}}};const uk=["left","top","right","bottom"];function dh(i,e){return i.filter(t=>t.pos===e)}function HD(i,e){return i.filter(t=>uk.indexOf(t.pos)===-1&&t.box.axis===e)}function fh(i,e){return i.sort((t,n)=>{const r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function P5(i){const e=[];let t,n,r,s,o,c;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function N5(i){const e={};for(const t of i){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!uk.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function L5(i,e){const t=N5(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=i.length;s<o;++s){c=i[s];const{fullSize:h}=c.box,d=t[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*n:h&&e.availableWidth,c.height=r):(c.width=n,c.height=p?p*r:h&&e.availableHeight)}return t}function V5(i){const e=P5(i),t=fh(e.filter(d=>d.box.fullSize),!0),n=fh(dh(e,"left"),!0),r=fh(dh(e,"right")),s=fh(dh(e,"top"),!0),o=fh(dh(e,"bottom")),c=HD(e,"x"),h=HD(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(h).concat(o).concat(c),chartArea:dh(e,"chartArea"),vertical:n.concat(r).concat(h),horizontal:s.concat(o).concat(c)}}function YD(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function hk(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function F5(i,e,t,n){const{pos:r,box:s}=t,o=i.maxPadding;if(!He(r)){t.size&&(i[r]-=t.size);const y=n[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,i[r]+=t.size}s.getPadding&&hk(o,s.getPadding());const c=Math.max(0,e.outerWidth-YD(o,i,"left","right")),h=Math.max(0,e.outerHeight-YD(o,i,"top","bottom")),d=c!==i.w,p=h!==i.h;return i.w=c,i.h=h,t.horizontal?{same:d,other:p}:{same:p,other:d}}function j5(i){const e=i.maxPadding;function t(n){const r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function U5(i,e){const t=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return n(i?["left","right"]:["top","bottom"])}function Ch(i,e,t,n){const r=[];let s,o,c,h,d,p;for(s=0,o=i.length,d=0;s<o;++s){c=i[s],h=c.box,h.update(c.width||e.w,c.height||e.h,U5(c.horizontal,e));const{same:y,other:v}=F5(e,t,c,n);d|=y&&r.length,p=p||v,h.fullSize||r.push(c)}return d&&Ch(r,e,t,n)||p}function mp(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function qD(i,e,t,n){const r=t.padding;let{x:s,y:o}=e;for(const c of i){const h=c.box,d=n[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*p,v=d.size||h.height;rd(d.start)&&(o=d.start),h.fullSize?mp(h,r.left,o,t.outerWidth-r.right-r.left,v):mp(h,e.left+d.placed,o,y,v),d.start=o,d.placed+=y,o=h.bottom}else{const y=e.h*p,v=d.size||h.width;rd(d.start)&&(s=d.start),h.fullSize?mp(h,s,r.top,v,t.outerHeight-r.bottom-r.top):mp(h,s,e.top+d.placed,v,y),d.start=s,d.placed+=y,s=h.right}}e.x=s,e.y=o}var In={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const r=Pn(i.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=V5(i.boxes),h=c.vertical,d=c.horizontal;lt(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,x)=>x.box.options&&x.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),v=Object.assign({},r);hk(v,Pn(n));const b=Object.assign({maxPadding:v,w:s,h:o,x:r.left,y:r.top},r),E=L5(h.concat(d),y);Ch(c.fullSize,b,y,E),Ch(h,b,y,E),Ch(d,b,y,E)&&Ch(h,b,y,E),j5(b),qD(c.leftAndTop,b,y,E),b.x+=b.w,b.y+=b.h,qD(c.rightAndBottom,b,y,E),i.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},lt(c.chartArea,S=>{const x=S.box;Object.assign(x,i.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class dk{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class B5 extends dk{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $p="$chartjs",z5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},WD=i=>i===null||i==="";function H5(i,e){const t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[$p]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",WD(r)){const s=RD(i,"width");s!==void 0&&(i.width=s)}if(WD(n))if(i.style.height==="")i.height=i.width/(e||2);else{const s=RD(i,"height");s!==void 0&&(i.height=s)}return i}const fk=qH?{passive:!0}:!1;function Y5(i,e,t){i&&i.addEventListener(e,t,fk)}function q5(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,fk)}function W5(i,e){const t=z5[i.type]||i.type,{x:n,y:r}=Yo(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function km(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function $5(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||km(c.addedNodes,n),o=o&&!km(c.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function G5(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||km(c.removedNodes,n),o=o&&!km(c.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const od=new Map;let $D=0;function pk(){const i=window.devicePixelRatio;i!==$D&&($D=i,od.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function K5(i,e){od.size||window.addEventListener("resize",pk),od.set(i,e)}function Q5(i){od.delete(i),od.size||window.removeEventListener("resize",pk)}function X5(i,e,t){const n=i.canvas,r=n&&$0(n);if(!r)return;const s=YM((c,h)=>{const d=r.clientWidth;t(c,h),d<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||s(d,p)});return o.observe(r),K5(i,s),o}function f_(i,e,t){t&&t.disconnect(),e==="resize"&&Q5(i)}function Z5(i,e,t){const n=i.canvas,r=YM(s=>{i.ctx!==null&&t(W5(s,i))},i);return Y5(n,e,r),r}class J5 extends dk{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(H5(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[$p])return!1;const n=t[$p].initial;["height","width"].forEach(s=>{const o=n[s];Ue(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[$p],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:$5,detach:G5,resize:X5}[t]||Z5;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:f_,detach:f_,resize:f_}[t]||q5)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return YH(e,t,n,r)}isAttached(e){const t=e&&$0(e);return!!(t&&t.isConnected)}}function e3(i){return!W0()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?B5:J5}var Mp;let Vs=(Mp=class{constructor(){ee(this,"x");ee(this,"y");ee(this,"active",!1);ee(this,"options");ee(this,"$animations")}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Nc(this.x)&&Nc(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}},ee(Mp,"defaults",{}),ee(Mp,"defaultRoutes"),Mp);function t3(i,e){const t=i.options.ticks,n=n3(i),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?r3(e):[],o=s.length,c=s[0],h=s[o-1],d=[];if(o>r)return s3(e,d,s,o/r),d;const p=i3(s,e,r);if(o>0){let y,v;const b=o>1?Math.round((h-c)/(o-1)):null;for(gp(e,d,p,Ue(b)?0:c-b,c),y=0,v=o-1;y<v;y++)gp(e,d,p,s[y],s[y+1]);return gp(e,d,p,h,Ue(b)?e.length:h+b),d}return gp(e,d,p),d}function n3(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function i3(i,e,t){const n=a3(i),r=e.length/t;if(!n)return Math.max(r,1);const s=$z(n);for(let o=0,c=s.length-1;o<c;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}function r3(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function s3(i,e,t,n){let r=0,s=t[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(e.push(i[o]),r++,s=t[r*n])}function gp(i,e,t,n,r){const s=Pe(n,0),o=Math.min(Pe(r,i.length),i.length);let c=0,h,d,p;for(t=Math.ceil(t),r&&(h=r-n,t=h/Math.floor(h/t)),p=s;p<0;)c++,p=Math.round(s+c*t);for(d=Math.max(s,0);d<o;d++)d===p&&(e.push(i[d]),c++,p=Math.round(s+c*t))}function a3(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const o3=i=>i==="left"?"right":i==="right"?"left":i,GD=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,KD=(i,e)=>Math.min(e||i,i);function QD(i,e){const t=[],n=i.length/e,r=i.length;let s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function l3(i,e,t){const n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,o=i._endPixel,c=1e-6;let h=i.getPixelForTick(r),d;if(!(t&&(n===1?d=Math.max(h-s,o-h):e===0?d=(i.getPixelForTick(1)-h)/2:d=(h-i.getPixelForTick(r-1))/2,h+=r<e?d:-d,h<s-c||h>o+c)))return h}function c3(i,e){lt(i,t=>{const n=t.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function ph(i){return i.drawTicks?i.tickLength:0}function XD(i,e){if(!i.display)return 0;const t=nn(i.font,e),n=Pn(i.padding);return(wt(i.text)?i.text.length:1)*t.lineHeight+n.height}function u3(i,e){return so(i,{scale:e,type:"scale"})}function h3(i,e,t){return so(i,{tick:t,index:e,type:"tick"})}function d3(i,e,t){let n=U0(i);return(t&&e!=="right"||!t&&e==="right")&&(n=o3(n)),n}function f3(i,e,t,n){const{top:r,left:s,bottom:o,right:c,chart:h}=i,{chartArea:d,scales:p}=h;let y=0,v,b,E;const S=o-r,x=c-s;if(i.isHorizontal()){if(b=Rn(n,s,c),He(t)){const M=Object.keys(t)[0],L=t[M];E=p[M].getPixelForValue(L)+S-e}else t==="center"?E=(d.bottom+d.top)/2+S-e:E=GD(i,t,e);v=c-s}else{if(He(t)){const M=Object.keys(t)[0],L=t[M];b=p[M].getPixelForValue(L)-x+e}else t==="center"?b=(d.left+d.right)/2-x+e:b=GD(i,t,e);E=Rn(n,o,r),y=t==="left"?-Ut:Ut}return{titleX:b,titleY:E,maxWidth:v,rotation:y}}class _l extends Vs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=oi(e,Number.POSITIVE_INFINITY),t=oi(t,Number.NEGATIVE_INFINITY),n=oi(n,Number.POSITIVE_INFINITY),r=oi(r,Number.NEGATIVE_INFINITY),{min:oi(e,n),max:oi(t,r),minDefined:Nt(e),maxDefined:Nt(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:n};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)o=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:oi(t,oi(n,t)),max:oi(n,oi(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){mt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=EH(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?QD(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=t3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){mt(this.options.afterUpdate,[this])}beforeSetDimensions(){mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=mt(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=KD(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,c,h,d;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,b=pn(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/n:b/(n-1),y+6>c&&(c=b/(n-(e.offset?.5:1)),h=this.maxHeight-ph(e.grid)-t.padding-XD(e.title,this.chart.options.font),d=Math.sqrt(y*y+v*v),o=F0(Math.min(Math.asin(pn((p.highest.height+6)/c,-1,1)),Math.asin(pn(h/d,-1,1))-Math.asin(pn(v/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=XD(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=ph(s)+h):(e.height=this.maxHeight,e.width=ph(s)+h),n.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:v}=this._getLabelSizes(),b=n.padding*2,E=Yi(this.labelRotation),S=Math.cos(E),x=Math.sin(E);if(c){const M=n.mirror?0:x*y.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+M+b)}else{const M=n.mirror?0:S*y.width+x*v.height;e.width=Math.min(this.maxWidth,e.width+M+b)}this._calculatePadding(d,p,x,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:o},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;h?d?(v=r*e.width,b=n*t.height):(v=n*e.height,b=r*t.width):s==="start"?b=t.width:s==="end"?v=e.width:s!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+o)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;s==="start"?(p=0,y=e.height):s==="end"&&(p=t.height,y=0),this.paddingTop=p+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Ue(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=QD(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],h=Math.floor(t/KD(t,n));let d=0,p=0,y,v,b,E,S,x,M,L,j,W,H;for(y=0;y<t;y+=h){if(E=e[y].label,S=this._resolveTickFontOptions(y),r.font=x=S.string,M=s[x]=s[x]||{data:{},gc:[]},L=S.lineHeight,j=W=0,!Ue(E)&&!wt(E))j=Rm(r,M.data,M.gc,j,E),W=L;else if(wt(E))for(v=0,b=E.length;v<b;++v)H=E[v],!Ue(H)&&!wt(H)&&(j=Rm(r,M.data,M.gc,j,H),W+=L);o.push(j),c.push(W),d=Math.max(j,d),p=Math.max(W,p)}c3(s,t);const Q=o.indexOf(d),O=c.indexOf(p),C=A=>({width:o[A]||0,height:c[A]||0});return{first:C(0),last:C(t-1),widest:C(Q),highest:C(O),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Xz(this._alignToPixels?Uo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=h3(this.getContext(),e,n))}return this.$context||(this.$context=u3(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Yi(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*n>c*r?c/n:h/r:h*r<c*n?h/n:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:c}=r,h=s.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=ph(s),b=[],E=c.setContext(this.getContext()),S=E.display?E.width:0,x=S/2,M=function(z){return Uo(n,z,S)};let L,j,W,H,Q,O,C,A,k,V,U,N;if(o==="top")L=M(this.bottom),O=this.bottom-v,A=L-x,V=M(e.top)+x,N=e.bottom;else if(o==="bottom")L=M(this.top),V=e.top,N=M(e.bottom)-x,O=L+x,A=this.top+v;else if(o==="left")L=M(this.right),Q=this.right-v,C=L-x,k=M(e.left)+x,U=e.right;else if(o==="right")L=M(this.left),k=e.left,U=M(e.right)-x,Q=L+x,C=this.left+v;else if(t==="x"){if(o==="center")L=M((e.top+e.bottom)/2+.5);else if(He(o)){const z=Object.keys(o)[0],te=o[z];L=M(this.chart.scales[z].getPixelForValue(te))}V=e.top,N=e.bottom,O=L+x,A=O+v}else if(t==="y"){if(o==="center")L=M((e.left+e.right)/2);else if(He(o)){const z=Object.keys(o)[0],te=o[z];L=M(this.chart.scales[z].getPixelForValue(te))}Q=L-x,C=Q-v,k=e.left,U=e.right}const de=Pe(r.ticks.maxTicksLimit,y),q=Math.max(1,Math.ceil(y/de));for(j=0;j<y;j+=q){const z=this.getContext(j),te=s.setContext(z),re=c.setContext(z),fe=te.lineWidth,Y=te.color,ie=re.dash||[],ye=re.dashOffset,me=te.tickWidth,ge=te.tickColor,Re=te.tickBorderDash||[],xe=te.tickBorderDashOffset;W=l3(this,j,h),W!==void 0&&(H=Uo(n,W,fe),d?Q=C=k=U=H:O=A=V=N=H,b.push({tx1:Q,ty1:O,tx2:C,ty2:A,x1:k,y1:V,x2:U,y2:N,width:fe,color:Y,borderDash:ie,borderDashOffset:ye,tickWidth:me,tickColor:ge,tickBorderDash:Re,tickBorderDashOffset:xe}))}return this._ticksLength=y,this._borderValue=L,b}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=s,v=ph(n.grid),b=v+p,E=y?-p:b,S=-Yi(this.labelRotation),x=[];let M,L,j,W,H,Q,O,C,A,k,V,U,N="middle";if(r==="top")Q=this.bottom-E,O=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+E,O=this._getXAxisLabelAlignment();else if(r==="left"){const q=this._getYAxisLabelAlignment(v);O=q.textAlign,H=q.x}else if(r==="right"){const q=this._getYAxisLabelAlignment(v);O=q.textAlign,H=q.x}else if(t==="x"){if(r==="center")Q=(e.top+e.bottom)/2+b;else if(He(r)){const q=Object.keys(r)[0],z=r[q];Q=this.chart.scales[q].getPixelForValue(z)+b}O=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-b;else if(He(r)){const q=Object.keys(r)[0],z=r[q];H=this.chart.scales[q].getPixelForValue(z)}O=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const de=this._getLabelSizes();for(M=0,L=c.length;M<L;++M){j=c[M],W=j.label;const q=s.setContext(this.getContext(M));C=this.getPixelForTick(M)+s.labelOffset,A=this._resolveTickFontOptions(M),k=A.lineHeight,V=wt(W)?W.length:1;const z=V/2,te=q.color,re=q.textStrokeColor,fe=q.textStrokeWidth;let Y=O;o?(H=C,O==="inner"&&(M===L-1?Y=this.options.reverse?"left":"right":M===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?d==="near"||S!==0?U=-V*k+k/2:d==="center"?U=-de.highest.height/2-z*k+k:U=-de.highest.height+k/2:d==="near"||S!==0?U=k/2:d==="center"?U=de.highest.height/2-z*k:U=de.highest.height-V*k,y&&(U*=-1),S!==0&&!q.showLabelBackdrop&&(H+=k/2*Math.sin(S))):(Q=C,U=(1-V)*k/2);let ie;if(q.showLabelBackdrop){const ye=Pn(q.backdropPadding),me=de.heights[M],ge=de.widths[M];let Re=U-ye.top,xe=0-ye.left;switch(N){case"middle":Re-=me/2;break;case"bottom":Re-=me;break}switch(O){case"center":xe-=ge/2;break;case"right":xe-=ge;break;case"inner":M===L-1?xe-=ge:M>0&&(xe-=ge/2);break}ie={left:xe,top:Re,width:ge+ye.width,height:me+ye.height,color:q.backdropColor}}x.push({label:W,font:A,textOffset:U,options:{rotation:S,color:te,strokeColor:re,strokeWidth:fe,textAlign:Y,textBaseline:N,translation:[H,Q],backdrop:ie}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Yi(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,h=o.widest.width;let d,p;return t==="left"?r?(p=this.right+s,n==="near"?d="left":n==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,n==="near"?d="right":n==="center"?(d="center",p-=h/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+s,n==="near"?d="right":n==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,n==="near"?d="left":n==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(h,d,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,v;this.isHorizontal()?(d=Uo(e,this.left,o)-o/2,p=Uo(e,this.right,c)+c/2,y=v=h):(y=Uo(e,this.top,o)-o/2,v=Uo(e,this.bottom,c)+c/2,d=p=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,y),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&wg(n,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,h=o.font,d=o.label,p=o.textOffset;hl(n,d,0,p,h,c)}r&&Eg(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=nn(n.font),o=Pn(n.padding),c=n.align;let h=s.lineHeight/2;t==="bottom"||t==="center"||He(t)?(h+=o.bottom,wt(n.text)&&(h+=s.lineHeight*(n.text.length-1))):h+=o.top;const{titleX:d,titleY:p,maxWidth:y,rotation:v}=f3(this,h,t,c);hl(e,n.text,0,0,s,{color:n.color,maxWidth:y,rotation:v,textAlign:d3(c,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Pe(e.grid&&e.grid.z,-1),r=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==_l.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[n]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return nn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yp{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;g3(t)&&(n=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,p3(e,o,n),this.override&&Et.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Et[r]&&(delete Et[r][n],this.override&&delete ul[n])}}function p3(i,e,t){const n=id(Object.create(null),[t?Et.get(t):{},Et.get(e),i.defaults]);Et.set(e,n),i.defaultRoutes&&m3(e,i.defaultRoutes),i.descriptors&&Et.describe(e,i.descriptors)}function m3(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");Et.route(s,r,h,c)})}function g3(i){return"id"in i&&"defaults"in i}class y3{constructor(){this.controllers=new yp(Wi,"datasets",!0),this.elements=new yp(Vs,"elements"),this.plugins=new yp(Object,"plugins"),this.scales=new yp(_l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):lt(r,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,n){const r=V0(e);mt(n["before"+r],[],n),t[e](n),mt(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var vr=new y3;class v3{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(const s of e){const o=s.plugin,c=o[n],h=[t,r,s.options];if(mt(c,h,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Pe(n.options&&n.options.plugins,{}),s=_3(n);return r===!1&&!t?[]:w3(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function _3(i){const e={},t=[],n=Object.keys(vr.plugins.items);for(let s=0;s<n.length;s++)t.push(vr.getPlugin(n[s]));const r=i.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function b3(i,e){return!e&&i===!1?null:i===!0?{}:i}function w3(i,{plugins:e,localIds:t},n,r){const s=[],o=i.getContext();for(const c of e){const h=c.id,d=b3(n[h],r);d!==null&&s.push({plugin:c,options:E3(i.config,{plugin:c,local:t[h]},d,o)})}return s}function E3(i,{plugin:e,local:t},n,r){const s=i.pluginScopeKeys(e),o=i.getOptionScopes(n,s);return t&&e.defaults&&o.push(e.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ob(i,e){const t=Et.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function T3(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function S3(i,e){return i===e?"_index_":"_value_"}function ZD(i){if(i==="x"||i==="y"||i==="r")return i}function x3(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function lb(i,...e){if(ZD(i))return i;for(const t of e){const n=t.axis||x3(t.position)||i.length>1&&ZD(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function JD(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function D3(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return JD(i,"x",t[0])||JD(i,"y",t[0])}return{}}function A3(i,e){const t=ul[i.type]||{scales:{}},n=e.scales||{},r=ob(i.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!He(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=lb(o,c,D3(o,i),Et.scales[c.type]),d=S3(h,r),p=t.scales||{};s[o]=Uh(Object.create(null),[{axis:h},c,p[h],p[d]])}),i.data.datasets.forEach(o=>{const c=o.type||i.type,h=o.indexAxis||ob(c,e),p=(ul[c]||{}).scales||{};Object.keys(p).forEach(y=>{const v=T3(y,h),b=o[v+"AxisID"]||v;s[b]=s[b]||Object.create(null),Uh(s[b],[{axis:v},n[b],p[y]])})}),Object.keys(s).forEach(o=>{const c=s[o];Uh(c,[Et.scales[c.type],Et.scale])}),s}function mk(i){const e=i.options||(i.options={});e.plugins=Pe(e.plugins,{}),e.scales=A3(i,e)}function gk(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function C3(i){return i=i||{},i.data=gk(i.data),mk(i),i}const eA=new Map,yk=new Set;function vp(i,e){let t=eA.get(i);return t||(t=e(),eA.set(i,t),yk.add(t)),t}const mh=(i,e,t)=>{const n=Qa(e,t);n!==void 0&&i.add(n)};class R3{constructor(e){this._config=C3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gk(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),mk(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return vp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return vp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return vp(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,o=this._cachedScopes(e,n),c=o.get(t);if(c)return c;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(y=>mh(h,e,y))),p.forEach(y=>mh(h,r,y)),p.forEach(y=>mh(h,ul[s]||{},y)),p.forEach(y=>mh(h,Et,y)),p.forEach(y=>mh(h,rb,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),yk.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,ul[t]||{},Et.datasets[t]||{},{type:t},Et,rb]}resolveNamedOptions(e,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=tA(this._resolverCache,e,r);let h=o;if(k3(o,t)){s.$shared=!1,n=Xa(n)?n():n;const d=this.createResolver(e,n,c);h=Lc(o,n,d)}for(const d of t)s[d]=h[d];return s}createResolver(e,t,n=[""],r){const{resolver:s}=tA(this._resolverCache,e,n);return He(t)?Lc(s,t,void 0,r):s}}function tA(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const r=t.join();let s=n.get(r);return s||(s={resolver:H0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},n.set(r,s)),s}const M3=i=>He(i)&&Object.getOwnPropertyNames(i).some(e=>Xa(i[e]));function k3(i,e){const{isScriptable:t,isIndexable:n}=QM(i);for(const r of e){const s=t(r),o=n(r),c=(o||s)&&i[r];if(s&&(Xa(c)||M3(c))||o&&wt(c))return!0}return!1}var I3="4.4.8";const O3=["top","bottom","left","right","chartArea"];function nA(i,e){return i==="top"||i==="bottom"||O3.indexOf(i)===-1&&e==="x"}function iA(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function rA(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),mt(t&&t.onComplete,[i],e)}function P3(i){const e=i.chart,t=e.options.animation;mt(t&&t.onProgress,[i],e)}function vk(i){return W0()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Gp={},sA=i=>{const e=vk(i);return Object.values(Gp).filter(t=>t.canvas===e).pop()};function N3(i,e,t){const n=Object.keys(i);for(const r of n){const s=+r;if(s>=e){const o=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=o)}}}function L3(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}function _p(i,e,t){return i.options.clip?i[t]:e[t]}function V3(i,e){const{xScale:t,yScale:n}=i;return t&&n?{left:_p(t,e,"left"),right:_p(t,e,"right"),top:_p(n,e,"top"),bottom:_p(n,e,"bottom")}:e}var Sa;let xg=(Sa=class{static register(...e){vr.add(...e),aA()}static unregister(...e){vr.remove(...e),aA()}constructor(e,t){const n=this.config=new R3(t),r=vk(e),s=sA(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||e3(r)),this.platform.updateConfig(n);const c=this.platform.acquireContext(r,o.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=Fz(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new v3,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tH(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Gp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ds.listen(this,"complete",rA),ds.listen(this,"progress",P3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return Ue(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xD(this.canvas,this.ctx),this}stop(){return ds.stop(this),this}resize(e,t){ds.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,CD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),mt(n.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};lt(t,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const c=t[o],h=lb(o,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),lt(s,o=>{const c=o.options,h=c.id,d=lb(h,c),p=Pe(c.type,o.dtype);(c.position===void 0||nA(c.position,d)!==nA(o.dposition))&&(c.position=o.dposition),r[h]=!0;let y=null;if(h in n&&n[h].type===p)y=n[h];else{const v=vr.getScale(p);y=new v({id:h,type:p,ctx:this.ctx,chart:this}),n[y.id]=y}y.init(c,e)}),lt(r,(o,c)=>{o||delete n[c]}),lt(n,o=>{In.configure(this,o,o.options),In.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>t){for(let r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(iA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,r)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const s=t[n];let o=this.getDatasetMeta(n);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=s.indexAxis||ob(c,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const h=vr.getController(c),{datasetElementType:d,dataElementType:p}=Et.datasets[c];Object.assign(h,{dataElementType:vr.getElement(p),datasetElementType:d&&vr.getElement(d)}),o.controller=new h(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){lt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),v=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(v),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||lt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(iA("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){lt(this.scales,e=>{In.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!gD(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){const o=n==="_removeElements"?-s:s;N3(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!gD(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],lt(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Xa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ds.has(this)?this.attached&&!ds.running(this)&&ds.start(this):(this.draw(),rA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=V3(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&wg(t,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&Eg(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Es(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=O5.modes[t];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=so(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);rd(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ds.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Gp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};lt(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},r=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},s=(h,d)=>{this.canvas&&this.resize(h,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){lt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},lt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,o,c,h;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!Dm(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),o=s(t,e),c=n?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,o=t,c=this._getActiveElements(e,r,n,o),h=Yz(e),d=L3(e,this._lastEvent,n,h);n&&(this._lastEvent=null,mt(s.onHover,[e,c,this],this),h&&mt(s.onClick,[e,c,this],this));const p=!Dm(c,r);return(p||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,n,r){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},ee(Sa,"defaults",Et),ee(Sa,"instances",Gp),ee(Sa,"overrides",ul),ee(Sa,"registry",vr),ee(Sa,"version",I3),ee(Sa,"getChart",sA),Sa);function aA(){return lt(xg.instances,i=>i._plugins.invalidate())}function F3(i,e,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:h}=e;let d=r/c;i.beginPath(),i.arc(s,o,c,n-d,t+d),h>r?(d=r/h,i.arc(s,o,h,t+d,n-d,!0)):i.arc(s,o,r,t+Ut,n-Ut),i.closePath(),i.clip()}function j3(i){return z0(i,["outerStart","outerEnd","innerStart","innerEnd"])}function U3(i,e,t,n){const r=j3(i.options.borderRadius),s=(t-e)/2,o=Math.min(s,n*e/2),c=h=>{const d=(t-Math.min(s,h))*n/2;return pn(h,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:pn(r.innerStart,0,o),innerEnd:pn(r.innerEnd,0,o)}}function dc(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function Im(i,e,t,n,r,s){const{x:o,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=e,y=Math.max(e.outerRadius+n+t-d,0),v=p>0?p+n+t+d:0;let b=0;const E=r-h;if(n){const q=p>0?p-n:0,z=y>0?y-n:0,te=(q+z)/2,re=te!==0?E*te/(te+n):E;b=(E-re)/2}const S=Math.max(.001,E*y-t/bt)/y,x=(E-S)/2,M=h+x+b,L=r-x-b,{outerStart:j,outerEnd:W,innerStart:H,innerEnd:Q}=U3(e,v,y,L-M),O=y-j,C=y-W,A=M+j/O,k=L-W/C,V=v+H,U=v+Q,N=M+H/V,de=L-Q/U;if(i.beginPath(),s){const q=(A+k)/2;if(i.arc(o,c,y,A,q),i.arc(o,c,y,q,k),W>0){const fe=dc(C,k,o,c);i.arc(fe.x,fe.y,W,k,L+Ut)}const z=dc(U,L,o,c);if(i.lineTo(z.x,z.y),Q>0){const fe=dc(U,de,o,c);i.arc(fe.x,fe.y,Q,L+Ut,de+Math.PI)}const te=(L-Q/v+(M+H/v))/2;if(i.arc(o,c,v,L-Q/v,te,!0),i.arc(o,c,v,te,M+H/v,!0),H>0){const fe=dc(V,N,o,c);i.arc(fe.x,fe.y,H,N+Math.PI,M-Ut)}const re=dc(O,M,o,c);if(i.lineTo(re.x,re.y),j>0){const fe=dc(O,A,o,c);i.arc(fe.x,fe.y,j,M-Ut,A)}}else{i.moveTo(o,c);const q=Math.cos(A)*y+o,z=Math.sin(A)*y+c;i.lineTo(q,z);const te=Math.cos(k)*y+o,re=Math.sin(k)*y+c;i.lineTo(te,re)}i.closePath()}function B3(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let h=e.endAngle;if(s){Im(i,e,t,n,h,r);for(let d=0;d<s;++d)i.fill();isNaN(c)||(h=o+(c%_t||_t))}return Im(i,e,t,n,h,r),i.fill(),h}function z3(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c,options:h}=e,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:v}=h,b=h.borderAlign==="inner";if(!d)return;i.setLineDash(y||[]),i.lineDashOffset=v,b?(i.lineWidth=d*2,i.lineJoin=p||"round"):(i.lineWidth=d,i.lineJoin=p||"bevel");let E=e.endAngle;if(s){Im(i,e,t,n,E,r);for(let S=0;S<s;++S)i.stroke();isNaN(c)||(E=o+(c%_t||_t))}b&&F3(i,e,E),s||(Im(i,e,t,n,E,r),i.stroke())}class Rh extends Vs{constructor(t){super();ee(this,"circumference");ee(this,"endAngle");ee(this,"fullCircles");ee(this,"innerRadius");ee(this,"outerRadius");ee(this,"pixelMargin");ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.getProps(["x","y"],r),{angle:o,distance:c}=UM(s,{x:t,y:n}),{startAngle:h,endAngle:d,innerRadius:p,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),b=(this.options.spacing+this.options.borderWidth)/2,E=Pe(v,d-h),S=sd(o,h,d)&&h!==d,x=E>=_t||S,M=bs(c,p+b,y+b);return x&&M}getCenterPoint(t){const{x:n,y:r,startAngle:s,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:p}=this.options,y=(s+o)/2,v=(c+h+p+d)/2;return{x:n+Math.cos(y)*v,y:r+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,s=(n.offset||0)/4,o=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>_t?Math.floor(r/_t):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*s,Math.sin(h)*s);const d=1-Math.sin(Math.min(bt,r||0)),p=s*d;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,B3(t,this,p,o,c),z3(t,this,p,o,c),t.restore()}}ee(Rh,"id","arc"),ee(Rh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ee(Rh,"defaultRoutes",{backgroundColor:"backgroundColor"}),ee(Rh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function _k(i,e,t=e){i.lineCap=Pe(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Pe(t.borderDash,e.borderDash)),i.lineDashOffset=Pe(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Pe(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Pe(t.borderWidth,e.borderWidth),i.strokeStyle=Pe(t.borderColor,e.borderColor)}function H3(i,e,t){i.lineTo(t.x,t.y)}function Y3(i){return i.stepped?fH:i.tension||i.cubicInterpolationMode==="monotone"?pH:H3}function bk(i,e,t={}){const n=i.length,{start:r=0,end:s=n-1}=t,{start:o,end:c}=e,h=Math.max(r,o),d=Math.min(s,c),p=r<o&&s<o||r>c&&s>c;return{count:n,start:h,loop:e.loop,ilen:d<h&&!p?n+d-h:d-h}}function q3(i,e,t,n){const{points:r,options:s}=e,{count:o,start:c,loop:h,ilen:d}=bk(r,t,n),p=Y3(s);let{move:y=!0,reverse:v}=n||{},b,E,S;for(b=0;b<=d;++b)E=r[(c+(v?d-b:b))%o],!E.skip&&(y?(i.moveTo(E.x,E.y),y=!1):p(i,S,E,v,s.stepped),S=E);return h&&(E=r[(c+(v?d:0))%o],p(i,S,E,v,s.stepped)),!!h}function W3(i,e,t,n){const r=e.points,{count:s,start:o,ilen:c}=bk(r,t,n),{move:h=!0,reverse:d}=n||{};let p=0,y=0,v,b,E,S,x,M;const L=W=>(o+(d?c-W:W))%s,j=()=>{S!==x&&(i.lineTo(p,x),i.lineTo(p,S),i.lineTo(p,M))};for(h&&(b=r[L(0)],i.moveTo(b.x,b.y)),v=0;v<=c;++v){if(b=r[L(v)],b.skip)continue;const W=b.x,H=b.y,Q=W|0;Q===E?(H<S?S=H:H>x&&(x=H),p=(y*p+W)/++y):(j(),i.lineTo(W,H),E=Q,y=0,S=x=H),M=H}j()}function cb(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?W3:q3}function $3(i){return i.stepped?WH:i.tension||i.cubicInterpolationMode==="monotone"?$H:qo}function G3(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),_k(i,e.options),i.stroke(r)}function K3(i,e,t,n){const{segments:r,options:s}=e,o=cb(e);for(const c of r)_k(i,s,c.style),i.beginPath(),o(i,e,c,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}const Q3=typeof Path2D=="function";function X3(i,e,t,n){Q3&&!e.options.segment?G3(i,e,t,n):K3(i,e,t,n)}class ka extends Vs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;FH(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=JH(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,o=ak(this,{property:t,start:r,end:r});if(!o.length)return;const c=[],h=$3(n);let d,p;for(d=0,p=o.length;d<p;++d){const{start:y,end:v}=o[d],b=s[y],E=s[v];if(b===E){c.push(b);continue}const S=Math.abs((r-b[t])/(E[t]-b[t])),x=h(b,E,S,n.stepped);x[t]=e[t],c.push(x)}return c.length===1?c[0]:c}pathSegment(e,t,n){return cb(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=cb(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const c of r)o&=s(e,this,c,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),X3(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ee(ka,"id","line"),ee(ka,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ee(ka,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ee(ka,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function oA(i,e,t,n){const r=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<r.radius+r.hitRadius}class Kp extends Vs{constructor(t){super();ee(this,"parsed");ee(this,"skip");ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const s=this.options,{x:o,y:c}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(n-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,n){return oA(this,t,"x",n)}inYRange(t,n){return oA(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!Es(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,sb(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ee(Kp,"id","point"),ee(Kp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ee(Kp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function wk(i,e){const{x:t,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],e);let c,h,d,p,y;return i.horizontal?(y=o/2,c=Math.min(t,r),h=Math.max(t,r),d=n-y,p=n+y):(y=s/2,c=t-y,h=t+y,d=Math.min(n,r),p=Math.max(n,r)),{left:c,top:d,right:h,bottom:p}}function Ia(i,e,t,n){return i?0:pn(e,t,n)}function Z3(i,e,t){const n=i.options.borderWidth,r=i.borderSkipped,s=KM(n);return{t:Ia(r.top,s.top,0,t),r:Ia(r.right,s.right,0,e),b:Ia(r.bottom,s.bottom,0,t),l:Ia(r.left,s.left,0,e)}}function J3(i,e,t){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Jo(r),o=Math.min(e,t),c=i.borderSkipped,h=n||He(r);return{topLeft:Ia(!h||c.top||c.left,s.topLeft,0,o),topRight:Ia(!h||c.top||c.right,s.topRight,0,o),bottomLeft:Ia(!h||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Ia(!h||c.bottom||c.right,s.bottomRight,0,o)}}function e9(i){const e=wk(i),t=e.right-e.left,n=e.bottom-e.top,r=Z3(i,t/2,n/2),s=J3(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function p_(i,e,t,n){const r=e===null,s=t===null,c=i&&!(r&&s)&&wk(i,n);return c&&(r||bs(e,c.left,c.right))&&(s||bs(t,c.top,c.bottom))}function t9(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function n9(i,e){i.rect(e.x,e.y,e.w,e.h)}function m_(i,e,t={}){const n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,o=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}class Qp extends Vs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=e9(this),c=t9(o.radius)?ad:n9;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,m_(o,t,s)),e.clip(),c(e,m_(s,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,m_(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return p_(this,e,t,n)}inXRange(e,t){return p_(this,e,null,t)}inYRange(e,t){return p_(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ee(Qp,"id","bar"),ee(Qp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ee(Qp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var i9=Object.freeze({__proto__:null,ArcElement:Rh,BarElement:Qp,LineElement:ka,PointElement:Kp});const ub=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lA=ub.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ek(i){return ub[i%ub.length]}function Tk(i){return lA[i%lA.length]}function r9(i,e){return i.borderColor=Ek(e),i.backgroundColor=Tk(e),++e}function s9(i,e){return i.backgroundColor=i.data.map(()=>Ek(e++)),e}function a9(i,e){return i.backgroundColor=i.data.map(()=>Tk(e++)),e}function o9(i){let e=0;return(t,n)=>{const r=i.getDatasetMeta(n).controller;r instanceof Xo?e=s9(t,e):r instanceof qh?e=a9(t,e):r&&(e=r9(t,e))}}function cA(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function l9(i){return i&&(i.borderColor||i.backgroundColor)}function c9(){return Et.borderColor!=="rgba(0,0,0,0.1)"||Et.backgroundColor!=="rgba(0,0,0,0.1)"}var u9={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;const{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=cA(n)||l9(r)||s&&cA(s)||c9();if(!t.forceOverride&&o)return;const c=o9(i);n.forEach(c)}};function h9(i,e,t,n,r){const s=r.samples||n;if(s>=t)return i.slice(e,e+t);const o=[],c=(t-2)/(s-2);let h=0;const d=e+t-1;let p=e,y,v,b,E,S;for(o[h++]=i[p],y=0;y<s-2;y++){let x=0,M=0,L;const j=Math.floor((y+1)*c)+1+e,W=Math.min(Math.floor((y+2)*c)+1,t)+e,H=W-j;for(L=j;L<W;L++)x+=i[L].x,M+=i[L].y;x/=H,M/=H;const Q=Math.floor(y*c)+1+e,O=Math.min(Math.floor((y+1)*c)+1,t)+e,{x:C,y:A}=i[p];for(b=E=-1,L=Q;L<O;L++)E=.5*Math.abs((C-x)*(i[L].y-A)-(C-i[L].x)*(M-A)),E>b&&(b=E,v=i[L],S=L);o[h++]=v,p=S}return o[h++]=i[d],o}function d9(i,e,t,n){let r=0,s=0,o,c,h,d,p,y,v,b,E,S;const x=[],M=e+t-1,L=i[e].x,W=i[M].x-L;for(o=e;o<e+t;++o){c=i[o],h=(c.x-L)/W*n,d=c.y;const H=h|0;if(H===p)d<E?(E=d,y=o):d>S&&(S=d,v=o),r=(s*r+c.x)/++s;else{const Q=o-1;if(!Ue(y)&&!Ue(v)){const O=Math.min(y,v),C=Math.max(y,v);O!==b&&O!==Q&&x.push({...i[O],x:r}),C!==b&&C!==Q&&x.push({...i[C],x:r})}o>0&&Q!==b&&x.push(i[Q]),x.push(c),p=H,s=0,E=S=d,y=v=b=o}}return x}function Sk(i){if(i._decimated){const e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function uA(i){i.data.datasets.forEach(e=>{Sk(e)})}function f9(i,e){const t=e.length;let n=0,r;const{iScale:s}=i,{min:o,max:c,minDefined:h,maxDefined:d}=s.getUserBounds();return h&&(n=pn(ws(e,s.axis,o).lo,0,t-1)),d?r=pn(ws(e,s.axis,c).hi+1,n,t)-n:r=t-n,{start:n,count:r}}var p9={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){uA(i);return}const n=i.width;i.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:c}=r,h=i.getDatasetMeta(s),d=o||r.data;if(Ah([c,i.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=i.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||i.options.parsing)return;let{start:y,count:v}=f9(h,d);const b=t.threshold||4*n;if(v<=b){Sk(r);return}Ue(o)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let E;switch(t.algorithm){case"lttb":E=h9(d,y,v,n,t);break;case"min-max":E=d9(d,y,v,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=E})},destroy(i){uA(i)}};function m9(i,e,t){const n=i.segments,r=i.points,s=e.points,o=[];for(const c of n){let{start:h,end:d}=c;d=K0(h,d,r);const p=hb(t,r[h],r[d],c.loop);if(!e.segments){o.push({source:c,target:p,start:r[h],end:r[d]});continue}const y=ak(e,p);for(const v of y){const b=hb(t,s[v.start],s[v.end],v.loop),E=sk(c,r,b);for(const S of E)o.push({source:S,target:v,start:{[t]:hA(p,b,"start",Math.max)},end:{[t]:hA(p,b,"end",Math.min)}})}}return o}function hb(i,e,t,n){if(n)return;let r=e[i],s=t[i];return i==="angle"&&(r=li(r),s=li(s)),{property:i,start:r,end:s}}function g9(i,e){const{x:t=null,y:n=null}=i||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:c})=>{c=K0(o,c,r);const h=r[o],d=r[c];n!==null?(s.push({x:h.x,y:n}),s.push({x:d.x,y:n})):t!==null&&(s.push({x:t,y:h.y}),s.push({x:t,y:d.y}))}),s}function K0(i,e,t){for(;e>i;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function hA(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function xk(i,e){let t=[],n=!1;return wt(i)?(n=!0,t=i):t=g9(i,e),t.length?new ka({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function dA(i){return i&&i.fill!==!1}function y9(i,e,t){let r=i[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Nt(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function v9(i,e,t){const n=E9(i);if(He(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Nt(r)&&Math.floor(r)===r?_9(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function _9(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function b9(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:He(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function w9(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:He(i)?n=i.value:n=e.getBaseValue(),n}function E9(i){const e=i.options,t=e.fill;let n=Pe(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function T9(i){const{scale:e,index:t,line:n}=i,r=[],s=n.segments,o=n.points,c=S9(e,t);c.push(xk({x:null,y:e.bottom},n));for(let h=0;h<s.length;h++){const d=s[h];for(let p=d.start;p<=d.end;p++)x9(r,o[p],c)}return new ka({points:r,options:{}})}function S9(i,e){const t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function x9(i,e,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:c,point:h}=D9(s,e,"x");if(!(!h||o&&c)){if(o)n.unshift(h);else if(i.push(h),!c)break}}i.push(...n)}function D9(i,e,t){const n=i.interpolate(e,t);if(!n)return{};const r=n[t],s=i.segments,o=i.points;let c=!1,h=!1;for(let d=0;d<s.length;d++){const p=s[d],y=o[p.start][t],v=o[p.end][t];if(bs(r,y,v)){c=r===y,h=r===v;break}}return{first:c,last:h,point:n}}class Dk{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:_t},e.arc(r,s,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function A9(i){const{chart:e,fill:t,line:n}=i;if(Nt(t))return C9(e,t);if(t==="stack")return T9(i);if(t==="shape")return!0;const r=R9(i);return r instanceof Dk?r:xk(r,n)}function C9(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function R9(i){return(i.scale||{}).getPointPositionForValue?k9(i):M9(i)}function M9(i){const{scale:e={},fill:t}=i,n=b9(t,e);if(Nt(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function k9(i){const{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,o=w9(t,e,s),c=[];if(n.grid.circular){const h=e.getPointPositionForValue(0,s);return new Dk({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(o)})}for(let h=0;h<r;++h)c.push(e.getPointPositionForValue(h,o));return c}function g_(i,e,t){const n=A9(e),{line:r,scale:s,axis:o}=e,c=r.options,h=c.fill,d=c.backgroundColor,{above:p=d,below:y=d}=h||{};n&&r.points.length&&(wg(i,t),I9(i,{line:r,target:n,above:p,below:y,area:t,scale:s,axis:o}),Eg(i))}function I9(i,e){const{line:t,target:n,above:r,below:s,area:o,scale:c}=e,h=t._loop?"angle":e.axis;i.save(),h==="x"&&s!==r&&(fA(i,n,o.top),pA(i,{line:t,target:n,color:r,scale:c,property:h}),i.restore(),i.save(),fA(i,n,o.bottom)),pA(i,{line:t,target:n,color:s,scale:c,property:h}),i.restore()}function fA(i,e,t){const{segments:n,points:r}=e;let s=!0,o=!1;i.beginPath();for(const c of n){const{start:h,end:d}=c,p=r[h],y=r[K0(h,d,r)];s?(i.moveTo(p.x,p.y),s=!1):(i.lineTo(p.x,t),i.lineTo(p.x,p.y)),o=!!e.pathSegment(i,c,{move:o}),o?i.closePath():i.lineTo(y.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function pA(i,e){const{line:t,target:n,property:r,color:s,scale:o}=e,c=m9(t,n,r);for(const{source:h,target:d,start:p,end:y}of c){const{style:{backgroundColor:v=s}={}}=h,b=n!==!0;i.save(),i.fillStyle=v,O9(i,o,b&&hb(r,p,y)),i.beginPath();const E=!!t.pathSegment(i,h);let S;if(b){E?i.closePath():mA(i,n,y,r);const x=!!n.pathSegment(i,d,{move:E,reverse:!0});S=E&&x,S||mA(i,n,p,r)}i.closePath(),i.fill(S?"evenodd":"nonzero"),i.restore()}}function O9(i,e,t){const{top:n,bottom:r}=e.chart.chartArea,{property:s,start:o,end:c}=t||{};s==="x"&&(i.beginPath(),i.rect(o,n,c-o,r-n),i.clip())}function mA(i,e,t,n){const r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var P9={id:"filler",afterDatasetsUpdate(i,e,t){const n=(i.data.datasets||[]).length,r=[];let s,o,c,h;for(o=0;o<n;++o)s=i.getDatasetMeta(o),c=s.dataset,h=null,c&&c.options&&c instanceof ka&&(h={visible:i.isDatasetVisible(o),index:o,fill:v9(c,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=h,r.push(h);for(o=0;o<n;++o)h=r[o],!(!h||h.fill===!1)&&(h.fill=y9(r,o,t.propagate))},beforeDraw(i,e,t){const n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),n&&c.fill&&g_(i.ctx,c,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;dA(s)&&g_(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){const n=e.meta.$filler;!dA(n)||t.drawTime!=="beforeDatasetDraw"||g_(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gA=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},N9=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class yA extends Vs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=mt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=nn(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=gA(n,s);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,s,c,h)+10):(p=this.maxHeight,d=this._fitCols(o,r,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+c;let y=e;s.textAlign="left",s.textBaseline="middle";let v=-1,b=-p;return this.legendItems.forEach((E,S)=>{const x=n+t/2+s.measureText(E.text).width;(S===0||d[d.length-1]+x+2*c>o)&&(y+=p,d[d.length-(S>0?0:1)]=0,b+=p,v++),h[S]={left:0,top:b,row:v,width:x,height:r},d[d.length-1]+=x+c}),y}_fitCols(e,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let y=c,v=0,b=0,E=0,S=0;return this.legendItems.forEach((x,M)=>{const{itemWidth:L,itemHeight:j}=L9(n,t,s,x,r);M>0&&b+j+2*c>p&&(y+=v+c,d.push({width:v,height:b}),E+=v+c,S++,v=b=0),h[M]={left:E,top:b,col:S,width:L,height:j},v=Math.max(v,L),b+=j+c}),y+=v,d.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=Sc(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Rn(n,this.left+r,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=Rn(n,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(h),d.width),h+=d.width+r}else{let c=0,h=Rn(n,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=Rn(n,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),h+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wg(e,this),this._draw(),Eg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=e,c=Et.color,h=Sc(e.rtl,this.left,this.width),d=nn(o.font),{padding:p}=o,y=d.size,v=y/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:E,boxHeight:S,itemHeight:x}=gA(o,y),M=function(Q,O,C){if(isNaN(E)||E<=0||isNaN(S)||S<0)return;r.save();const A=Pe(C.lineWidth,1);if(r.fillStyle=Pe(C.fillStyle,c),r.lineCap=Pe(C.lineCap,"butt"),r.lineDashOffset=Pe(C.lineDashOffset,0),r.lineJoin=Pe(C.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Pe(C.strokeStyle,c),r.setLineDash(Pe(C.lineDash,[])),o.usePointStyle){const k={radius:S*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:A},V=h.xPlus(Q,E/2),U=O+v;GM(r,k,V,U,o.pointStyleWidth&&E)}else{const k=O+Math.max((y-S)/2,0),V=h.leftForLtr(Q,E),U=Jo(C.borderRadius);r.beginPath(),Object.values(U).some(N=>N!==0)?ad(r,{x:V,y:k,w:E,h:S,radius:U}):r.rect(V,k,E,S),r.fill(),A!==0&&r.stroke()}r.restore()},L=function(Q,O,C){hl(r,C.text,Q,O+x/2,d,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},j=this.isHorizontal(),W=this._computeTitleHeight();j?b={x:Rn(s,this.left+p,this.right-n[0]),y:this.top+p+W,line:0}:b={x:this.left+p,y:Rn(s,this.top+W+p,this.bottom-t[0].height),line:0},nk(this.ctx,e.textDirection);const H=x+p;this.legendItems.forEach((Q,O)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const C=r.measureText(Q.text).width,A=h.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),k=E+v+C;let V=b.x,U=b.y;h.setWidth(this.width),j?O>0&&V+k+p>this.right&&(U=b.y+=H,b.line++,V=b.x=Rn(s,this.left+p,this.right-n[b.line])):O>0&&U+H>this.bottom&&(V=b.x=V+t[b.line].width+p,b.line++,U=b.y=Rn(s,this.top+W+p,this.bottom-t[b.line].height));const N=h.x(V);if(M(N,U,Q),V=nH(A,V+E+v,j?V+k:this.right,e.rtl),L(h.x(V),U,Q),j)b.x+=k+p;else if(typeof Q.text!="string"){const de=d.lineHeight;b.y+=Ak(Q,de)+p}else b.y+=H}),ik(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=nn(t.font),r=Pn(t.padding);if(!t.display)return;const s=Sc(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=n.size/2,d=r.top+h;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+d,y=Rn(e.align,y,this.right-v);else{const E=this.columnSizes.reduce((S,x)=>Math.max(S,x.height),0);p=d+Rn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const b=Rn(c,y,y+v);o.textAlign=s.textAlign(U0(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,hl(o,t.text,b,p,n)}_computeTitleHeight(){const e=this.options.title,t=nn(e.font),n=Pn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(bs(e,this.left,this.right)&&bs(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],bs(e,r.left,r.left+r.width)&&bs(t,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!j9(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=N9(r,n);r&&!s&&mt(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&mt(t.onHover,[e,n,this],this)}else n&&mt(t.onClick,[e,n,this],this)}}function L9(i,e,t,n,r){const s=V9(n,i,e,t),o=F9(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function V9(i,e,t,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+n.measureText(r).width}function F9(i,e,t){let n=i;return typeof e.text!="string"&&(n=Ak(e,t)),n}function Ak(i,e){const t=i.text?i.text.length:0;return e*t}function j9(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var U9={id:"legend",_element:yA,start(i,e,t){const n=i.legend=new yA({ctx:i.ctx,options:t,chart:i});In.configure(i,n,t),In.addBox(i,n)},stop(i){In.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const n=i.legend;In.configure(i,n,t),n.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const n=e.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),p=Pn(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Q0 extends Vs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=wt(n.text)?n.text.length:1;this._padding=Pn(n.padding);const s=r*nn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:o}=this,c=o.align;let h=0,d,p,y;return this.isHorizontal()?(p=Rn(c,n,s),y=t+e,d=s-n):(o.position==="left"?(p=n+e,y=Rn(c,r,t),h=bt*-.5):(p=s-e,y=Rn(c,t,r),h=bt*.5),d=r-t),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=nn(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(s);hl(e,t.text,0,0,n,{color:t.color,maxWidth:h,rotation:d,textAlign:U0(t.align),textBaseline:"middle",translation:[o,c]})}}function B9(i,e){const t=new Q0({ctx:i.ctx,options:e,chart:i});In.configure(i,t,e),In.addBox(i,t),i.titleBlock=t}var z9={id:"title",_element:Q0,start(i,e,t){B9(i,t)},stop(i){const e=i.titleBlock;In.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const n=i.titleBlock;In.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bp=new WeakMap;var H9={id:"subtitle",start(i,e,t){const n=new Q0({ctx:i.ctx,options:t,chart:i});In.configure(i,n,t),In.addBox(i,n),bp.set(i,n)},stop(i){In.removeBox(i,bp.get(i)),bp.delete(i)},beforeUpdate(i,e,t){const n=bp.get(i);In.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mh={average(i){if(!i.length)return!1;let e,t,n=new Set,r=0,s=0;for(e=0,t=i.length;e<t;++e){const c=i[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();n.add(h.x),r+=h.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((c,h)=>c+h)/n.size,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=i.length;s<o;++s){const h=i[s].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=ib(e,d);p<r&&(r=p,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,n=h.y}return{x:t,y:n}}};function yr(i,e){return e&&(wt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function fs(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Y9(i,e){const{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function vA(i,e){const t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:c}=e,h=nn(e.bodyFont),d=nn(e.titleFont),p=nn(e.footerFont),y=s.length,v=r.length,b=n.length,E=Pn(e.padding);let S=E.height,x=0,M=n.reduce((W,H)=>W+H.before.length+H.lines.length+H.after.length,0);if(M+=i.beforeBody.length+i.afterBody.length,y&&(S+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),M){const W=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=b*W+(M-b)*h.lineHeight+(M-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let L=0;const j=function(W){x=Math.max(x,t.measureText(W).width+L)};return t.save(),t.font=d.string,lt(i.title,j),t.font=h.string,lt(i.beforeBody.concat(i.afterBody),j),L=e.displayColors?o+2+e.boxPadding:0,lt(n,W=>{lt(W.before,j),lt(W.lines,j),lt(W.after,j)}),L=0,t.font=p.string,lt(i.footer,j),t.restore(),x+=E.width,{width:x,height:S}}function q9(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function W9(i,e,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if(i==="left"&&r+s+o>e.width||i==="right"&&r-s-o<0)return!0}function $9(i,e,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:h}}=i;let d="center";return n==="center"?d=r<=(c+h)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),W9(d,i,e,t)&&(d="center"),d}function _A(i,e,t){const n=t.yAlign||e.yAlign||q9(i,t);return{xAlign:t.xAlign||e.xAlign||$9(i,e,t,n),yAlign:n}}function G9(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function K9(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function bA(i,e,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:c,yAlign:h}=t,d=r+s,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:b}=Jo(o);let E=G9(e,c);const S=K9(e,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,v)+r:c==="right"&&(E+=Math.max(y,b)+r),{x:pn(E,0,n.width-e.width),y:pn(S,0,n.height-e.height)}}function wp(i,e,t){const n=Pn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function wA(i){return yr([],fs(i))}function Q9(i,e,t){return so(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function EA(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const Ck={beforeTitle:hs,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:hs,beforeBody:hs,beforeLabel:hs,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Ue(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:hs,afterBody:hs,beforeFooter:hs,footer:hs,afterFooter:hs};function $n(i,e,t,n){const r=i[e].call(t,n);return typeof r>"u"?Ck[e].call(t,n):r}class db extends Vs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new ok(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Q9(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=$n(n,"beforeTitle",this,e),s=$n(n,"title",this,e),o=$n(n,"afterTitle",this,e);let c=[];return c=yr(c,fs(r)),c=yr(c,fs(s)),c=yr(c,fs(o)),c}getBeforeBody(e,t){return wA($n(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return lt(e,s=>{const o={before:[],lines:[],after:[]},c=EA(n,s);yr(o.before,fs($n(c,"beforeLabel",this,s))),yr(o.lines,$n(c,"label",this,s)),yr(o.after,fs($n(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return wA($n(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=$n(n,"beforeFooter",this,e),s=$n(n,"footer",this,e),o=$n(n,"afterFooter",this,e);let c=[];return c=yr(c,fs(r)),c=yr(c,fs(s)),c=yr(c,fs(o)),c}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],o=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(Y9(this.chart,t[h]));return e.filter&&(c=c.filter((p,y,v)=>e.filter(p,y,v,n))),e.itemSort&&(c=c.sort((p,y)=>e.itemSort(p,y,n))),lt(c,p=>{const y=EA(e.callbacks,p);r.push($n(y,"labelColor",this,p)),s.push($n(y,"labelPointStyle",this,p)),o.push($n(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=Mh[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const h=this._size=vA(this,n),d=Object.assign({},c,h),p=_A(this.chart,n,d),y=bA(n,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=Jo(c),{x:v,y:b}=e,{width:E,height:S}=t;let x,M,L,j,W,H;return s==="center"?(W=b+S/2,r==="left"?(x=v,M=x-o,j=W+o,H=W-o):(x=v+E,M=x+o,j=W-o,H=W+o),L=x):(r==="left"?M=v+Math.max(h,p)+o:r==="right"?M=v+E-Math.max(d,y)-o:M=this.caretX,s==="top"?(j=b,W=j-o,x=M-o,L=M+o):(j=b+S,W=j+o,x=M+o,L=M-o),H=j),{x1:x,x2:M,x3:L,y1:j,y2:W,y3:H}}drawTitle(e,t,n){const r=this.title,s=r.length;let o,c,h;if(s){const d=Sc(n.rtl,this.x,this.width);for(e.x=wp(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",o=nn(n.titleFont),c=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,h=0;h<s;++h)t.fillText(r[h],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,h+1===s&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,t,n,r,s){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:h,boxWidth:d}=s,p=nn(s.bodyFont),y=wp(this,"left",s),v=r.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,E=t.y+b;if(s.usePointStyle){const S={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=r.leftForLtr(v,d)+d/2,M=E+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,sb(e,S,x,M),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,sb(e,S,x,M)}else{e.lineWidth=He(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(v,d),x=r.leftForLtr(r.xPlus(v,1),d-2),M=Jo(o.borderRadius);Object.values(M).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ad(e,{x:S,y:E,w:d,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ad(e,{x,y:E+1,w:d-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,E,d,h),e.strokeRect(S,E,d,h),e.fillStyle=o.backgroundColor,e.fillRect(x,E+1,d-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=n,y=nn(n.bodyFont);let v=y.lineHeight,b=0;const E=Sc(n.rtl,this.x,this.width),S=function(C){t.fillText(C,E.x(e.x+b),e.y+v/2),e.y+=v+s},x=E.textAlign(o);let M,L,j,W,H,Q,O;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=wp(this,x,n),t.fillStyle=n.bodyColor,lt(this.beforeBody,S),b=c&&x!=="right"?o==="center"?d/2+p:d+2+p:0,W=0,Q=r.length;W<Q;++W){for(M=r[W],L=this.labelTextColors[W],t.fillStyle=L,lt(M.before,S),j=M.lines,c&&j.length&&(this._drawColorBox(t,e,W,E,n),v=Math.max(y.lineHeight,h)),H=0,O=j.length;H<O;++H)S(j[H]),v=y.lineHeight;lt(M.after,S)}b=0,v=y.lineHeight,lt(this.afterBody,S),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let o,c;if(s){const h=Sc(n.rtl,this.x,this.width);for(e.x=wp(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=h.textAlign(n.footerAlign),t.textBaseline="middle",o=nn(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:o}=this,{x:c,y:h}=e,{width:d,height:p}=n,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:E}=Jo(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+y,h),o==="top"&&this.drawCaret(e,t,n,r),t.lineTo(c+d-v,h),t.quadraticCurveTo(c+d,h,c+d,h+v),o==="center"&&s==="right"&&this.drawCaret(e,t,n,r),t.lineTo(c+d,h+p-E),t.quadraticCurveTo(c+d,h+p,c+d-E,h+p),o==="bottom"&&this.drawCaret(e,t,n,r),t.lineTo(c+b,h+p),t.quadraticCurveTo(c,h+p,c,h+p-b),o==="center"&&s==="left"&&this.drawCaret(e,t,n,r),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const o=Mh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=vA(this,e),h=Object.assign({},o,this._size),d=_A(t,e,h),p=bA(e,h,d,t);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Pn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),nk(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),ik(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),s=!Dm(n,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,n),c=this._positionChanged(o,e),h=t||!Dm(o,s)||c;return h&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,o=Mh[s.position].call(this,e,t);return o!==!1&&(n!==o.x||r!==o.y)}}ee(db,"positioners",Mh);var X9={id:"tooltip",_element:db,positioners:Mh,afterInit(i,e,t){t&&(i.tooltip=new db({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ck},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Z9=Object.freeze({__proto__:null,Colors:u9,Decimation:p9,Filler:P9,Legend:U9,SubTitle:H9,Title:z9,Tooltip:X9});const J9=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function e6(i,e,t,n){const r=i.indexOf(e);if(r===-1)return J9(i,e,t,n);const s=i.lastIndexOf(e);return r!==s?t:r}const t6=(i,e)=>i===null?null:pn(Math.round(i),0,e);function TA(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class fb extends _l{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:r,label:s}of t)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ue(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:e6(n,e,Pe(t,e),this._addedLabels),t6(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return TA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ee(fb,"id","category"),ee(fb,"defaults",{ticks:{callback:TA}});function n6(i,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:v}=i,b=s||1,E=p-1,{min:S,max:x}=e,M=!Ue(o),L=!Ue(c),j=!Ue(d),W=(x-S)/(y+1);let H=vD((x-S)/E/b)*b,Q,O,C,A;if(H<1e-14&&!M&&!L)return[{value:S},{value:x}];A=Math.ceil(x/H)-Math.floor(S/H),A>E&&(H=vD(A*H/E/b)*b),Ue(h)||(Q=Math.pow(10,h),H=Math.ceil(H*Q)/Q),r==="ticks"?(O=Math.floor(S/H)*H,C=Math.ceil(x/H)*H):(O=S,C=x),M&&L&&s&&Kz((c-o)/s,H/1e3)?(A=Math.round(Math.min((c-o)/H,p)),H=(c-o)/A,O=o,C=c):j?(O=M?o:O,C=L?c:C,A=d-1,H=(C-O)/A):(A=(C-O)/H,Bh(A,Math.round(A),H/1e3)?A=Math.round(A):A=Math.ceil(A));const k=Math.max(_D(H),_D(O));Q=Math.pow(10,Ue(h)?k:h),O=Math.round(O*Q)/Q,C=Math.round(C*Q)/Q;let V=0;for(M&&(v&&O!==o?(t.push({value:o}),O<o&&V++,Bh(Math.round((O+V*H)*Q)/Q,o,SA(o,W,i))&&V++):O<o&&V++);V<A;++V){const U=Math.round((O+V*H)*Q)/Q;if(L&&U>c)break;t.push({value:U})}return L&&v&&C!==c?t.length&&Bh(t[t.length-1].value,c,SA(c,W,i))?t[t.length-1].value=c:t.push({value:c}):(!L||C===c)&&t.push({value:C}),t}function SA(i,e,{horizontal:t,minRotation:n}){const r=Yi(n),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+i).length;return Math.min(e/s,o)}class Om extends _l{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,c=h=>s=n?s:h;if(e){const h=Mr(r),d=Mr(s);h<0&&d<0?c(0):h>0&&d>0&&o(0)}if(r===s){let h=s===0?1:Math.abs(s*.05);c(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=n6(r,s);return e.bounds==="ticks"&&jM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Cd(e,this.chart.options.locale,this.options.ticks.format)}}class pb extends Om{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?e:0,this.max=Nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Yi(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ee(pb,"id","linear"),ee(pb,"defaults",{ticks:{callback:bg.formatters.numeric}});const ld=i=>Math.floor(Ma(i)),zo=(i,e)=>Math.pow(10,ld(i)+e);function xA(i){return i/Math.pow(10,ld(i))===1}function DA(i,e,t){const n=Math.pow(10,t),r=Math.floor(i/n);return Math.ceil(e/n)-r}function i6(i,e){const t=e-i;let n=ld(t);for(;DA(i,e,n)>10;)n++;for(;DA(i,e,n)<10;)n--;return Math.min(n,ld(i))}function r6(i,{min:e,max:t}){e=oi(i.min,e);const n=[],r=ld(e);let s=i6(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),h=r>s?Math.pow(10,r):0,d=Math.round((e-h)*o)/o,p=Math.floor((e-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,s)),v=oi(i.min,Math.round((h+p+y*Math.pow(10,s))*o)/o);for(;v<t;)n.push({value:v,major:xA(v),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(s++,y=2,o=s>=0?1:o),v=Math.round((h+p+y*Math.pow(10,s))*o)/o;const b=oi(i.max,v);return n.push({value:b,major:xA(b),significand:y}),n}class mb extends _l{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Om.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Nt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?Math.max(0,e):null,this.max=Nt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Nt(this._userMin)&&(this.min=e===zo(this.min,0)?zo(this.min,-1):zo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=c=>n=e?n:c,o=c=>r=t?r:c;n===r&&(n<=0?(s(1),o(10)):(s(zo(n,-1)),o(zo(r,1)))),n<=0&&s(zo(r,-1)),r<=0&&o(zo(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=r6(t,this);return e.bounds==="ticks"&&jM(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Cd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ma(e),this._valueRange=Ma(this.max)-Ma(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ma(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ee(mb,"id","logarithmic"),ee(mb,"defaults",{ticks:{callback:bg.formatters.logarithmic,major:{enabled:!0}}});function gb(i){const e=i.ticks;if(e.display&&i.display){const t=Pn(e.backdropPadding);return Pe(e.font&&e.font.size,Et.font.size)+t.height}return 0}function s6(i,e,t){return t=wt(t)?t:[t],{w:dH(i,e.string,t),h:t.length*e.lineHeight}}function AA(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function a6(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,c=o.centerPointLabels?bt/s:0;for(let h=0;h<s;h++){const d=o.setContext(i.getPointLabelContext(h));r[h]=d.padding;const p=i.getPointPosition(h,i.drawingArea+r[h],c),y=nn(d.font),v=s6(i.ctx,y,i._pointLabels[h]);n[h]=v;const b=li(i.getIndexAngle(h)+c),E=Math.round(F0(b)),S=AA(E,p.x,v.w,0,180),x=AA(E,p.y,v.h,90,270);o6(t,e,b,S,x)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=u6(i,n,r)}function o6(i,e,t,n,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let c=0,h=0;n.start<e.l?(c=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-c)):n.end>e.r&&(c=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+c)),r.start<e.t?(h=(e.t-r.start)/o,i.t=Math.min(i.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/o,i.b=Math.max(i.b,e.b+h))}function l6(i,e,t){const n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:c}=t,h=i.getPointPosition(e,n+r+o,s),d=Math.round(F0(li(h.angle+Ut))),p=f6(h.y,c.h,d),y=h6(d),v=d6(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:v,top:p,right:v+c.w,bottom:p+c.h}}function c6(i,e){if(!e)return!0;const{left:t,top:n,right:r,bottom:s}=i;return!(Es({x:t,y:n},e)||Es({x:t,y:s},e)||Es({x:r,y:n},e)||Es({x:r,y:s},e))}function u6(i,e,t){const n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:c}=s.pointLabels,h={extra:gb(s)/2,additionalAngle:o?bt/r:0};let d;for(let p=0;p<r;p++){h.padding=t[p],h.size=e[p];const y=l6(i,p,h);n.push(y),c==="auto"&&(y.visible=c6(y,d),y.visible&&(d=y))}return n}function h6(i){return i===0||i===180?"center":i<180?"left":"right"}function d6(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function f6(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function p6(i,e,t){const{left:n,top:r,right:s,bottom:o}=t,{backdropColor:c}=e;if(!Ue(c)){const h=Jo(e.borderRadius),d=Pn(e.backdropPadding);i.fillStyle=c;const p=n-d.left,y=r-d.top,v=s-n+d.width,b=o-r+d.height;Object.values(h).some(E=>E!==0)?(i.beginPath(),ad(i,{x:p,y,w:v,h:b,radius:h}),i.fill()):i.fillRect(p,y,v,b)}}function m6(i,e){const{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){const s=i._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(i.getPointLabelContext(r));p6(t,o,s);const c=nn(o.font),{x:h,y:d,textAlign:p}=s;hl(t,i._pointLabels[r],h,d+c.lineHeight/2,c,{color:o.color,textAlign:p,textBaseline:"middle"})}}function Rk(i,e,t,n){const{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,_t);else{let s=i.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function g6(i,e,t,n,r){const s=i.ctx,o=e.circular,{color:c,lineWidth:h}=e;!o&&!n||!c||!h||t<0||(s.save(),s.strokeStyle=c,s.lineWidth=h,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Rk(i,t,o,n),s.closePath(),s.stroke(),s.restore())}function y6(i,e,t){return so(i,{label:t,index:e,type:"pointLabel"})}class kh extends Om{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pn(gb(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Nt(e)&&!isNaN(e)?e:0,this.max=Nt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gb(this.options))}generateTickLabels(e){Om.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const r=mt(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?a6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=_t/(this._pointLabels.length||1),n=this.options.startAngle||0;return li(e*t+Yi(n))}getDistanceFromCenterForValue(e){if(Ue(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ue(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return y6(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-Ut+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Rk(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length;let c,h,d;if(t.pointLabels.display&&m6(this,o),r.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(y),b=r.setContext(v),E=s.setContext(v);g6(this,b,h,o,E)}}),n.display){for(e.save(),c=o-1;c>=0;c--){const p=n.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:v}=p;!v||!y||(e.lineWidth=v,e.strokeStyle=y,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(c,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!t.reverse)return;const d=n.setContext(this.getContext(h)),p=nn(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){e.font=p.string,o=e.measureText(c.label).width,e.fillStyle=d.backdropColor;const y=Pn(d.backdropPadding);e.fillRect(-o/2-y.left,-s-p.size/2-y.top,o+y.width,p.size+y.height)}hl(e,c.label,0,-s,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}ee(kh,"id","radialLinear"),ee(kh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ee(kh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ee(kh,"descriptors",{angleLines:{_fallback:"grid"}});const Dg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(Dg);function CA(i,e){return i-e}function RA(i,e){if(Ue(e))return null;const t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Nt(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Nc(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function MA(i,e,t,n){const r=Xn.length;for(let s=Xn.indexOf(i);s<r-1;++s){const o=Dg[Xn[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=n)return Xn[s]}return Xn[r-1]}function v6(i,e,t,n,r){for(let s=Xn.length-1;s>=Xn.indexOf(t);s--){const o=Xn[s];if(Dg[o].common&&i._adapter.diff(r,n,o)>=e-1)return o}return Xn[t?Xn.indexOf(t):0]}function _6(i){for(let e=Xn.indexOf(i)+1,t=Xn.length;e<t;++e)if(Dg[Xn[e]].common)return Xn[e]}function kA(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:r}=j0(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function b6(i,e,t,n){const r=i._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value;let c,h;for(c=s;c<=o;c=+r.add(c,1,n))h=t[c],h>=0&&(e[h].major=!0);return e}function IA(i,e,t){const n=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,n.push({value:c,major:!1});return s===0||!t?n:b6(i,n,r,t)}class cd extends _l{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),r=this._adapter=new C5._date(e.adapters.date);r.init(t),Uh(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:RA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function h(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Nt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Nt(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=Jz(r,s,o);return this._unit=t.unit||(n.autoSkip?MA(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):v6(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:_6(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),IA(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=pn(t,0,o),n=pn(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,o=s.unit||MA(s.minUnit,t,n,this._getLabelCapacity(t)),c=Pe(r.ticks.stepSize,1),h=o==="week"?s.isoWeekday:!1,d=Nc(h)||h===!0,p={};let y=t,v,b;if(d&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,d?"day":o),e.diff(n,t,o)>1e5*c)throw new Error(t+" and "+n+" are too far apart with stepSize of "+c+" "+o);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<n;v=+e.add(v,c,o),b++)kA(p,v,E);return(v===n||r.bounds==="ticks"||b===1)&&kA(p,v,E),Object.keys(p).sort(CA).map(S=>+S)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,r){const s=this.options,o=s.ticks.callback;if(o)return mt(o,[e,t,n],this);const c=s.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],v=n[t],b=d&&y&&v&&v.major;return this._adapter.format(e,r||(b?y:p))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Yi(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:n*s+c*o,h:n*o+c*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,IA(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,n=r.length;t<n;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(RA(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zM(e.sort(CA))}}ee(cd,"id","time"),ee(cd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ep(i,e,t){let n=0,r=i.length-1,s,o,c,h;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=ws(i,"pos",e)),{pos:s,time:c}=i[n],{pos:o,time:h}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=ws(i,"time",e)),{time:s,pos:c}=i[n],{time:o,pos:h}=i[r]);const d=o-s;return d?c+(h-c)*(e-s)/d:c}class yb extends cd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ep(t,this.min),this._tableRange=Ep(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let o,c,h,d,p;for(o=0,c=e.length;o<c;++o)d=e[o],d>=t&&d<=n&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],h=r[o-1],d=r[o],Math.round((p+h)/2)!==d&&s.push({time:d,pos:o/(c-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Ep(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Ep(this._table,n*this._tableRange+this._minPos,!0)}}ee(yb,"id","timeseries"),ee(yb,"defaults",cd.defaults);var w6=Object.freeze({__proto__:null,CategoryScale:fb,LinearScale:pb,LogarithmicScale:mb,RadialLinearScale:kh,TimeScale:cd,TimeSeriesScale:yb});const E6=[A5,i9,Z9,w6],Mk="label";function OA(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function T6(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function kk(i,e){i.labels=e}function Ik(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mk;const n=[];i.datasets=e.map(r=>{const s=i.datasets.find(o=>o[t]===r[t]);return!s||!r.data||n.includes(s)?{...r}:(n.push(s),Object.assign(s,r),s)})}function S6(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mk;const t={labels:[],datasets:[]};return kk(t,i.labels),Ik(t,i.datasets,e),t}function x6(i,e){const{height:t=150,width:n=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:h,plugins:d=[],fallbackContent:p,updateMode:y,...v}=i,b=F.useRef(null),E=F.useRef(null),S=()=>{b.current&&(E.current=new xg(b.current,{type:o,data:S6(c,s),options:h&&{...h},plugins:d}),OA(e,E.current))},x=()=>{OA(e,null),E.current&&(E.current.destroy(),E.current=null)};return F.useEffect(()=>{!r&&E.current&&h&&T6(E.current,h)},[r,h]),F.useEffect(()=>{!r&&E.current&&kk(E.current.config.data,c.labels)},[r,c.labels]),F.useEffect(()=>{!r&&E.current&&c.datasets&&Ik(E.current.config.data,c.datasets,s)},[r,c.datasets]),F.useEffect(()=>{E.current&&(r?(x(),setTimeout(S)):E.current.update(y))},[r,h,c.labels,c.datasets,y]),F.useEffect(()=>{E.current&&(x(),setTimeout(S))},[o]),F.useEffect(()=>(S(),()=>x()),[]),ae.createElement("canvas",{ref:b,role:"img",height:t,width:n,...v},p)}const D6=F.forwardRef(x6);function A6(i,e){return xg.register(e),F.forwardRef((t,n)=>ae.createElement(D6,{...t,ref:n,type:i}))}const C6=A6("bar",Yh);function Ok(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=Ok(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function Tn(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=Ok(i))&&(n&&(n+=" "),n+=e);return n}const Pk=6048e5,R6=864e5,Ag=6e4,Cg=36e5,M6=1e3,PA=Symbol.for("constructDateFrom");function ct(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&PA in i?i[PA](e):i instanceof Date?new i.constructor(e):new Date(e)}function Ee(i,e){return ct(e||i,i)}function $i(i,e,t){const n=Ee(i,t==null?void 0:t.in);return isNaN(e)?ct((t==null?void 0:t.in)||i,NaN):(e&&n.setDate(n.getDate()+e),n)}function Xi(i,e,t){const n=Ee(i,t==null?void 0:t.in);if(isNaN(e))return ct(i,NaN);if(!e)return n;const r=n.getDate(),s=ct(i,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function Nk(i,e,t){return ct(i,+Ee(i)+e)}function k6(i,e,t){return Nk(i,e*Cg)}let I6={};function bl(){return I6}function Ns(i,e){var c,h,d,p;const t=bl(),n=(e==null?void 0:e.weekStartsOn)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??t.weekStartsOn??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,r=Ee(i,e==null?void 0:e.in),s=r.getDay(),o=(s<n?7:0)+s-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Fc(i,e){return Ns(i,{...e,weekStartsOn:1})}function Lk(i,e){const t=Ee(i,e==null?void 0:e.in),n=t.getFullYear(),r=ct(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Fc(r),o=ct(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Fc(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function Pm(i){const e=Ee(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Fs(i,...e){const t=ct.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function dl(i,e){const t=Ee(i,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function jc(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e),s=dl(n),o=dl(r),c=+s-Pm(s),h=+o-Pm(o);return Math.round((c-h)/R6)}function O6(i,e){const t=Lk(i,e),n=ct(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Fc(n)}function vb(i,e,t){const n=Ee(i,t==null?void 0:t.in);return n.setTime(n.getTime()+e*Ag),n}function X0(i,e,t){return Xi(i,e*3,t)}function P6(i,e,t){return Nk(i,e*1e3)}function Nm(i,e,t){return $i(i,e*7,t)}function xs(i,e,t){return Xi(i,e*12,t)}function NA(i,e){let t,n=e==null?void 0:e.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=ct.bind(null,r));const s=Ee(r,n);(!t||t<s||isNaN(+s))&&(t=s)}),ct(n,t||NaN)}function LA(i,e){let t,n=e==null?void 0:e.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=ct.bind(null,r));const s=Ee(r,n);(!t||t>s||isNaN(+s))&&(t=s)}),ct(n,t||NaN)}function N6(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e);return+dl(n)==+dl(r)}function Ds(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Lm(i){return!(!Ds(i)&&typeof i!="number"||isNaN(+Ee(i)))}function Vm(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function tl(i,e){const t=Ee(i,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Fm(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e),s=n.getFullYear()-r.getFullYear(),o=tl(n)-tl(r);return s*4+o}function jm(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e);return n.getFullYear()-r.getFullYear()}function L6(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e),s=VA(n,r),o=Math.abs(jc(n,r));n.setDate(n.getDate()-s*o);const c=+(VA(n,r)===-s),h=s*(o-c);return h===0?0:h}function VA(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Vk(i,e){const t=Ee(i,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function Fk(i,e){const t=Ee(i,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function _b(i,e){const t=Ee(i,e==null?void 0:e.in),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function jk(i,e){const t=Ee(i,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Uk(i,e){const t=Ee(i,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Rg(i,e){const t=Ee(i,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function V6(i,e){var c,h;const t=bl(),n=t.weekStartsOn??((h=(c=t.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,r=Ee(i,e==null?void 0:e.in),s=r.getDay(),o=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const F6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j6=(i,e,t)=>{let n;const r=F6[i];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function y_(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const U6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},B6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},H6={date:y_({formats:U6,defaultWidth:"full"}),time:y_({formats:B6,defaultWidth:"full"}),dateTime:y_({formats:z6,defaultWidth:"full"})},Y6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q6=(i,e,t,n)=>Y6[i];function gh(i){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let r;if(n==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,c=t!=null&&t.width?String(t.width):o;r=i.formattingValues[c]||i.formattingValues[o]}else{const o=i.defaultWidth,c=t!=null&&t.width?String(t.width):i.defaultWidth;r=i.values[c]||i.values[o]}const s=i.argumentCallback?i.argumentCallback(e):e;return r[s]}}const W6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},G6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},K6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Q6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},X6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z6=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},J6={ordinalNumber:Z6,era:gh({values:W6,defaultWidth:"wide"}),quarter:gh({values:$6,defaultWidth:"wide",argumentCallback:i=>i-1}),month:gh({values:G6,defaultWidth:"wide"}),day:gh({values:K6,defaultWidth:"wide"}),dayPeriod:gh({values:Q6,defaultWidth:"wide",formattingValues:X6,defaultFormattingWidth:"wide"})};function yh(i){return(e,t={})=>{const n=t.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],c=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],h=Array.isArray(c)?tY(c,y=>y.test(o)):eY(c,y=>y.test(o));let d;d=i.valueCallback?i.valueCallback(h):h,d=t.valueCallback?t.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function eY(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function tY(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function nY(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const r=n[0],s=e.match(i.parsePattern);if(!s)return null;let o=i.valueCallback?i.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const c=e.slice(r.length);return{value:o,rest:c}}}const iY=/^(\d+)(th|st|nd|rd)?/i,rY=/\d+/i,sY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aY={any:[/^b/i,/^(a|c)/i]},oY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lY={any:[/1/i,/2/i,/3/i,/4/i]},cY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mY={ordinalNumber:nY({matchPattern:iY,parsePattern:rY,valueCallback:i=>parseInt(i,10)}),era:yh({matchPatterns:sY,defaultMatchWidth:"wide",parsePatterns:aY,defaultParseWidth:"any"}),quarter:yh({matchPatterns:oY,defaultMatchWidth:"wide",parsePatterns:lY,defaultParseWidth:"any",valueCallback:i=>i+1}),month:yh({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any"}),day:yh({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),dayPeriod:yh({matchPatterns:fY,defaultMatchWidth:"any",parsePatterns:pY,defaultParseWidth:"any"})},Bk={code:"en-US",formatDistance:j6,formatLong:H6,formatRelative:q6,localize:J6,match:mY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gY(i,e){const t=Ee(i,e==null?void 0:e.in);return jc(t,Rg(t))+1}function Z0(i,e){const t=Ee(i,e==null?void 0:e.in),n=+Fc(t)-+O6(t);return Math.round(n/Pk)+1}function J0(i,e){var p,y,v,b;const t=Ee(i,e==null?void 0:e.in),n=t.getFullYear(),r=bl(),s=(e==null?void 0:e.firstWeekContainsDate)??((y=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,o=ct((e==null?void 0:e.in)||i,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=Ns(o,e),h=ct((e==null?void 0:e.in)||i,0);h.setFullYear(n,0,s),h.setHours(0,0,0,0);const d=Ns(h,e);return+t>=+c?n+1:+t>=+d?n:n-1}function yY(i,e){var c,h,d,p;const t=bl(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(d=t.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,r=J0(i,e),s=ct((e==null?void 0:e.in)||i,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),Ns(s,e)}function zk(i,e){const t=Ee(i,e==null?void 0:e.in),n=+Ns(t,e)-+yY(t,e);return Math.round(n/Pk)+1}function ot(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const Ta={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return ot(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):ot(t+1,2)},d(i,e){return ot(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return ot(i.getHours()%12||12,e.length)},H(i,e){return ot(i.getHours(),e.length)},m(i,e){return ot(i.getMinutes(),e.length)},s(i,e){return ot(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),r=Math.trunc(n*Math.pow(10,t-3));return ot(r,e.length)}},fc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FA={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),r=n>0?n:1-n;return t.ordinalNumber(r,{unit:"year"})}return Ta.y(i,e)},Y:function(i,e,t,n){const r=J0(i,n),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return ot(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):ot(s,e.length)},R:function(i,e){const t=Lk(i);return ot(t,e.length)},u:function(i,e){const t=i.getFullYear();return ot(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ot(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ot(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return Ta.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return ot(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const r=zk(i,n);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):ot(r,e.length)},I:function(i,e,t){const n=Z0(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ot(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):Ta.d(i,e)},D:function(i,e,t){const n=gY(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ot(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ot(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ot(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return ot(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const r=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let r;switch(n===12?r=fc.noon:n===0?r=fc.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let r;switch(n>=17?r=fc.evening:n>=12?r=fc.afternoon:n>=4?r=fc.morning:r=fc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Ta.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):Ta.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ot(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ot(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):Ta.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):Ta.s(i,e)},S:function(i,e){return Ta.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return UA(n);case"XXXX":case"XX":return Wo(n);case"XXXXX":case"XXX":default:return Wo(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return UA(n);case"xxxx":case"xx":return Wo(n);case"xxxxx":case"xxx":default:return Wo(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jA(n,":");case"OOOO":default:return"GMT"+Wo(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jA(n,":");case"zzzz":default:return"GMT"+Wo(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return ot(n,e.length)},T:function(i,e,t){return ot(+i,e.length)}};function jA(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=Math.trunc(n/60),s=n%60;return s===0?t+String(r):t+String(r)+e+ot(s,2)}function UA(i,e){return i%60===0?(i>0?"-":"+")+ot(Math.abs(i)/60,2):Wo(i,e)}function Wo(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=ot(Math.trunc(n/60),2),s=ot(n%60,2);return t+r+e+s}const BA=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hk=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vY=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],r=t[2];if(!r)return BA(i,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BA(n,e)).replace("{{time}}",Hk(r,e))},bb={p:Hk,P:vY},_Y=/^D+$/,bY=/^Y+$/,wY=["D","DD","YY","YYYY"];function EY(i){return _Y.test(i)}function TY(i){return bY.test(i)}function SY(i,e,t){const n=xY(i,e,t);if(console.warn(n),wY.includes(i))throw new RangeError(n)}function xY(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const DY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CY=/^'([^]*?)'?$/,RY=/''/g,MY=/[a-zA-Z]/;function zA(i,e,t){var p,y,v,b,E,S,x,M;const n=bl(),r=(t==null?void 0:t.locale)??n.locale??Bk,s=(t==null?void 0:t.firstWeekContainsDate)??((y=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,o=(t==null?void 0:t.weekStartsOn)??((S=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((M=(x=n.locale)==null?void 0:x.options)==null?void 0:M.weekStartsOn)??0,c=Ee(i,t==null?void 0:t.in);if(!Lm(c))throw new RangeError("Invalid time value");let h=e.match(AY).map(L=>{const j=L[0];if(j==="p"||j==="P"){const W=bb[j];return W(L,r.formatLong)}return L}).join("").match(DY).map(L=>{if(L==="''")return{isToken:!1,value:"'"};const j=L[0];if(j==="'")return{isToken:!1,value:kY(L)};if(FA[j])return{isToken:!0,value:L};if(j.match(MY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:L}});r.localize.preprocessor&&(h=r.localize.preprocessor(c,h));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return h.map(L=>{if(!L.isToken)return L.value;const j=L.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&TY(j)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&EY(j))&&SY(j,e,String(i));const W=FA[j[0]];return W(c,j,r.localize,d)}).join("")}function kY(i){const e=i.match(CY);return e?e[1].replace(RY,"'"):i}function HA(i,e){return Ee(i,e==null?void 0:e.in).getDate()}function IY(i,e){return Ee(i,e==null?void 0:e.in).getDay()}function OY(i,e){const t=Ee(i,e==null?void 0:e.in),n=t.getFullYear(),r=t.getMonth(),s=ct(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function PY(){return Object.assign({},bl())}function As(i,e){return Ee(i,e==null?void 0:e.in).getHours()}function NY(i,e){const t=Ee(i,e==null?void 0:e.in).getDay();return t===0?7:t}function Cs(i,e){return Ee(i,e==null?void 0:e.in).getMinutes()}function zn(i,e){return Ee(i,e==null?void 0:e.in).getMonth()}function ja(i){return Ee(i).getSeconds()}function wb(i){return+Ee(i)}function Fe(i,e){return Ee(i,e==null?void 0:e.in).getFullYear()}function Za(i,e){return+Ee(i)>+Ee(e)}function fl(i,e){return+Ee(i)<+Ee(e)}function LY(i,e){return+Ee(i)==+Ee(e)}function VY(i,e){const t=FY(e)?new e(0):ct(e,0);return t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),t.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t}function FY(i){var e;return typeof i=="function"&&((e=i.prototype)==null?void 0:e.constructor)===i}const jY=10;class Yk{constructor(){ee(this,"subPriority",0)}validate(e,t){return!0}}class UY extends Yk{constructor(e,t,n,r,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class BY extends Yk{constructor(t,n){super();ee(this,"priority",jY);ee(this,"subPriority",-1);this.context=t||(r=>ct(n,r))}set(t,n){return n.timestampIsSet?t:ct(t,VY(t,this.context))}}class nt{run(e,t,n,r){const s=this.parse(e,t,n,r);return s?{setter:new UY(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class zY extends nt{constructor(){super(...arguments);ee(this,"priority",140);ee(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}}set(t,n,r){return n.era=r,t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}const Bt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Er={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zt(i,e){return i&&{value:e(i.value),rest:i.rest}}function Ct(i,e){const t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Tr(i,e){const t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(r*Cg+s*Ag+o*M6),rest:e.slice(t[0].length)}}function qk(i){return Ct(Bt.anyDigitsSigned,i)}function Lt(i,e){switch(i){case 1:return Ct(Bt.singleDigit,e);case 2:return Ct(Bt.twoDigits,e);case 3:return Ct(Bt.threeDigits,e);case 4:return Ct(Bt.fourDigits,e);default:return Ct(new RegExp("^\\d{1,"+i+"}"),e)}}function Um(i,e){switch(i){case 1:return Ct(Bt.singleDigitSigned,e);case 2:return Ct(Bt.twoDigitsSigned,e);case 3:return Ct(Bt.threeDigitsSigned,e);case 4:return Ct(Bt.fourDigitsSigned,e);default:return Ct(new RegExp("^-?\\d{1,"+i+"}"),e)}}function ew(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Wk(i,e){const t=e>0,n=t?e:1-e;let r;if(n<=50)r=i||100;else{const s=n+50,o=Math.trunc(s/100)*100,c=i>=s%100;r=i+o-(c?100:0)}return t?r:1-r}function $k(i){return i%400===0||i%4===0&&i%100!==0}class HY extends nt{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,r){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return zt(Lt(4,t),s);case"yo":return zt(r.ordinalNumber(t,{unit:"year"}),s);default:return zt(Lt(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r){const s=t.getFullYear();if(r.isTwoDigitYear){const c=Wk(r.year,s);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const o=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class YY extends nt{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,r){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return zt(Lt(4,t),s);case"Yo":return zt(r.ordinalNumber(t,{unit:"year"}),s);default:return zt(Lt(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,r,s){const o=J0(t,s);if(r.isTwoDigitYear){const h=Wk(r.year,o);return t.setFullYear(h,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ns(t,s)}const c=!("era"in n)||n.era===1?r.year:1-r.year;return t.setFullYear(c,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Ns(t,s)}}class qY extends nt{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Um(n==="R"?4:n.length,t)}set(t,n,r){const s=ct(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Fc(s)}}class WY extends nt{constructor(){super(...arguments);ee(this,"priority",130);ee(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Um(n==="u"?4:n.length,t)}set(t,n,r){return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t}}class $Y extends nt{constructor(){super(...arguments);ee(this,"priority",120);ee(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"Q":case"QQ":return Lt(n.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class GY extends nt{constructor(){super(...arguments);ee(this,"priority",120);ee(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"q":case"qq":return Lt(n.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,r){return t.setMonth((r-1)*3,1),t.setHours(0,0,0,0),t}}class KY extends nt{constructor(){super(...arguments);ee(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ee(this,"priority",110)}parse(t,n,r){const s=o=>o-1;switch(n){case"M":return zt(Ct(Bt.month,t),s);case"MM":return zt(Lt(2,t),s);case"Mo":return zt(r.ordinalNumber(t,{unit:"month"}),s);case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}class QY extends nt{constructor(){super(...arguments);ee(this,"priority",110);ee(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,r){const s=o=>o-1;switch(n){case"L":return zt(Ct(Bt.month,t),s);case"LL":return zt(Lt(2,t),s);case"Lo":return zt(r.ordinalNumber(t,{unit:"month"}),s);case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.setMonth(r,1),t.setHours(0,0,0,0),t}}function XY(i,e,t){const n=Ee(i,t==null?void 0:t.in),r=zk(n,t)-e;return n.setDate(n.getDate()-r*7),Ee(n,t==null?void 0:t.in)}class ZY extends nt{constructor(){super(...arguments);ee(this,"priority",100);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,r){switch(n){case"w":return Ct(Bt.week,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return Lt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r,s){return Ns(XY(t,r,s),s)}}function JY(i,e,t){const n=Ee(i,t==null?void 0:t.in),r=Z0(n,t)-e;return n.setDate(n.getDate()-r*7),n}class eq extends nt{constructor(){super(...arguments);ee(this,"priority",100);ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,r){switch(n){case"I":return Ct(Bt.week,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return Lt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,r){return Fc(JY(t,r))}}const tq=[31,28,31,30,31,30,31,31,30,31,30,31],nq=[31,29,31,30,31,30,31,31,30,31,30,31];class iq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"subPriority",1);ee(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"d":return Ct(Bt.date,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return Lt(n.length,t)}}validate(t,n){const r=t.getFullYear(),s=$k(r),o=t.getMonth();return s?n>=1&&n<=nq[o]:n>=1&&n<=tq[o]}set(t,n,r){return t.setDate(r),t.setHours(0,0,0,0),t}}class rq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"subpriority",1);ee(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,r){switch(n){case"D":case"DD":return Ct(Bt.dayOfYear,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return Lt(n.length,t)}}validate(t,n){const r=t.getFullYear();return $k(r)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,r){return t.setMonth(0,r),t.setHours(0,0,0,0),t}}function tw(i,e,t){var y,v,b,E;const n=bl(),r=(t==null?void 0:t.weekStartsOn)??((v=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((E=(b=n.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,s=Ee(i,t==null?void 0:t.in),o=s.getDay(),h=(e%7+7)%7,d=7-r,p=e<0||e>6?e-(o+d)%7:(h+d)%7-(o+d)%7;return $i(s,p,t)}class sq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=tw(t,r,s),t.setHours(0,0,0,0),t}}class aq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,r,s){const o=c=>{const h=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+h};switch(n){case"e":case"ee":return zt(Lt(n.length,t),o);case"eo":return zt(r.ordinalNumber(t,{unit:"day"}),o);case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=tw(t,r,s),t.setHours(0,0,0,0),t}}class oq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,r,s){const o=c=>{const h=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+h};switch(n){case"c":case"cc":return zt(Lt(n.length,t),o);case"co":return zt(r.ordinalNumber(t,{unit:"day"}),o);case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,r,s){return t=tw(t,r,s),t.setHours(0,0,0,0),t}}function lq(i,e,t){const n=Ee(i,t==null?void 0:t.in),r=NY(n,t),s=e-r;return $i(n,s,t)}class cq extends nt{constructor(){super(...arguments);ee(this,"priority",90);ee(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,r){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return Lt(n.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return zt(r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return zt(r.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return zt(r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return zt(r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,n){return n>=1&&n<=7}set(t,n,r){return t=lq(t,r),t.setHours(0,0,0,0),t}}class uq extends nt{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ew(r),0,0,0),t}}class hq extends nt{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ew(r),0,0,0),t}}class dq extends nt{constructor(){super(...arguments);ee(this,"priority",80);ee(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,r){return t.setHours(ew(r),0,0,0),t}}class fq extends nt{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,r){switch(n){case"h":return Ct(Bt.hour12h,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return Lt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,r){const s=t.getHours()>=12;return s&&r<12?t.setHours(r+12,0,0,0):!s&&r===12?t.setHours(0,0,0,0):t.setHours(r,0,0,0),t}}class pq extends nt{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,r){switch(n){case"H":return Ct(Bt.hour23h,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return Lt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,r){return t.setHours(r,0,0,0),t}}class mq extends nt{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,r){switch(n){case"K":return Ct(Bt.hour11h,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return Lt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,r){return t.getHours()>=12&&r<12?t.setHours(r+12,0,0,0):t.setHours(r,0,0,0),t}}class gq extends nt{constructor(){super(...arguments);ee(this,"priority",70);ee(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,r){switch(n){case"k":return Ct(Bt.hour24h,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return Lt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,r){const s=r<=24?r%24:r;return t.setHours(s,0,0,0),t}}class yq extends nt{constructor(){super(...arguments);ee(this,"priority",60);ee(this,"incompatibleTokens",["t","T"])}parse(t,n,r){switch(n){case"m":return Ct(Bt.minute,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return Lt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setMinutes(r,0,0),t}}class vq extends nt{constructor(){super(...arguments);ee(this,"priority",50);ee(this,"incompatibleTokens",["t","T"])}parse(t,n,r){switch(n){case"s":return Ct(Bt.second,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return Lt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,r){return t.setSeconds(r,0),t}}class _q extends nt{constructor(){super(...arguments);ee(this,"priority",30);ee(this,"incompatibleTokens",["t","T"])}parse(t,n){const r=s=>Math.trunc(s*Math.pow(10,-n.length+3));return zt(Lt(n.length,t),r)}set(t,n,r){return t.setMilliseconds(r),t}}class bq extends nt{constructor(){super(...arguments);ee(this,"priority",10);ee(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Tr(Er.basicOptionalMinutes,t);case"XX":return Tr(Er.basic,t);case"XXXX":return Tr(Er.basicOptionalSeconds,t);case"XXXXX":return Tr(Er.extendedOptionalSeconds,t);case"XXX":default:return Tr(Er.extended,t)}}set(t,n,r){return n.timestampIsSet?t:ct(t,t.getTime()-Pm(t)-r)}}class wq extends nt{constructor(){super(...arguments);ee(this,"priority",10);ee(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Tr(Er.basicOptionalMinutes,t);case"xx":return Tr(Er.basic,t);case"xxxx":return Tr(Er.basicOptionalSeconds,t);case"xxxxx":return Tr(Er.extendedOptionalSeconds,t);case"xxx":default:return Tr(Er.extended,t)}}set(t,n,r){return n.timestampIsSet?t:ct(t,t.getTime()-Pm(t)-r)}}class Eq extends nt{constructor(){super(...arguments);ee(this,"priority",40);ee(this,"incompatibleTokens","*")}parse(t){return qk(t)}set(t,n,r){return[ct(t,r*1e3),{timestampIsSet:!0}]}}class Tq extends nt{constructor(){super(...arguments);ee(this,"priority",20);ee(this,"incompatibleTokens","*")}parse(t){return qk(t)}set(t,n,r){return[ct(t,r),{timestampIsSet:!0}]}}const Sq={G:new zY,y:new HY,Y:new YY,R:new qY,u:new WY,Q:new $Y,q:new GY,M:new KY,L:new QY,w:new ZY,I:new eq,d:new iq,D:new rq,E:new sq,e:new aq,c:new oq,i:new cq,a:new uq,b:new hq,B:new dq,h:new fq,H:new pq,K:new mq,k:new gq,m:new yq,s:new vq,S:new _q,X:new bq,x:new wq,t:new Eq,T:new Tq},xq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Aq=/^'([^]*?)'?$/,Cq=/''/g,Rq=/\S/,Mq=/[a-zA-Z]/;function kq(i,e,t,n){var x,M,L,j,W,H,Q,O;const r=()=>ct((n==null?void 0:n.in)||t,NaN),s=PY(),o=(n==null?void 0:n.locale)??s.locale??Bk,c=(n==null?void 0:n.firstWeekContainsDate)??((M=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:M.firstWeekContainsDate)??s.firstWeekContainsDate??((j=(L=s.locale)==null?void 0:L.options)==null?void 0:j.firstWeekContainsDate)??1,h=(n==null?void 0:n.weekStartsOn)??((H=(W=n==null?void 0:n.locale)==null?void 0:W.options)==null?void 0:H.weekStartsOn)??s.weekStartsOn??((O=(Q=s.locale)==null?void 0:Q.options)==null?void 0:O.weekStartsOn)??0;if(!e)return i?r():Ee(t,n==null?void 0:n.in);const d={firstWeekContainsDate:c,weekStartsOn:h,locale:o},p=[new BY(n==null?void 0:n.in,t)],y=e.match(Dq).map(C=>{const A=C[0];if(A in bb){const k=bb[A];return k(C,o.formatLong)}return C}).join("").match(xq),v=[];for(let C of y){const A=C[0],k=Sq[A];if(k){const{incompatibleTokens:V}=k;if(Array.isArray(V)){const N=v.find(de=>V.includes(de.token)||de.token===A);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${C}\` at the same time`)}else if(k.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);v.push({token:A,fullToken:C});const U=k.run(i,C,o.match,d);if(!U)return r();p.push(U.setter),i=U.rest}else{if(A.match(Mq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");if(C==="''"?C="'":A==="'"&&(C=Iq(C)),i.indexOf(C)===0)i=i.slice(C.length);else return r()}}if(i.length>0&&Rq.test(i))return r();const b=p.map(C=>C.priority).sort((C,A)=>A-C).filter((C,A,k)=>k.indexOf(C)===A).map(C=>p.filter(A=>A.priority===C).sort((A,k)=>k.subPriority-A.subPriority)).map(C=>C[0]);let E=Ee(t,n==null?void 0:n.in);if(isNaN(+E))return r();const S={};for(const C of b){if(!C.validate(E,d))return r();const A=C.set(E,S,d);Array.isArray(A)?(E=A[0],Object.assign(S,A[1])):E=A}return E}function Iq(i){return i.match(Aq)[1].replace(Cq,"'")}function Oq(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Pq(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e);return+_b(n)==+_b(r)}function Nq(i,e,t){const[n,r]=Fs(t==null?void 0:t.in,i,e);return n.getFullYear()===r.getFullYear()}function ud(i,e,t){const n=+Ee(i,t==null?void 0:t.in),[r,s]=[+Ee(e.start,t==null?void 0:t.in),+Ee(e.end,t==null?void 0:t.in)].sort((o,c)=>o-c);return n>=r&&n<=s}function Lq(i,e,t){return $i(i,-1,t)}function Vq(i,e){const t=()=>ct(e==null?void 0:e.in,NaN),r=Bq(i);let s;if(r.date){const d=zq(r.date,2);s=Hq(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const o=+s;let c=0,h;if(r.time&&(c=Yq(r.time),isNaN(c)))return t();if(r.timezone){if(h=qq(r.timezone),isNaN(h))return t()}else{const d=new Date(o+c),p=Ee(0,e==null?void 0:e.in);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return Ee(o+c+h,e==null?void 0:e.in)}const Tp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fq=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jq=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Bq(i){const e={},t=i.split(Tp.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Tp.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Tp.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){const r=Tp.timezone.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function zq(i,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(t);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?r:s*100,restDateString:i.slice((n[1]||n[2]).length)}}function Hq(i,e){if(e===null)return new Date(NaN);const t=i.match(Fq);if(!t)return new Date(NaN);const n=!!t[4],r=vh(t[1]),s=vh(t[2])-1,o=vh(t[3]),c=vh(t[4]),h=vh(t[5])-1;if(n)return Qq(e,c,h)?Wq(e,c,h):new Date(NaN);{const d=new Date(0);return!Gq(e,s,o)||!Kq(e,r)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(r,o)),d)}}function vh(i){return i?parseInt(i):1}function Yq(i){const e=i.match(jq);if(!e)return NaN;const t=v_(e[1]),n=v_(e[2]),r=v_(e[3]);return Xq(t,n,r)?t*Cg+n*Ag+r*1e3:NaN}function v_(i){return i&&parseFloat(i.replace(",","."))||0}function qq(i){if(i==="Z")return 0;const e=i.match(Uq);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return Zq(n,r)?t*(n*Cg+r*Ag):NaN}function Wq(i,e,t){const n=new Date(0);n.setUTCFullYear(i,0,4);const r=n.getUTCDay()||7,s=(e-1)*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}const $q=[31,null,31,30,31,30,31,31,30,31,30,31];function Gk(i){return i%400===0||i%4===0&&i%100!==0}function Gq(i,e,t){return e>=0&&e<=11&&t>=1&&t<=($q[e]||(Gk(i)?29:28))}function Kq(i,e){return e>=1&&e<=(Gk(i)?366:365)}function Qq(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function Xq(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function Zq(i,e){return e>=0&&e<=59}function Ii(i,e,t){const n=Ee(i,t==null?void 0:t.in),r=n.getFullYear(),s=n.getDate(),o=ct(i,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const c=OY(o);return n.setMonth(e,Math.min(s,c)),n}function Xp(i,e,t){const n=Ee(i,t==null?void 0:t.in);return n.setHours(e),n}function Zp(i,e,t){const n=Ee(i,t==null?void 0:t.in);return n.setMinutes(e),n}function _c(i,e,t){const n=Ee(i,t==null?void 0:t.in),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return Ii(n,n.getMonth()+s*3)}function Jp(i,e,t){const n=Ee(i,t==null?void 0:t.in);return n.setSeconds(e),n}function br(i,e,t){const n=Ee(i,t==null?void 0:t.in);return isNaN(+n)?ct(i,NaN):(n.setFullYear(e),n)}function nl(i,e,t){return Xi(i,-e,t)}function Kk(i,e,t){return X0(i,-1,t)}function YA(i,e,t){return Nm(i,-1,t)}function Uc(i,e,t){return xs(i,-e,t)}function Mg(){return typeof window<"u"}function tu(i){return Qk(i)?(i.nodeName||"").toLowerCase():"#document"}function hi(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(i){var e;return(e=(Qk(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function Qk(i){return Mg()?i instanceof Node||i instanceof hi(i).Node:!1}function Hn(i){return Mg()?i instanceof Element||i instanceof hi(i).Element:!1}function Pr(i){return Mg()?i instanceof HTMLElement||i instanceof hi(i).HTMLElement:!1}function qA(i){return!Mg()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof hi(i).ShadowRoot}function Rd(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=Vi(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(r)}function Jq(i){return["table","td","th"].includes(tu(i))}function kg(i){return[":popover-open",":modal"].some(e=>{try{return i.matches(e)}catch{return!1}})}function nw(i){const e=iw(),t=Hn(i)?Vi(i):i;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function e7(i){let e=Ja(i);for(;Pr(e)&&!Bc(e);){if(nw(e))return e;if(kg(e))return null;e=Ja(e)}return null}function iw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bc(i){return["html","body","#document"].includes(tu(i))}function Vi(i){return hi(i).getComputedStyle(i)}function Ig(i){return Hn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Ja(i){if(tu(i)==="html")return i;const e=i.assignedSlot||i.parentNode||qA(i)&&i.host||Lr(i);return qA(e)?e.host:e}function Xk(i){const e=Ja(i);return Bc(e)?i.ownerDocument?i.ownerDocument.body:i.body:Pr(e)&&Rd(e)?e:Xk(e)}function hd(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=Xk(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=hi(r);if(s){const c=Eb(o);return e.concat(o,o.visualViewport||[],Rd(r)?r:[],c&&t?hd(c):[])}return e.concat(r,hd(r,[],t))}function Eb(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const zc=Math.min,il=Math.max,Bm=Math.round,Sp=Math.floor,kr=i=>({x:i,y:i}),t7={left:"right",right:"left",bottom:"top",top:"bottom"},n7={start:"end",end:"start"};function i7(i,e,t){return il(i,zc(e,t))}function Og(i,e){return typeof i=="function"?i(e):i}function Hc(i){return i.split("-")[0]}function Md(i){return i.split("-")[1]}function r7(i){return i==="x"?"y":"x"}function rw(i){return i==="y"?"height":"width"}function dd(i){return["top","bottom"].includes(Hc(i))?"y":"x"}function sw(i){return r7(dd(i))}function s7(i,e,t){t===void 0&&(t=!1);const n=Md(i),r=sw(i),s=rw(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zm(o)),[o,zm(o)]}function a7(i){const e=zm(i);return[Tb(i),e,Tb(e)]}function Tb(i){return i.replace(/start|end/g,e=>n7[e])}function o7(i,e,t){const n=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(i){case"top":case"bottom":return t?e?r:n:e?n:r;case"left":case"right":return e?s:o;default:return[]}}function l7(i,e,t,n){const r=Md(i);let s=o7(Hc(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Tb)))),s}function zm(i){return i.replace(/left|right|bottom|top/g,e=>t7[e])}function c7(i){return{top:0,right:0,bottom:0,left:0,...i}}function Zk(i){return typeof i!="number"?c7(i):{top:i,right:i,bottom:i,left:i}}function Hm(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function WA(i,e,t){let{reference:n,floating:r}=i;const s=dd(e),o=sw(e),c=rw(o),h=Hc(e),d=s==="y",p=n.x+n.width/2-r.width/2,y=n.y+n.height/2-r.height/2,v=n[c]/2-r[c]/2;let b;switch(h){case"top":b={x:p,y:n.y-r.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y};break;case"left":b={x:n.x-r.width,y};break;default:b={x:n.x,y:n.y}}switch(Md(e)){case"start":b[o]-=v*(t&&d?-1:1);break;case"end":b[o]+=v*(t&&d?-1:1);break}return b}const u7=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,c=s.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:p,y}=WA(d,n,h),v=n,b={},E=0;for(let S=0;S<c.length;S++){const{name:x,fn:M}=c[S],{x:L,y:j,data:W,reset:H}=await M({x:p,y,initialPlacement:n,placement:v,strategy:r,middlewareData:b,rects:d,platform:o,elements:{reference:i,floating:e}});p=L??p,y=j??y,b={...b,[x]:{...b[x],...W}},H&&E<=50&&(E++,typeof H=="object"&&(H.placement&&(v=H.placement),H.rects&&(d=H.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):H.rects),{x:p,y}=WA(d,v,h)),S=-1)}return{x:p,y,placement:v,strategy:r,middlewareData:b}};async function h7(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:c,strategy:h}=i,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=Og(e,i),E=Zk(b),x=c[v?y==="floating"?"reference":"floating":y],M=Hm(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:h})),L=y==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),W=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},H=Hm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:j,strategy:h}):L);return{top:(M.top-H.top+E.top)/W.y,bottom:(H.bottom-M.bottom+E.bottom)/W.y,left:(M.left-H.left+E.left)/W.x,right:(H.right-M.right+E.right)/W.x}}const d7=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:r,rects:s,platform:o,elements:c,middlewareData:h}=e,{element:d,padding:p=0}=Og(i,e)||{};if(d==null)return{};const y=Zk(p),v={x:t,y:n},b=sw(r),E=rw(b),S=await o.getDimensions(d),x=b==="y",M=x?"top":"left",L=x?"bottom":"right",j=x?"clientHeight":"clientWidth",W=s.reference[E]+s.reference[b]-v[b]-s.floating[E],H=v[b]-s.reference[b],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let O=Q?Q[j]:0;(!O||!await(o.isElement==null?void 0:o.isElement(Q)))&&(O=c.floating[j]||s.floating[E]);const C=W/2-H/2,A=O/2-S[E]/2-1,k=zc(y[M],A),V=zc(y[L],A),U=k,N=O-S[E]-V,de=O/2-S[E]/2+C,q=i7(U,de,N),z=!h.arrow&&Md(r)!=null&&de!==q&&s.reference[E]/2-(de<U?k:V)-S[E]/2<0,te=z?de<U?de-U:de-N:0;return{[b]:v[b]+te,data:{[b]:q,centerOffset:de-q-te,...z&&{alignmentOffset:te}},reset:z}}}),f7=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...x}=Og(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const M=Hc(r),L=dd(c),j=Hc(c)===c,W=await(h.isRTL==null?void 0:h.isRTL(d.floating)),H=v||(j||!S?[zm(c)]:a7(c)),Q=E!=="none";!v&&Q&&H.push(...l7(c,S,E,W));const O=[c,...H],C=await h7(e,x),A=[];let k=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&A.push(C[M]),y){const de=s7(r,o,W);A.push(C[de[0]],C[de[1]])}if(k=[...k,{placement:r,overflows:A}],!A.every(de=>de<=0)){var V,U;const de=(((V=s.flip)==null?void 0:V.index)||0)+1,q=O[de];if(q)return{data:{index:de,overflows:k},reset:{placement:q}};let z=(U=k.filter(te=>te.overflows[0]<=0).sort((te,re)=>te.overflows[1]-re.overflows[1])[0])==null?void 0:U.placement;if(!z)switch(b){case"bestFit":{var N;const te=(N=k.filter(re=>{if(Q){const fe=dd(re.placement);return fe===L||fe==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(fe=>fe>0).reduce((fe,Y)=>fe+Y,0)]).sort((re,fe)=>re[1]-fe[1])[0])==null?void 0:N[0];te&&(z=te);break}case"initialPlacement":z=c;break}if(r!==z)return{reset:{placement:z}}}return{}}}};async function p7(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=Hc(t),c=Md(t),h=dd(t)==="y",d=["left","top"].includes(o)?-1:1,p=s&&h?-1:1,y=Og(e,i);let{mainAxis:v,crossAxis:b,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof E=="number"&&(b=c==="end"?E*-1:E),h?{x:b*p,y:v*d}:{x:v*d,y:b*p}}const m7=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:c}=e,h=await p7(e,i);return o===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+h.x,y:s+h.y,data:{...h,placement:o}}}}};function Jk(i){const e=Vi(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Pr(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,c=Bm(t)!==s||Bm(n)!==o;return c&&(t=s,n=o),{width:t,height:n,$:c}}function aw(i){return Hn(i)?i:i.contextElement}function xc(i){const e=aw(i);if(!Pr(e))return kr(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=Jk(e);let o=(s?Bm(t.width):t.width)/n,c=(s?Bm(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const g7=kr(0);function eI(i){const e=hi(i);return!iw()||!e.visualViewport?g7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y7(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==hi(i)?!1:e}function pl(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=aw(i);let o=kr(1);e&&(n?Hn(n)&&(o=xc(n)):o=xc(i));const c=y7(s,t,n)?eI(s):kr(0);let h=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,p=r.width/o.x,y=r.height/o.y;if(s){const v=hi(s),b=n&&Hn(n)?hi(n):n;let E=v,S=Eb(E);for(;S&&n&&b!==E;){const x=xc(S),M=S.getBoundingClientRect(),L=Vi(S),j=M.left+(S.clientLeft+parseFloat(L.paddingLeft))*x.x,W=M.top+(S.clientTop+parseFloat(L.paddingTop))*x.y;h*=x.x,d*=x.y,p*=x.x,y*=x.y,h+=j,d+=W,E=hi(S),S=Eb(E)}}return Hm({width:p,height:y,x:h,y:d})}function ow(i,e){const t=Ig(i).scrollLeft;return e?e.left+t:pl(Lr(i)).left+t}function tI(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),r=n.left+e.scrollLeft-(t?0:ow(i,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function v7(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Lr(n),c=e?kg(e.floating):!1;if(n===o||c&&s)return t;let h={scrollLeft:0,scrollTop:0},d=kr(1);const p=kr(0),y=Pr(n);if((y||!y&&!s)&&((tu(n)!=="body"||Rd(o))&&(h=Ig(n)),Pr(n))){const b=pl(n);d=xc(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const v=o&&!y&&!s?tI(o,h,!0):kr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-h.scrollLeft*d.x+p.x+v.x,y:t.y*d.y-h.scrollTop*d.y+p.y+v.y}}function _7(i){return Array.from(i.getClientRects())}function b7(i){const e=Lr(i),t=Ig(i),n=i.ownerDocument.body,r=il(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=il(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+ow(i);const c=-t.scrollTop;return Vi(n).direction==="rtl"&&(o+=il(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:c}}function w7(i,e){const t=hi(i),n=Lr(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,h=0;if(r){s=r.width,o=r.height;const d=iw();(!d||d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:s,height:o,x:c,y:h}}function E7(i,e){const t=pl(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=Pr(i)?xc(i):kr(1),o=i.clientWidth*s.x,c=i.clientHeight*s.y,h=r*s.x,d=n*s.y;return{width:o,height:c,x:h,y:d}}function $A(i,e,t){let n;if(e==="viewport")n=w7(i,t);else if(e==="document")n=b7(Lr(i));else if(Hn(e))n=E7(e,t);else{const r=eI(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Hm(n)}function nI(i,e){const t=Ja(i);return t===e||!Hn(t)||Bc(t)?!1:Vi(t).position==="fixed"||nI(t,e)}function T7(i,e){const t=e.get(i);if(t)return t;let n=hd(i,[],!1).filter(c=>Hn(c)&&tu(c)!=="body"),r=null;const s=Vi(i).position==="fixed";let o=s?Ja(i):i;for(;Hn(o)&&!Bc(o);){const c=Vi(o),h=nw(o);!h&&c.position==="fixed"&&(r=null),(s?!h&&!r:!h&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Rd(o)&&!h&&nI(i,o))?n=n.filter(p=>p!==o):r=c,o=Ja(o)}return e.set(i,n),n}function S7(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?kg(e)?[]:T7(e,this._c):[].concat(t),n],c=o[0],h=o.reduce((d,p)=>{const y=$A(e,p,r);return d.top=il(y.top,d.top),d.right=zc(y.right,d.right),d.bottom=zc(y.bottom,d.bottom),d.left=il(y.left,d.left),d},$A(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function x7(i){const{width:e,height:t}=Jk(i);return{width:e,height:t}}function D7(i,e,t){const n=Pr(e),r=Lr(e),s=t==="fixed",o=pl(i,!0,s,e);let c={scrollLeft:0,scrollTop:0};const h=kr(0);if(n||!n&&!s)if((tu(e)!=="body"||Rd(r))&&(c=Ig(e)),n){const v=pl(e,!0,s,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else r&&(h.x=ow(r));const d=r&&!n&&!s?tI(r,c):kr(0),p=o.left+c.scrollLeft-h.x-d.x,y=o.top+c.scrollTop-h.y-d.y;return{x:p,y,width:o.width,height:o.height}}function __(i){return Vi(i).position==="static"}function GA(i,e){if(!Pr(i)||Vi(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return Lr(i)===t&&(t=t.ownerDocument.body),t}function iI(i,e){const t=hi(i);if(kg(i))return t;if(!Pr(i)){let r=Ja(i);for(;r&&!Bc(r);){if(Hn(r)&&!__(r))return r;r=Ja(r)}return t}let n=GA(i,e);for(;n&&Jq(n)&&__(n);)n=GA(n,e);return n&&Bc(n)&&__(n)&&!nw(n)?t:n||e7(i)||t}const A7=async function(i){const e=this.getOffsetParent||iI,t=this.getDimensions,n=await t(i.floating);return{reference:D7(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C7(i){return Vi(i).direction==="rtl"}const R7={convertOffsetParentRelativeRectToViewportRelativeRect:v7,getDocumentElement:Lr,getClippingRect:S7,getOffsetParent:iI,getElementRects:A7,getClientRects:_7,getDimensions:x7,getScale:xc,isElement:Hn,isRTL:C7};function rI(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function M7(i,e){let t=null,n;const r=Lr(i);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function o(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),s();const d=i.getBoundingClientRect(),{left:p,top:y,width:v,height:b}=d;if(c||e(),!v||!b)return;const E=Sp(y),S=Sp(r.clientWidth-(p+v)),x=Sp(r.clientHeight-(y+b)),M=Sp(p),j={rootMargin:-E+"px "+-S+"px "+-x+"px "+-M+"px",threshold:il(0,zc(1,h))||1};let W=!0;function H(Q){const O=Q[0].intersectionRatio;if(O!==h){if(!W)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!rI(d,i.getBoundingClientRect())&&o(),W=!1}try{t=new IntersectionObserver(H,{...j,root:r.ownerDocument})}catch{t=new IntersectionObserver(H,j)}t.observe(i)}return o(!0),s}function k7(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,d=aw(i),p=r||s?[...d?hd(d):[],...hd(e)]:[];p.forEach(M=>{r&&M.addEventListener("scroll",t,{passive:!0}),s&&M.addEventListener("resize",t)});const y=d&&c?M7(d,t):null;let v=-1,b=null;o&&(b=new ResizeObserver(M=>{let[L]=M;L&&L.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),t()}),d&&!h&&b.observe(d),b.observe(e));let E,S=h?pl(i):null;h&&x();function x(){const M=pl(i);S&&!rI(S,M)&&t(),S=M,E=requestAnimationFrame(x)}return t(),()=>{var M;p.forEach(L=>{r&&L.removeEventListener("scroll",t),s&&L.removeEventListener("resize",t)}),y==null||y(),(M=b)==null||M.disconnect(),b=null,h&&cancelAnimationFrame(E)}}const I7=m7,O7=f7,KA=d7,P7=(i,e,t)=>{const n=new Map,r={platform:R7,...t},s={...r.platform,_c:n};return u7(i,e,{...r,platform:s})};var em=typeof document<"u"?F.useLayoutEffect:F.useEffect;function Ym(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Ym(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Ym(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function sI(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function QA(i,e){const t=sI(i);return Math.round(e*t)/t}function b_(i){const e=F.useRef(i);return em(()=>{e.current=i}),e}function N7(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:h,open:d}=i,[p,y]=F.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=F.useState(n);Ym(v,n)||b(n);const[E,S]=F.useState(null),[x,M]=F.useState(null),L=F.useCallback(re=>{re!==Q.current&&(Q.current=re,S(re))},[]),j=F.useCallback(re=>{re!==O.current&&(O.current=re,M(re))},[]),W=s||E,H=o||x,Q=F.useRef(null),O=F.useRef(null),C=F.useRef(p),A=h!=null,k=b_(h),V=b_(r),U=b_(d),N=F.useCallback(()=>{if(!Q.current||!O.current)return;const re={placement:e,strategy:t,middleware:v};V.current&&(re.platform=V.current),P7(Q.current,O.current,re).then(fe=>{const Y={...fe,isPositioned:U.current!==!1};de.current&&!Ym(C.current,Y)&&(C.current=Y,OC.flushSync(()=>{y(Y)}))})},[v,e,t,V,U]);em(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,y(re=>({...re,isPositioned:!1})))},[d]);const de=F.useRef(!1);em(()=>(de.current=!0,()=>{de.current=!1}),[]),em(()=>{if(W&&(Q.current=W),H&&(O.current=H),W&&H){if(k.current)return k.current(W,H,N);N()}},[W,H,N,k,A]);const q=F.useMemo(()=>({reference:Q,floating:O,setReference:L,setFloating:j}),[L,j]),z=F.useMemo(()=>({reference:W,floating:H}),[W,H]),te=F.useMemo(()=>{const re={position:t,left:0,top:0};if(!z.floating)return re;const fe=QA(z.floating,p.x),Y=QA(z.floating,p.y);return c?{...re,transform:"translate("+fe+"px, "+Y+"px)",...sI(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:fe,top:Y}},[t,c,z.floating,p.x,p.y]);return F.useMemo(()=>({...p,update:N,refs:q,elements:z,floatingStyles:te}),[p,N,q,z,te])}const L7=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:r}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?KA({element:n.current,padding:r}).fn(t):{}:n?KA({element:n,padding:r}).fn(t):{}}}},V7=(i,e)=>({...I7(i),options:[i,e]}),F7=(i,e)=>({...O7(i),options:[i,e]}),j7=(i,e)=>({...L7(i),options:[i,e]}),aI={...tP},U7=aI.useInsertionEffect,B7=U7||(i=>i());function z7(i){const e=F.useRef(()=>{});return B7(()=>{e.current=i}),F.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}var qm=typeof document<"u"?F.useLayoutEffect:F.useEffect;let XA=!1,H7=0;const ZA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+H7++;function Y7(){const[i,e]=F.useState(()=>XA?ZA():void 0);return qm(()=>{i==null&&e(ZA())},[]),F.useEffect(()=>{XA=!0},[]),i}const q7=aI.useId,oI=q7||Y7,W7=F.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:o}},width:c=14,height:h=7,tipRadius:d=0,strokeWidth:p=0,staticOffset:y,stroke:v,d:b,style:{transform:E,...S}={},...x}=e,M=oI(),[L,j]=F.useState(!1);if(qm(()=>{if(!r)return;Vi(r).direction==="rtl"&&j(!0)},[r]),!r)return null;const[W,H]=n.split("-"),Q=W==="top"||W==="bottom";let O=y;(Q&&o!=null&&o.x||!Q&&o!=null&&o.y)&&(O=null);const C=p*2,A=C/2,k=c/2*(d/-8+1),V=h/2*d/4,U=!!b,N=O&&H==="end"?"bottom":"top";let de=O&&H==="end"?"right":"left";O&&L&&(de=H==="end"?"left":"right");const q=(s==null?void 0:s.x)!=null?O||s.x:"",z=(s==null?void 0:s.y)!=null?O||s.y:"",te=b||"M0,0"+(" H"+c)+(" L"+(c-k)+","+(h-V))+(" Q"+c/2+","+h+" "+k+","+(h-V))+" Z",re={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[W];return R.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:U?c:c+C,height:c,viewBox:"0 0 "+c+" "+(h>c?h:c),style:{position:"absolute",pointerEvents:"none",[de]:q,[N]:z,[W]:Q||U?"100%":"calc(100% - "+C/2+"px)",transform:[re,E].filter(fe=>!!fe).join(" "),...S},children:[C>0&&R.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:v,strokeWidth:C+(b?0:1),d:te}),R.jsx("path",{stroke:C&&!b?x.fill:"none",d:te}),R.jsx("clipPath",{id:M,children:R.jsx("rect",{x:-A,y:A*(U?-1:1),width:c+C,height:c})})]})});function $7(){const i=new Map;return{emit(e,t){var n;(n=i.get(e))==null||n.forEach(r=>r(t))},on(e,t){i.set(e,[...i.get(e)||[],t])},off(e,t){var n;i.set(e,((n=i.get(e))==null?void 0:n.filter(r=>r!==t))||[])}}}const G7=F.createContext(null),K7=F.createContext(null),Q7=()=>{var i;return((i=F.useContext(G7))==null?void 0:i.id)||null},X7=()=>F.useContext(K7);function Z7(i){const{open:e=!1,onOpenChange:t,elements:n}=i,r=oI(),s=F.useRef({}),[o]=F.useState(()=>$7()),c=Q7()!=null,[h,d]=F.useState(n.reference),p=z7((b,E,S)=>{s.current.openEvent=b?E:void 0,o.emit("openchange",{open:b,event:E,reason:S,nested:c}),t==null||t(b,E,S)}),y=F.useMemo(()=>({setPositionReference:d}),[]),v=F.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return F.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:v,events:o,floatingId:r,refs:y}),[e,p,v,o,r,y])}function J7(i){i===void 0&&(i={});const{nodeId:e}=i,t=Z7({...i,elements:{reference:null,floating:null,...i.elements}}),n=i.rootContext||t,r=n.elements,[s,o]=F.useState(null),[c,h]=F.useState(null),p=(r==null?void 0:r.domReference)||s,y=F.useRef(null),v=X7();qm(()=>{p&&(y.current=p)},[p]);const b=N7({...i,elements:{...r,...c&&{reference:c}}}),E=F.useCallback(j=>{const W=Hn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;h(W),b.refs.setReference(W)},[b.refs]),S=F.useCallback(j=>{(Hn(j)||j===null)&&(y.current=j,o(j)),(Hn(b.refs.reference.current)||b.refs.reference.current===null||j!==null&&!Hn(j))&&b.refs.setReference(j)},[b.refs]),x=F.useMemo(()=>({...b.refs,setReference:S,setPositionReference:E,domReference:y}),[b.refs,S,E]),M=F.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),L=F.useMemo(()=>({...b,...n,refs:x,elements:M,nodeId:e}),[b,x,M,e,n]);return qm(()=>{n.dataRef.current.floatingContext=L;const j=v==null?void 0:v.nodesRef.current.find(W=>W.id===e);j&&(j.context=L)}),F.useMemo(()=>({...b,context:L,refs:x,elements:M}),[b,x,M,L])}/*!
  react-datepicker v8.2.1
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Sb=function(e,t){return Sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Sb(e,t)};function mn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sb(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Xe=function(){return Xe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Xe.apply(this,arguments)};function Sr(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}var eW=function(i){var e=i.showTimeSelectOnly,t=e===void 0?!1:e,n=i.showTime,r=n===void 0?!1:n,s=i.className,o=i.children,c=t?"Choose Time":"Choose Date".concat(r?" and Time":"");return ae.createElement("div",{className:s,role:"dialog","aria-label":c,"aria-modal":"true"},o)},tW=function(i,e){var t=F.useRef(null),n=F.useRef(i);n.current=i;var r=F.useCallback(function(s){var o,c=s.composed&&s.composedPath&&s.composedPath().find(function(h){return h instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,s))},[e]);return F.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),t},Pg=function(i){var e=i.children,t=i.onClickOutside,n=i.className,r=i.containerRef,s=i.style,o=i.ignoreClass,c=tW(t,o);return ae.createElement("div",{className:n,style:s,ref:function(h){c.current=h,r&&(r.current=h)}},e)},ve;(function(i){i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.PageUp="PageUp",i.PageDown="PageDown",i.Home="Home",i.End="End",i.Enter="Enter",i.Space=" ",i.Tab="Tab",i.Escape="Escape",i.Backspace="Backspace",i.X="x"})(ve||(ve={}));function lI(){var i=typeof window<"u"?window:globalThis;return i}var kd=12;function rt(i){if(i==null)return new Date;var e=typeof i=="string"?Vq(i):Ee(i);return Ng(e)?e:new Date}function w_(i,e,t,n,r){r===void 0&&(r=rt());for(var s=Yc(t)||Yc(lw()),o=Array.isArray(e)?e:[e],c=0,h=o;c<h.length;c++){var d=h[c],p=kq(i,d,r,{locale:s});if(Ng(p)&&(!n||i===Tt(p,d,t)))return p}return null}function Ng(i,e){return Lm(i)&&!fl(i,new Date("1/1/1800"))}function Tt(i,e,t){if(t==="en")return zA(i,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Yc(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Yc(lw()),zA(i,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ki(i,e){var t=e.dateFormat,n=e.locale,r=Array.isArray(t)&&t.length>0?t[0]:t;return i&&Tt(i,r,n)||""}function nW(i,e,t){if(!i)return"";var n=ki(i,t),r=e?ki(e,t):"";return"".concat(n," - ").concat(r)}function iW(i,e){if(!(i!=null&&i.length))return"";var t=i[0]?ki(i[0],e):"";if(i.length===1)return t;if(i.length===2&&i[1]){var n=ki(i[1],e);return"".concat(t,", ").concat(n)}var r=i.length-1;return"".concat(t," (+").concat(r,")")}function E_(i,e){var t=e.hour,n=t===void 0?0:t,r=e.minute,s=r===void 0?0:r,o=e.second,c=o===void 0?0:o;return Xp(Zp(Jp(i,c),s),n)}function rW(i){return Z0(i)}function sW(i,e){return Tt(i,"ddd",e)}function tm(i){return dl(i)}function Ua(i,e,t){var n=Yc(e||lw());return Ns(i,{locale:n,weekStartsOn:t})}function Rs(i){return jk(i)}function Ih(i){return Rg(i)}function JA(i){return _b(i)}function eC(){return dl(rt())}function tC(i){return Vk(i)}function aW(i){return V6(i)}function oW(i){return Fk(i)}function wr(i,e){return i&&e?Nq(i,e):!i&&!e}function Bn(i,e){return i&&e?Oq(i,e):!i&&!e}function Wm(i,e){return i&&e?Pq(i,e):!i&&!e}function Qe(i,e){return i&&e?N6(i,e):!i&&!e}function Zo(i,e){return i&&e?LY(i,e):!i&&!e}function Oh(i,e,t){var n,r=dl(e),s=Vk(t);try{n=ud(i,{start:r,end:s})}catch{n=!1}return n}function lw(){var i=lI();return i.__localeId__}function Yc(i){if(typeof i=="string"){var e=lI();return e.__localeData__?e.__localeData__[i]:void 0}else return i}function lW(i,e,t){return e(Tt(i,"EEEE",t))}function cW(i,e){return Tt(i,"EEEEEE",e)}function uW(i,e){return Tt(i,"EEE",e)}function cw(i,e){return Tt(Ii(rt(),i),"LLLL",e)}function cI(i,e){return Tt(Ii(rt(),i),"LLL",e)}function hW(i,e){return Tt(_c(rt(),i),"QQQ",e)}function Oi(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,c=t.includeDates,h=t.includeDateIntervals,d=t.filterDate;return Id(i,{minDate:n,maxDate:r})||s&&s.some(function(p){return p instanceof Date?Qe(i,p):Qe(i,p.date)})||o&&o.some(function(p){var y=p.start,v=p.end;return ud(i,{start:y,end:v})})||c&&!c.some(function(p){return Qe(i,p)})||h&&!h.some(function(p){var y=p.start,v=p.end;return ud(i,{start:y,end:v})})||d&&!d(rt(i))||!1}function uw(i,e){var t=e===void 0?{}:e,n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,c=s.end;return ud(i,{start:o,end:c})}):n&&n.some(function(s){var o;return s instanceof Date?Qe(i,s):Qe(i,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function uI(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return Id(i,{minDate:n?jk(n):void 0,maxDate:r?Fk(r):void 0})||(s==null?void 0:s.some(function(h){return Bn(i,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return Bn(i,h)})||c&&!c(rt(i))||!1}function xp(i,e,t,n){var r=Fe(i),s=zn(i),o=Fe(e),c=zn(e),h=Fe(n);return r===o&&r===h?s<=t&&t<=c:r<o?h===r&&s<=t||h===o&&c>=t||h<o&&h>r:!1}function dW(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates;return Id(i,{minDate:n,maxDate:r})||s&&s.some(function(c){return Bn(c instanceof Date?c:c.date,i)})||o&&!o.some(function(c){return Bn(c,i)})||!1}function Dp(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return Id(i,{minDate:n,maxDate:r})||(s==null?void 0:s.some(function(h){return Wm(i,h instanceof Date?h:h.date)}))||o&&!o.some(function(h){return Wm(i,h)})||c&&!c(rt(i))||!1}function Ap(i,e,t){if(!e||!t||!Lm(e)||!Lm(t))return!1;var n=Fe(e),r=Fe(t);return n<=i&&r>=i}function nm(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate,h=new Date(i,0,1);return Id(h,{minDate:n?Rg(n):void 0,maxDate:r?Uk(r):void 0})||(s==null?void 0:s.some(function(d){return wr(h,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return wr(h,d)})||c&&!c(rt(h))||!1}function Cp(i,e,t,n){var r=Fe(i),s=tl(i),o=Fe(e),c=tl(e),h=Fe(n);return r===o&&r===h?s<=t&&t<=c:r<o?h===r&&s<=t||h===o&&c>=t||h<o&&h>r:!1}function Id(i,e){var t,n=e===void 0?{}:e,r=n.minDate,s=n.maxDate;return(t=r&&jc(i,r)<0||s&&jc(i,s)>0)!==null&&t!==void 0?t:!1}function nC(i,e){return e.some(function(t){return As(t)===As(i)&&Cs(t)===Cs(i)&&ja(t)===ja(i)})}function iC(i,e){var t=e===void 0?{}:e,n=t.excludeTimes,r=t.includeTimes,s=t.filterTime;return n&&nC(i,n)||r&&!nC(i,r)||s&&!s(i)||!1}function rC(i,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var r=rt();r=Xp(r,As(i)),r=Zp(r,Cs(i)),r=Jp(r,ja(i));var s=rt();s=Xp(s,As(t)),s=Zp(s,Cs(t)),s=Jp(s,ja(t));var o=rt();o=Xp(o,As(n)),o=Zp(o,Cs(n)),o=Jp(o,ja(n));var c;try{c=!ud(r,{start:s,end:o})}catch{c=!1}return c}function sC(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=nl(i,1);return n&&Vm(n,s)>0||r&&r.every(function(o){return Vm(o,s)>0})||!1}function aC(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=Xi(i,1);return n&&Vm(s,n)>0||r&&r.every(function(o){return Vm(s,o)>0})||!1}function fW(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Rg(i),o=Kk(s);return n&&Fm(n,o)>0||r&&r.every(function(c){return Fm(c,o)>0})||!1}function pW(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=Uk(i),o=X0(s,1);return n&&Fm(o,n)>0||r&&r.every(function(c){return Fm(o,c)>0})||!1}function oC(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Uc(i,1);return n&&jm(n,s)>0||r&&r.every(function(o){return jm(o,s)>0})||!1}function mW(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.yearItemNumber,s=r===void 0?kd:r,o=Ih(Uc(i,s)),c=Oa(o,s).endPeriod,h=n&&Fe(n);return h&&h>c||!1}function lC(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=xs(i,1);return n&&jm(s,n)>0||r&&r.every(function(o){return jm(s,o)>0})||!1}function gW(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.yearItemNumber,s=r===void 0?kd:r,o=xs(i,s),c=Oa(o,s).startPeriod,h=n&&Fe(n);return h&&h<c||!1}function hI(i){var e=i.minDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return jc(r,e)>=0});return LA(n)}else return t?LA(t):e}function dI(i){var e=i.maxDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return jc(r,e)<=0});return NA(n)}else return t?NA(t):e}function cC(i,e){var t;i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,r=0,s=i.length;r<s;r++){var o=i[r];if(Ds(o)){var c=Tt(o,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(e)||(h.push(e),n.set(c,h))}else if(typeof o=="object"){var d=Object.keys(o),p=(t=d[0])!==null&&t!==void 0?t:"",y=o[p];if(typeof p=="string"&&Array.isArray(y))for(var v=0,b=y.length;v<b;v++){var E=y[v];if(E){var c=Tt(E,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(p)||(h.push(p),n.set(c,h))}}}}return n}function yW(i,e){return i.length!==e.length?!1:i.every(function(t,n){return t===e[n]})}function vW(i,e){i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return i.forEach(function(n){var r=n.date,s=n.holidayName;if(Ds(r)){var o=Tt(r,"MM.dd.yyyy"),c=t.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&yW(c.holidayNames,[s]))){c.className=e;var h=c.holidayNames;c.holidayNames=h?Sr(Sr([],h,!0),[s],!1):[s],t.set(o,c)}}}),t}function _W(i,e,t,n,r){for(var s=r.length,o=[],c=0;c<s;c++){var h=i,d=r[c];d&&(h=k6(h,As(d)),h=vb(h,Cs(d)),h=P6(h,ja(d)));var p=vb(i,(t+1)*n);Za(h,e)&&fl(h,p)&&d!=null&&o.push(d)}return o}function uC(i){return i<10?"0".concat(i):"".concat(i)}function Oa(i,e){e===void 0&&(e=kd);var t=Math.ceil(Fe(i)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function bW(i){var e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+t-+e)/36e5)}function hC(i){var e=i.getSeconds(),t=i.getMilliseconds();return Ee(i.getTime()-e*1e3-t)}function wW(i,e){return hC(i).getTime()===hC(e).getTime()}function dC(i){if(!Ds(i))throw new Error("Invalid date");var e=new Date(i);return e.setHours(0,0,0,0),e}function fC(i,e){if(!Ds(i)||!Ds(e))throw new Error("Invalid date received");var t=dC(i),n=dC(e);return fl(t,n)}function fI(i){return i.key===ve.Space}var EW=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.inputRef=ae.createRef(),n.onTimeChange=function(r){var s,o;n.setState({time:r});var c=n.props.date,h=c instanceof Date&&!isNaN(+c),d=h?c:new Date;if(r!=null&&r.includes(":")){var p=r.split(":"),y=p[0],v=p[1];d.setHours(Number(y)),d.setMinutes(Number(v))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,d)},n.renderTimeInput=function(){var r=n.state.time,s=n.props,o=s.date,c=s.timeString,h=s.customTimeInput;return h?F.cloneElement(h,{date:o,value:r,onChange:n.onTimeChange}):ae.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:r,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ae.createElement("div",{className:"react-datepicker__input-time-container"},ae.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ae.createElement("div",{className:"react-datepicker-time__input-container"},ae.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(F.Component),TW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dayEl=F.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var r=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!r&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Oi(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return uw(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,Ua(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,Ua(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,r=n.day,s=n.highlightDates;if(!s)return!1;var o=Tt(r,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var n,r=t.props,s=r.day,o=r.holidays;if(!o)return[void 0];var c=Tt(s,"MM.dd.yyyy");return o.has(c)?[(n=o.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Oh(r,s,o)},t.isInSelectingRange=function(){var n,r=t.props,s=r.day,o=r.selectsStart,c=r.selectsEnd,h=r.selectsRange,d=r.selectsDisabledDaysInRange,p=r.startDate,y=r.endDate,v=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(o||c||h)||!v||!d&&t.isDisabled()?!1:o&&y&&(fl(v,y)||Zo(v,y))?Oh(s,v,y):c&&p&&(Za(v,p)||Zo(v,p))||h&&p&&!y&&(Za(v,p)||Zo(v,p))?Oh(s,p,v):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.startDate,c=r.selectsStart,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(s,h):Qe(s,o)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.endDate,c=r.selectsEnd,h=r.selectsRange,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||h?Qe(s,d):Qe(s,o)},t.isRangeStart=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Qe(s,r)},t.isRangeEnd=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Qe(o,r)},t.isWeekend=function(){var n=IY(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===zn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(zn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(rt())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(r){return t.isSameDayOrWeek(r)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var r=t.props.dayClassName?t.props.dayClassName(n):void 0;return Tn("react-datepicker__day",r,"react-datepicker__day--"+sW(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,r=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,h=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?h:o;return"".concat(d," ").concat(Tt(r,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,r=n.day,s=n.holidays,o=s===void 0?new Map:s,c=n.excludeDates,h=Tt(r,"MM.dd.yyyy"),d=[];return o.has(h)&&d.push.apply(d,o.get(h).holidayNames),t.isExcluded()&&d.push(c==null?void 0:c.filter(function(p){return p instanceof Date?Qe(p,r):Qe(p==null?void 0:p.date,r)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,r=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(r,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(HA(t.props.day),t.props.day):HA(t.props.day)},t.render=function(){return ae.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ae.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,r;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(F.Component),SW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.weekNumberEl=F.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var r=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(r=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,r=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!r,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return ae.createElement("div",{ref:this.weekNumberEl,className:Tn(h),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(F.Component),xW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isDisabled=function(n){return Oi(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,r){t.props.onDayClick&&t.props.onDayClick(n,r)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,r,s){for(var o,c,h,d=new Date(n),p=0;p<7;p++){var y=new Date(n);y.setDate(y.getDate()+p);var v=!t.isDisabled(y);if(v){d=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,r,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((h=(c=t.props).setOpen)===null||h===void 0||h.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):rW(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),r=$i(n,6),s=new Date(n);s<=r;){if(!t.isDisabled(s))return!1;s=$i(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),r=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;r.push(ae.createElement(SW,Xe({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(c){var h=$i(n,c);return ae.createElement(TW,Xe({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return Ua(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ae.createElement("div",{className:Tn(t)},this.renderDays())},e}(F.Component),_h,DW=6,Dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},T_=(_h={},_h[Dc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},_h[Dc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},_h[Dc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},_h),Rp=1;function pC(i,e){return i?Dc.FOUR_COLUMNS:e?Dc.TWO_COLUMNS:Dc.THREE_COLUMNS}var AW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.MONTH_REFS=Sr([],Array(12),!0).map(function(){return F.createRef()}),t.QUARTER_REFS=Sr([],Array(4),!0).map(function(){return F.createRef()}),t.isDisabled=function(n){return Oi(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return uw(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,r){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,n,r,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var r,s;(s=(r=t.props).onDayMouseEnter)===null||s===void 0||s.call(r,n)},t.handleMouseLeave=function(){var n,r;(r=(n=t.props).onMouseLeave)===null||r===void 0||r.call(n)},t.isRangeStartMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Bn(Ii(s,n),o)},t.isRangeStartQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Wm(_c(s,n),o)},t.isRangeEndMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Bn(Ii(s,n),c)},t.isRangeEndQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Wm(_c(s,n),c)},t.isInSelectingRangeMonth=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,h=s.selectsEnd,d=s.selectsRange,p=s.startDate,y=s.endDate,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||h||d)||!v?!1:c&&y?xp(v,y,n,o):h&&p||d&&p&&!y?xp(p,v,n,o):!1},t.isSelectingMonthRangeStart=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.startDate,h=s.selectsStart,d=Ii(o,n),p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return h?Bn(d,p):Bn(d,c)},t.isSelectingMonthRangeEnd=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.endDate,h=s.selectsEnd,d=s.selectsRange,p=Ii(o,n),y=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return h||d?Bn(p,y):Bn(p,c)},t.isInSelectingRangeQuarter=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,h=s.selectsEnd,d=s.selectsRange,p=s.startDate,y=s.endDate,v=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||h||d)||!v?!1:c&&y?Cp(v,y,n,o):h&&p||d&&p&&!y?Cp(p,v,n,o):!1},t.isWeekInMonth=function(n){var r=t.props.day,s=$i(n,6);return Bn(n,r)||Bn(s,r)},t.isCurrentMonth=function(n,r){return Fe(n)===Fe(rt())&&r===zn(rt())},t.isCurrentQuarter=function(n,r){return Fe(n)===Fe(rt())&&r===tl(rt())},t.isSelectedMonth=function(n,r,s){return zn(s)===r&&Fe(n)===Fe(s)},t.isSelectMonthInList=function(n,r,s){return s.some(function(o){return t.isSelectedMonth(n,r,o)})},t.isSelectedQuarter=function(n,r,s){return tl(n)===r&&Fe(n)===Fe(s)},t.renderWeeks=function(){for(var n=[],r=t.props.fixedHeight,s=0,o=!1,c=Ua(Rs(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(E){return t.props.showWeekPicker?Ua(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(E){return t.props.showWeekPicker?Ua(E,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?d(t.props.selected):void 0,y=t.props.preSelection?h(t.props.preSelection):void 0;n.push(ae.createElement(xW,Xe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:zn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,c=Nm(c,1);var v=r&&s>=DW,b=!r&&!t.isWeekInMonth(c);if(v||b)if(t.props.peekNextMonth)o=!0;else break}return n},t.onMonthClick=function(n,r){var s=t.isMonthDisabledForLabelDate(r),o=s.isDisabled,c=s.labelDate;o||t.handleDayClick(Rs(c),n)},t.onMonthMouseEnter=function(n){var r=t.isMonthDisabledForLabelDate(n),s=r.isDisabled,o=r.labelDate;s||t.handleDayMouseEnter(Rs(o))},t.handleMonthNavigation=function(n,r){var s,o,c,h;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(h=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(n,r,s){var o,c=t.props,h=c.selected,d=c.preSelection,p=c.setPreSelection,y=c.minDate,v=c.maxDate,b=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(d){var S=pC(b,E),x=t.getVerticalOffset(S),M=(o=T_[S])===null||o===void 0?void 0:o.grid,L=function(O,C,A){var k,V,U=C,N=A;switch(O){case ve.ArrowRight:U=Xi(C,Rp),N=A===11?0:A+Rp;break;case ve.ArrowLeft:U=nl(C,Rp),N=A===0?11:A-Rp;break;case ve.ArrowUp:U=nl(C,x),N=!((k=M==null?void 0:M[0])===null||k===void 0)&&k.includes(A)?A+12-x:A-x;break;case ve.ArrowDown:U=Xi(C,x),N=!((V=M==null?void 0:M[M.length-1])===null||V===void 0)&&V.includes(A)?A-12+x:A+x;break}return{newCalculatedDate:U,newCalculatedMonth:N}},j=function(O,C,A){for(var k=40,V=O,U=!1,N=0,de=L(V,C,A),q=de.newCalculatedDate,z=de.newCalculatedMonth;!U;){if(N>=k){q=C,z=A;break}if(y&&q<y){V=ve.ArrowRight;var te=L(V,q,z);q=te.newCalculatedDate,z=te.newCalculatedMonth}if(v&&q>v){V=ve.ArrowLeft;var te=L(V,q,z);q=te.newCalculatedDate,z=te.newCalculatedMonth}if(dW(q,t.props)){var te=L(V,q,z);q=te.newCalculatedDate,z=te.newCalculatedMonth}else U=!0;N++}return{newCalculatedDate:q,newCalculatedMonth:z}};if(r===ve.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),p==null||p(h));return}var W=j(r,d,s),H=W.newCalculatedDate,Q=W.newCalculatedMonth;switch(r){case ve.ArrowRight:case ve.ArrowLeft:case ve.ArrowUp:case ve.ArrowDown:t.handleMonthNavigation(Q,H);break}}},t.getVerticalOffset=function(n){var r,s;return(s=(r=T_[n])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,r){var s=t.props,o=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,h=n.key;h!==ve.Tab&&n.preventDefault(),o||t.handleKeyboardNavigation(n,h,r),c&&c(n)},t.onQuarterClick=function(n,r){var s=_c(t.props.day,r);Dp(s,t.props)||t.handleDayClick(JA(s),n)},t.onQuarterMouseEnter=function(n){var r=_c(t.props.day,n);Dp(r,t.props)||t.handleDayMouseEnter(JA(r))},t.handleQuarterNavigation=function(n,r){var s,o,c,h;t.isDisabled(r)||t.isExcluded(r)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(h=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(n,r){var s,o,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case ve.Enter:t.onQuarterClick(n,r),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case ve.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===4?1:r+1,X0(t.props.preSelection,1));break;case ve.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===1?4:r-1,Kk(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var r,s=t.props,o=s.day,c=s.minDate,h=s.maxDate,d=s.excludeDates,p=s.includeDates,y=Ii(o,n);return{isDisabled:(r=(c||h||d||p)&&uI(y,t.props))!==null&&r!==void 0?r:!1,labelDate:y}},t.isMonthDisabled=function(n){var r=t.isMonthDisabledForLabelDate(n).isDisabled;return r},t.getMonthClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,h=r.preSelection,d=r.monthClassName,p=d?d(Ii(s,n)):void 0,y=t.getSelection();return Tn("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(s,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(s,n,h)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&c?xp(o,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=zn(t.props.preSelection),s=t.isMonthDisabledForLabelDate(r).isDisabled,o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=tl(t.props.preSelection),s=Dp(t.props.day,t.props),o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(n){var r=t.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,c=r.disabledDayAriaLabelPrefix,h=c===void 0?"Not available":c,d=r.day,p=r.locale,y=Ii(d,n),v=t.isDisabled(y)||t.isExcluded(y)?h:o;return"".concat(v," ").concat(Tt(y,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,h=r.selected,d=r.minDate,p=r.maxDate,y=r.excludeDates,v=r.includeDates,b=r.filterDate,E=r.preSelection,S=r.disabledKeyboardNavigation,x=(d||p||y||v||b)&&Dp(_c(s,n),t.props);return Tn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(s,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&E&&t.isSelectedQuarter(s,n,E)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&c?Cp(o,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var r=t.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,c=r.locale,h=r.day,d=cI(n,c),p=cw(n,c);return o?o(n,d,p,h):s?p:d},t.getQuarterContent=function(n){var r,s=t.props,o=s.renderQuarterContent,c=s.locale,h=hW(n,c);return(r=o==null?void 0:o(n,h))!==null&&r!==void 0?r:h},t.renderMonths=function(){var n,r=t.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,c=r.day,h=r.selected,d=(n=T_[pC(o,s)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(p,y){return ae.createElement("div",{className:"react-datepicker__month-wrapper",key:y},p.map(function(v,b){return ae.createElement("div",{ref:t.MONTH_REFS[v],key:b,onClick:function(E){t.onMonthClick(E,v)},onKeyDown:function(E){fI(E)&&(E.preventDefault(),E.key=ve.Enter),t.onMonthKeyDown(E,v)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(v)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(v)}:void 0,tabIndex:Number(t.getTabIndex(v)),className:t.getMonthClassNames(v),"aria-disabled":t.isMonthDisabled(v),role:"option","aria-label":t.getAriaLabel(v),"aria-current":t.isCurrentMonth(c,v)?"date":void 0,"aria-selected":h?t.isSelectedMonth(c,v,h):void 0},t.getMonthContent(v))}))})},t.renderQuarters=function(){var n=t.props,r=n.day,s=n.selected,o=[1,2,3,4];return ae.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,h){return ae.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(r,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(r,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,r=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,c=n.showMonthYearPicker,h=n.showQuarterYearPicker,d=n.showWeekPicker;return Tn("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,r=t.selectedDates,s=t.selectsMultiple;if(s)return r;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,r=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,c=o===void 0?"Month ":o,h=c?c.trim()+" ":"";return ae.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Tt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},e}(F.Component),CW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,r){return ae.createElement("div",{className:t.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,r),"aria-selected":t.isSelectedMonth(r)?"true":void 0},t.isSelectedMonth(r)?ae.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ae.createElement(Pg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),RW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(r,s){return ae.createElement("option",{key:r,value:s},r)})},t.renderSelectMode=function(n){return ae.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(r){return t.onChange(parseInt(r.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,r){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[t.props.month]))},t.renderDropdown=function(n){return ae.createElement(CW,Xe({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var r=t.state.dropdownVisible,s=[t.renderReadView(!r,n)];return r&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return cI(s,t.props.locale)}:function(s){return cw(s,t.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n);break}return ae.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e}(F.Component);function MW(i,e){for(var t=[],n=Rs(i),r=Rs(e);!Za(n,r);)t.push(rt(n)),n=Xi(n,1);return t}var kW=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(r){var s=wb(r),o=wr(n.props.date,r)&&Bn(n.props.date,r);return ae.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?ae.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Tt(r,n.props.dateFormat,n.props.locale))})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:MW(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Tn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ae.createElement(Pg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),IW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Rs(t.props.minDate),r=Rs(t.props.maxDate),s=[];!Za(n,r);){var o=wb(n);s.push(ae.createElement("option",{key:o,value:o},Tt(n,t.props.dateFormat,t.props.locale))),n=Xi(n,1)}return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:wb(Rs(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var r=Tt(t.props.date,t.props.dateFormat,t.props.locale);return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ae.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},t.renderDropdown=function(){return ae.createElement(kW,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown();var r=rt(n);wr(t.props.date,r)&&Bn(t.props.date,r)||t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(F.Component),OW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,r,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((r=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&r!==void 0?r:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var r,s;(t.props.minTime||t.props.maxTime)&&rC(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&iC(n,t.props)||(s=(r=t.props).onChange)===null||s===void 0||s.call(r,n)},t.isSelectedTime=function(n){return t.props.selected&&wW(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&rC(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&iC(n,t.props)},t.liClasses=function(n){var r,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(As(n)*3600+Cs(n)*60+ja(n))%(((r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,r){var s,o;n.key===ve.Space&&(n.preventDefault(),n.key=ve.Enter),(n.key===ve.ArrowUp||n.key===ve.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ve.ArrowDown||n.key===ve.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ve.Enter&&t.handleClick(r),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.renderTimes=function(){for(var n,r=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||rt(),h=tm(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(x,M){return x.getTime()-M.getTime()}),p=60*bW(c),y=p/o,v=0;v<y;v++){var b=vb(h,v*o);if(r.push(b),d){var E=_W(h,b,v,o,d);r=r.concat(E)}}var S=r.reduce(function(x,M){return M.getTime()<=c.getTime()?M:x},r[0]);return r.map(function(x){return ae.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(M){x===S&&(t.centerLi=M)},onKeyDown:function(M){t.handleOnKeyDown(M,x)},tabIndex:x===S?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},Tt(x,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ae.createElement(ae.Fragment,null):ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ae.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,r=this.state.height;return ae.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ae.createElement("div",{className:"react-datepicker__time"},ae.createElement("div",{className:"react-datepicker__time-box"},ae.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(F.Component),mC=3,PW=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.YEAR_REFS=Sr([],Array(n.props.yearItemNumber),!0).map(function(){return F.createRef()}),n.isDisabled=function(r){return Oi(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return uw(r,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var r;return(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection},n.updateFocusOnPaginate=function(r){var s=function(){var o,c;(c=(o=n.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleYearNavigation=function(r,s){var o,c,h,d,p=n.props,y=p.date,v=p.yearItemNumber;if(!(y===void 0||v===void 0)){var b=Oa(y,v).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),r-b<0?n.updateFocusOnPaginate(v-(b-r)):r-b>=v?n.updateFocusOnPaginate(Math.abs(v-(r-b))):(d=(h=n.YEAR_REFS[r-b])===null||h===void 0?void 0:h.current)===null||d===void 0||d.focus())}},n.isSameDay=function(r,s){return Qe(r,s)},n.isCurrentYear=function(r){return r===Fe(rt())},n.isRangeStart=function(r){return n.props.startDate&&n.props.endDate&&wr(br(rt(),r),n.props.startDate)},n.isRangeEnd=function(r){return n.props.startDate&&n.props.endDate&&wr(br(rt(),r),n.props.endDate)},n.isInRange=function(r){return Ap(r,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(r){var s=n.props,o=s.selectsStart,c=s.selectsEnd,h=s.selectsRange,d=s.startDate,p=s.endDate;return!(o||c||h)||!n.selectingDate()?!1:o&&p?Ap(r,n.selectingDate(),p):c&&d||h&&d&&!p?Ap(r,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.startDate,h=o.selectsStart,d=br(rt(),r);return h?wr(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):wr(d,c??null)},n.isSelectingRangeEnd=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.endDate,h=o.selectsEnd,d=o.selectsRange,p=br(rt(),r);return h||d?wr(p,(s=n.selectingDate())!==null&&s!==void 0?s:null):wr(p,c??null)},n.isKeyboardSelected=function(r){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,c=s.maxDate,h=s.excludeDates,d=s.includeDates,p=s.filterDate,y=Ih(br(n.props.date,r)),v=(o||c||h||d||p)&&nm(r,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(y,Ih(n.props.selected))&&Qe(y,Ih(n.props.preSelection))&&!v}},n.onYearClick=function(r,s){var o=n.props.date;o!==void 0&&n.handleYearClick(Ih(br(o,s)),r)},n.onYearKeyDown=function(r,s){var o,c,h=r.key,d=n.props,p=d.date,y=d.yearItemNumber,v=d.handleOnKeyDown;if(h!==ve.Tab&&r.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case ve.Enter:if(n.props.selected==null)break;n.onYearClick(r,s),(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,n.props.selected);break;case ve.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,xs(n.props.preSelection,1));break;case ve.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Uc(n.props.preSelection,1));break;case ve.ArrowUp:{if(p===void 0||y===void 0||n.props.preSelection==null)break;var b=Oa(p,y).startPeriod,E=mC,S=s-E;if(S<b){var x=y%E;s>=b&&s<b+x?E=x:E+=x,S=s-E}n.handleYearNavigation(S,Uc(n.props.preSelection,E));break}case ve.ArrowDown:{if(p===void 0||y===void 0||n.props.preSelection==null)break;var M=Oa(p,y).endPeriod,E=mC,S=s+E;if(S>M){var x=y%E;s<=M&&s>M-x?E=x:E+=x,S=s+E}n.handleYearNavigation(S,xs(n.props.preSelection,E));break}}v&&v(r)},n.getYearClassNames=function(r){var s=n.props,o=s.date,c=s.minDate,h=s.maxDate,d=s.selected,p=s.excludeDates,y=s.includeDates,v=s.filterDate,b=s.yearClassName;return Tn("react-datepicker__year-text","react-datepicker__year-".concat(r),o?b==null?void 0:b(br(o,r)):void 0,{"react-datepicker__year-text--selected":d?r===Fe(d):void 0,"react-datepicker__year-text--disabled":(c||h||p||y||v)&&nm(r,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(r),"react-datepicker__year-text--range-start":n.isRangeStart(r),"react-datepicker__year-text--range-end":n.isRangeEnd(r),"react-datepicker__year-text--in-range":n.isInRange(r),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(r),"react-datepicker__year-text--today":n.isCurrentYear(r)})},n.getYearTabIndex=function(r){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Fe(n.props.preSelection),o=nm(r,n.props);return r===s&&!o?"0":"-1"},n.getYearContent=function(r){return n.props.renderYearContent?n.props.renderYearContent(r):r},n}return e.prototype.render=function(){var t=this,n=[],r=this.props,s=r.date,o=r.yearItemNumber,c=r.onYearMouseEnter,h=r.onYearMouseLeave;if(s===void 0)return null;for(var d=Oa(s,o),p=d.startPeriod,y=d.endPeriod,v=function(S){n.push(ae.createElement("div",{ref:b.YEAR_REFS[S-p],onClick:function(x){t.onYearClick(x,S)},onKeyDown:function(x){fI(x)&&(x.preventDefault(),x.key=ve.Enter),t.onYearKeyDown(x,S)},tabIndex:Number(b.getYearTabIndex(S)),className:b.getYearClassNames(S),onMouseEnter:b.props.usePointerEvent?void 0:function(x){return c(x,S)},onPointerEnter:b.props.usePointerEvent?function(x){return c(x,S)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(x){return h(x,S)},onPointerLeave:b.props.usePointerEvent?function(x){return h(x,S)}:void 0,key:S,"aria-current":b.isCurrentYear(S)?"date":void 0},b.getYearContent(S)))},b=this,E=p;E<=y;E++)v(E);return ae.createElement("div",{className:"react-datepicker__year"},ae.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(F.Component);function NW(i,e,t,n){for(var r=[],s=0;s<2*e+1;s++){var o=i+e-s,c=!0;t&&(c=Fe(t)<=o),n&&c&&(c=Fe(n)>=o),c&&r.push(o)}return r}var LW=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,h=n.state.yearsList.map(function(y){return ae.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?ae.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),d=n.props.minDate?Fe(n.props.minDate):null,p=n.props.maxDate?Fe(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(y){return y===p}))&&h.unshift(ae.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(y){return y===d}))&&h.push(ae.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ae.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var h=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=r||(s?10:5);return n.state={yearsList:NW(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=F.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,r=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Tn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ae.createElement(Pg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(F.Component),VW=function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Fe(t.props.minDate):1900,r=t.props.maxDate?Fe(t.props.maxDate):2100,s=[],o=n;o<=r;o++)s.push(ae.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ae.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ae.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return t.toggleDropdown(r)}},ae.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ae.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ae.createElement(LW,Xe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,r){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,r),t.setOpen()},t.onSelect=function(n,r){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,n,r)},t.setOpen=function(){var n,r;(r=(n=t.props).setOpen)===null||r===void 0||r.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ae.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(F.Component),FW=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],jW=function(i){var e=(i.className||"").split(/\s+/);return FW.some(function(t){return e.indexOf(t)>=0})},UW=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(r){n.props.onClickOutside(r)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(r){var s,o;jW(r.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},n.getDateInView=function(){var r=n.props,s=r.preSelection,o=r.selected,c=r.openToDate,h=hI(n.props),d=dI(n.props),p=rt(),y=c||o||s;return y||(h&&fl(p,h)?h:d&&Za(p,d)?d:p)},n.increaseMonth=function(){n.setState(function(r){var s=r.date;return{date:Xi(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(r){var s=r.date;return{date:nl(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(r,s,o){n.props.onSelect(r,s,o),n.props.setPreSelection&&n.props.setPreSelection(r)},n.handleDayMouseEnter=function(r){n.setState({selectingDate:r}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(r,s){n.setState({selectingDate:br(rt(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(r,s)},n.handleYearMouseLeave=function(r,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(r,s)},n.handleYearChange=function(r){var s,o,c,h;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(r),(h=(c=n.props).setOpen)===null||h===void 0||h.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(r)},n.getEnabledPreSelectionDateForMonth=function(r){if(!Oi(r,n.props))return r;for(var s=Rs(r),o=oW(r),c=L6(o,s),h=null,d=0;d<=c;d++){var p=$i(s,d);if(!Oi(p,n.props)){h=p;break}}return h},n.handleMonthChange=function(r){var s,o,c,h=(s=n.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(r){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(r){n.handleYearChange(r),n.handleMonthChange(r)},n.changeYear=function(r){n.setState(function(s){var o=s.date;return{date:br(o,Number(r))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(r){n.setState(function(s){var o=s.date;return{date:Ii(o,Number(r))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(r){n.setState(function(s){var o=s.date;return{date:br(Ii(o,zn(r)),Fe(r))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(r){r===void 0&&(r=n.state.date);var s=Ua(r,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(ae.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var h=$i(s,c),d=n.formatWeekday(h,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return ae.createElement("div",{key:c,"aria-label":Tt(h,"EEEE",n.props.locale),className:Tn("react-datepicker__day-name",p)},d)}))},n.formatWeekday=function(r,s){return n.props.formatWeekDay?lW(r,n.props.formatWeekDay,s):n.props.useWeekdaysShort?uW(r,s):cW(r,s)},n.decreaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:Uc(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var r,s,o;if(!n.props.renderCustomHeader){var c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:h,p=nl(n.state.date,d),y;switch(!0){case n.props.showMonthYearPicker:y=oC(n.state.date,n.props);break;case n.props.showYearPicker:y=mW(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=fW(n.state.date,n.props);break;default:y=sC(p,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var v=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),E=void 0);var S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,M=x.previousMonthButtonLabel,L=M===void 0?e.defaultProps.previousMonthButtonLabel:M,j=x.previousYearButtonLabel,W=j===void 0?e.defaultProps.previousYearButtonLabel:j,H=n.props,Q=H.previousMonthAriaLabel,O=Q===void 0?typeof L=="string"?L:"Previous Month":Q,C=H.previousYearAriaLabel,A=C===void 0?typeof W=="string"?W:"Previous Year":C;return ae.createElement("button",{type:"button",className:b.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":S?A:O},ae.createElement("span",{className:v.join(" ")},S?W:L))}}},n.increaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:xs(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var r;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=lC(n.state.date,n.props);break;case n.props.showYearPicker:s=gW(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=pW(n.state.date,n.props);break;default:s=aC(n.state.date,n.props);break}if(!(!((r=n.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),h=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,y=p.nextMonthButtonLabel,v=y===void 0?e.defaultProps.nextMonthButtonLabel:y,b=p.nextYearButtonLabel,E=b===void 0?e.defaultProps.nextYearButtonLabel:b,S=n.props,x=S.nextMonthAriaLabel,M=x===void 0?typeof v=="string"?v:"Next Month":x,L=S.nextYearAriaLabel,j=L===void 0?typeof E=="string"?E:"Next Year":L;return ae.createElement("button",{type:"button",className:o.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?j:M},ae.createElement("span",{className:c.join(" ")},d?E:v))}}},n.renderCurrentMonth=function(r){r===void 0&&(r=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ae.createElement("h2",{className:s.join(" ")},Tt(r,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showYearDropdown||r))return ae.createElement(VW,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Fe(n.state.date)}))},n.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthDropdown||r))return ae.createElement(RW,Xe({},e.defaultProps,n.props,{month:zn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthYearDropdown||r))return ae.createElement(IW,Xe({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(r){n.props.onSelect(eC(),r),n.props.setPreSelection&&n.props.setPreSelection(eC())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ae.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return ae.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),ae.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),ae.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(r){var s,o,c=r.monthDate,h=r.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=sC(n.state.date,n.props),p=aC(n.state.date,n.props),y=oC(n.state.date,n.props),v=lC(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ae.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Xe(Xe({},n.state),{customHeaderCount:h,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:p,prevYearButtonDisabled:y,nextYearButtonDisabled:v})),b&&ae.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(r){var s=r.monthDate,o=n.props,c=o.showYearPicker,h=o.yearItemNumber,d=h===void 0?e.defaultProps.yearItemNumber:h,p=Oa(s,d),y=p.startPeriod,v=p.endPeriod;return ae.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(v):Fe(s))},n.renderHeader=function(r){var s=r.monthDate,o=r.i,c=o===void 0?0:o,h={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var r,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xs(n.state.date,h):nl(n.state.date,h),p=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:h,y=0;y<c;++y){var v=y-p+h,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xs(d,v):Xi(d,v),E="month-".concat(y),S=y<c-1,x=y>0;o.push(ae.createElement("div",{key:E,ref:function(M){n.monthContainer=M??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:y}),ae.createElement(AW,Xe({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:x}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ae.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ae.createElement(PW,Xe({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ae.createElement(OW,Xe({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var r=n.props.selected?new Date(n.props.selected):void 0,s=r&&Ng(r)&&!!n.props.selected,o=s?"".concat(uC(r.getHours()),":").concat(uC(r.getMinutes())):"";if(n.props.showTimeInput)return ae.createElement(EW,Xe({},e.defaultProps,n.props,{date:r,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var r,s=Oa(n.state.date,(r=n.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),o=s.startPeriod,c=s.endPeriod,h;return n.props.showYearPicker?h="".concat(o," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=Fe(n.state.date):h="".concat(cw(zn(n.state.date),n.props.locale)," ").concat(Fe(n.state.date)),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return ae.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=F.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:kd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var r=!Bn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||eW;return ae.createElement(Pg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ae.createElement("div",{style:{display:"contents"},ref:this.containerRef},ae.createElement(t,{className:Tn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(F.Component),BW=function(i){var e=i.icon,t=i.className,n=t===void 0?"":t,r=i.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ae.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:r});if(ae.isValidElement(e)){var o=e;return ae.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof r=="function"&&r(c)}})}return ae.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},ae.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},pI=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return IN.createPortal(this.props.children,this.el)},e}(F.Component),zW="[tabindex], a, button, input, select, textarea",HW=function(i){return(i instanceof HTMLAnchorElement||!i.disabled)&&i.tabIndex!==-1},mI=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.getTabChildren=function(){var r;return Array.prototype.slice.call((r=n.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(zW),1,-1).filter(HW)},n.handleFocusStart=function(){var r=n.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},n.handleFocusEnd=function(){var r=n.getTabChildren();r&&r.length>1&&r[0].focus()},n.tabLoopRef=F.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ae.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ae.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ae.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(F.Component);function YW(i){var e=function(t){var n,r=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=F.useRef(null),o=J7(Xe({open:!r,whileElementsMounted:k7,placement:t.popperPlacement,middleware:Sr([F7({padding:15}),V7(10),j7({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Xe(Xe({},t),{hidePopper:r,popperProps:Xe(Xe({},o),{arrowRef:s})});return ae.createElement(i,Xe({},c))};return e}var qW=function(i){mn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,r=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,c=t.popperComponent,h=t.targetComponent,d=t.enableTabLoop,p=t.popperOnKeyDown,y=t.portalId,v=t.portalHost,b=t.popperProps,E=t.showArrow,S=void 0;if(!o){var x=Tn("react-datepicker-popper",n);S=ae.createElement(mI,{enableTabLoop:d},ae.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:x,"data-placement":b.placement,onKeyDown:p},c,E&&ae.createElement(W7,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=F.createElement(this.props.popperContainer,{},S)),y&&!o&&(S=ae.createElement(pI,{portalId:y,portalHost:v},S));var M=Tn("react-datepicker-wrapper",r);return ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:b.refs.setReference,className:M},h),S)},e}(F.Component),WW=YW(qW),gC="react-datepicker-ignore-onclickoutside";function $W(i,e){return i&&e?zn(i)!==zn(e)||Fe(i)!==Fe(e):i!==e}var S_="Date input not valid.",yC=function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:rt()},n.modifyHolidays=function(){var r;return(r=n.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var c=new Date(o.date);return Ng(c)?Sr(Sr([],s,!0),[Xe(Xe({},o),{date:c})],!1):s},[])},n.calcInitialState=function(){var r,s=n.getPreSelection(),o=hI(n.props),c=dI(n.props),h=o&&fl(s,tm(o))?o:c&&Za(s,tC(c))?c:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&r!==void 0?r:h,highlightDates:cC(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Xe(Xe({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},n.setBlur=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(r,s){s===void 0&&(s=!1),n.setState({open:r,preSelection:r&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:x_},function(){r||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ds(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(r){var s,o,c=n.state.wasHidden,h=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,r),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(r){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,r)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(r){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,r),n.props.withPortal&&r.preventDefault()},n.handleChange=function(){for(var r,s,o,c,h,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:GW});var v=n.props,b=v.selectsRange,E=v.startDate,S=v.endDate,x=(r=n.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,M=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,L=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(b){var j=L.split("-",2).map(function(V){return V.trim()}),W=j[0],H=j[1],Q=w_(W??"",x,n.props.locale,M),O=w_(H??"",x,n.props.locale,M),C=(E==null?void 0:E.getTime())!==(Q==null?void 0:Q.getTime()),A=(S==null?void 0:S.getTime())!==(O==null?void 0:O.getTime());if(!C&&!A||Q&&Oi(Q,n.props)||O&&Oi(O,n.props))return;(c=(o=n.props).onChange)===null||c===void 0||c.call(o,[Q,O],y)}else{var k=w_(L,x,n.props.locale,M,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(k||!L)&&n.setSelected(k,y,!0)}}},n.handleSelect=function(r,s,o){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(r,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(r);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,h=c.startDate,d=c.endDate;h&&!d&&(n.props.swapRange||!fC(r,h))&&n.setOpen(!1)}},n.setSelected=function(r,s,o,c){var h,d,p=r;if(n.props.showYearPicker){if(p!==null&&nm(Fe(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&uI(p,n.props))return}else if(p!==null&&Oi(p,n.props))return;var y=n.props,v=y.onChange,b=y.selectsRange,E=y.startDate,S=y.endDate,x=y.selectsMultiple,M=y.selectedDates,L=y.minTime,j=y.swapRange;if(!Zo(n.props.selected,p)||n.props.allowSameDay||b||x)if(p!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=E_(p,{hour:As(n.props.selected),minute:Cs(n.props.selected),second:ja(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&L&&(p=E_(p,{hour:L.getHours(),minute:L.getMinutes(),second:L.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),b){var W=!E&&!S,H=E&&!S,Q=E&&S;W?v==null||v([p,null],s):H&&(p===null?v==null||v([null,null],s):fC(p,E)?j?v==null||v([p,E],s):v==null||v([p,null],s):v==null||v([E,p],s)),Q&&(v==null||v([p,null],s))}else if(x){if(p!==null)if(!(M!=null&&M.length))v==null||v([p],s);else{var O=M.some(function(A){return Qe(A,p)});if(O){var C=M.filter(function(A){return!Qe(A,p)});v==null||v(C,s)}else v==null||v(Sr(Sr([],M,!0),[p],!1),s)}}else v==null||v(p,s);o||((d=(h=n.props).onSelect)===null||d===void 0||d.call(h,p,s),n.setState({inputValue:null}))},n.setPreSelection=function(r){var s=Ds(n.props.minDate),o=Ds(n.props.maxDate),c=!0;if(r){var h=tm(r);if(s&&o)c=Oh(r,n.props.minDate,n.props.maxDate);else if(s){var d=tm(n.props.minDate);c=Za(r,d)||Zo(h,d)}else if(o){var p=tC(n.props.maxDate);c=fl(r,p)||Zo(h,p)}}c&&n.setState({preSelection:r})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(r){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?r:E_(c,{hour:As(r),minute:Cs(r)});n.setState({preSelection:h}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var r,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(r=n.props).onInputClick)===null||s===void 0||s.call(r)},n.onInputKeyDown=function(r){var s,o,c,h,d,p;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r);var y=r.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===ve.ArrowDown||y===ve.ArrowUp||y===ve.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===ve.ArrowDown||y===ve.ArrowUp){r.preventDefault();var v=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(v);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var E=rt(n.state.preSelection);y===ve.Enter?(r.preventDefault(),r.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===x_?(n.handleSelect(E,r),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):y===ve.Escape?(r.preventDefault(),r.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===ve.Tab&&n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:S_})}},n.onPortalKeyDown=function(r){var s=r.key;s===ve.Escape&&(r.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(r){var s,o,c,h,d,p,y=n.props,v=y.minDate,b=y.maxDate,E=y.disabledKeyboardNavigation,S=y.showWeekPicker,x=y.shouldCloseOnSelect,M=y.locale,L=y.calendarStartDay,j=y.adjustDateOnChange,W=y.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r),!E){var H=r.key,Q=r.shiftKey,O=rt(n.state.preSelection),C=function(q,z){var te=z;switch(q){case ve.ArrowRight:te=S?Nm(z,1):$i(z,1);break;case ve.ArrowLeft:te=S?YA(z):Lq(z);break;case ve.ArrowUp:te=YA(z);break;case ve.ArrowDown:te=Nm(z,1);break;case ve.PageUp:te=Q?Uc(z,1):nl(z,1);break;case ve.PageDown:te=Q?xs(z,1):Xi(z,1);break;case ve.Home:te=Ua(z,M,L);break;case ve.End:te=aW(z);break}return te},A=function(q,z){for(var te=40,re=q,fe=!1,Y=0,ie=C(q,z);!fe;){if(Y>=te){ie=z;break}v&&ie<v&&(re=ve.ArrowRight,ie=Oi(v,n.props)?C(re,ie):v),b&&ie>b&&(re=ve.ArrowLeft,ie=Oi(b,n.props)?C(re,ie):b),Oi(ie,n.props)?((re===ve.PageUp||re===ve.Home)&&(re=ve.ArrowRight),(re===ve.PageDown||re===ve.End)&&(re=ve.ArrowLeft),ie=C(re,ie)):fe=!0,Y++}return ie};if(H===ve.Enter){r.preventDefault(),n.handleSelect(O,r),!x&&n.setPreSelection(O);return}else if(H===ve.Escape){r.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(c=n.props).onInputError)===null||h===void 0||h.call(c,{code:1,msg:S_});return}var k=null;switch(H){case ve.ArrowLeft:case ve.ArrowRight:case ve.ArrowUp:case ve.ArrowDown:case ve.PageUp:case ve.PageDown:case ve.Home:case ve.End:k=A(H,O);break}if(!k){(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:S_});return}if(r.preventDefault(),n.setState({lastPreSelectChange:x_}),j&&n.setSelected(k),n.setPreSelection(k),W){var V=zn(O),U=zn(k),N=Fe(O),de=Fe(k);V!==U||N!==de?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(r){var s=r.key;s===ve.Escape&&(r.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,c=s.onChange;o?c==null||c([null,null],r):c==null||c(null,r),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(r){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(r)&&n.setOpen(!1)},n.renderCalendar=function(){var r,s;return!n.props.inline&&!n.isCalendarOpen()?null:ae.createElement(UW,Xe({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(r=n.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:vW(n.modifyHolidays()),outsideClickIgnoreClass:gC,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var r=n.props,s=r.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,c=r.locale,h=n.props.showTimeInput||n.props.showTimeSelect,d=h?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(ki(n.props.startDate,{dateFormat:d,locale:c}),". ").concat(n.props.endDate?"End date: "+ki(n.props.endDate,{dateFormat:d,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(ki(n.props.selected,{dateFormat:o,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(ki(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(ki(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(ki(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(ki(n.props.selected,{dateFormat:d,locale:c})),ae.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var r,s,o,c=Tn(n.props.className,(r={},r[gC]=n.state.open,r)),h=n.props.customInput||ae.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",p=n.props,y=p.dateFormat,v=y===void 0?e.defaultProps.dateFormat:y,b=p.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?nW(n.props.startDate,n.props.endDate,{dateFormat:v,locale:b}):n.props.selectsMultiple?iW((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:v,locale:b}):ki(n.props.selected,{dateFormat:v,locale:b});return F.cloneElement(h,(s={},s[d]=function(S){n.input=S},s.value=E,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Tn(h.props.className,c),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var r=n.props,s=r.isClearable,o=r.disabled,c=r.selected,h=r.startDate,d=r.endDate,p=r.clearButtonTitle,y=r.clearButtonClassName,v=y===void 0?"":y,b=r.ariaLabelClose,E=b===void 0?"Close":b,S=r.selectedDates;return s&&(c!=null||h!=null||d!=null||S!=null&&S.length)?ae.createElement("button",{type:"button",className:Tn("react-datepicker__close-icon",v,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":E,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:kd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var r,s,o,c;t.inline&&$W(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:cC(this.props.highlightDates)}),!n.focused&&!Zo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),n.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,r=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,h=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ae.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ae.createElement(BW,Xe({icon:r,className:Tn(o,!o&&s,h&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ae.createElement(mI,{enableTabLoop:this.props.enableTabLoop},ae.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ae.createElement(pI,Xe({portalId:this.props.portalId},this.props),n)),ae.createElement("div",null,this.renderInputContainer(),n)}return ae.createElement(WW,Xe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(F.Component),GW="input",x_="navigate";xg.register(...E6);const KW=()=>{const[i,e]=F.useState(new Date),[t,n]=F.useState(new Date),[r,s]=F.useState([]),[o,c]=F.useState([]),[h,d]=F.useState(!1),[p,y]=F.useState(null),[v,b]=F.useState(!0),[E,S]=F.useState(null),[x,M]=F.useState(null),L=eo();FP(),F.useEffect(()=>{(async()=>{try{const A=localStorage.getItem("ultimaTiendaSeleccionada");if(console.log("Intentando obtener ltima tienda seleccionada del localStorage:",A),A){const U=_s(Gt,"tiendas",A),N=await Pc(U);if(N.exists()){const de={id:N.id,...N.data()};console.log("Tienda encontrada en localStorage:",de.nombre),S(de),M(A);return}}console.log("No se encontr tienda en localStorage, buscando la primera tienda disponible");const k=Pi(Gt,"tiendas"),V=await Ka(k);if(V.empty)throw new Error("No hay tiendas disponibles");{const U=V.docs[0],N={id:U.id,...U.data()};console.log("Primera tienda encontrada:",N.nombre),S(N),M(U.id)}}catch(A){console.error("Error al buscar tienda:",A),y("No se pudo encontrar la tienda seleccionada. Por favor, regresa y selecciona una tienda.")}})()},[]);const j=async C=>{try{if(!x)throw console.error("No hay ID de tienda para filtrar productos"),new Error("No se ha especificado una tienda");const A=new Date(C.getFullYear(),C.getMonth(),1),k=new Date(C.getFullYear(),C.getMonth()+1,0);console.log(`Buscando productos para tienda ${x} entre ${A.toISOString()} y ${k.toISOString()}`);const V=_s(Gt,"tiendas",x),U=await Pc(V);if(!U.exists())throw console.error(`Tienda con ID ${x} no encontrada`),new Error("Tienda no encontrada");const N=U.data();console.log(`Tienda: ${N.nombre}, Productos: ${N.productos?N.productos.length:0}`);const de=[];return N.productos&&Array.isArray(N.productos)?N.productos.forEach(q=>{let z;if(typeof q.fechaCompra=="object"&&q.fechaCompra.toDate)z=q.fechaCompra.toDate();else if(q.fechaCompra)z=new Date(q.fechaCompra);else{console.warn(`Producto sin fecha: ${q.nombre}`);return}z>=A&&z<=k&&de.push({...q,tienda:N.nombre,fechaCompra:z,id:U.id+"-"+(q.id||Math.random().toString(36).substr(2,9))})}):console.warn(`No se encontraron productos en la tienda ${N.nombre} o no es un array`),console.log(`Productos encontrados para ${N.nombre} en ${C.toLocaleDateString()}: ${de.length}`),de}catch(A){throw console.error("Error al obtener productos:",A),A}},W=async()=>{d(!0),y(null);try{if(!i||!t)throw new Error("Por favor, selecciona ambos meses");const[C,A]=await Promise.all([j(i),j(t)]);if(C.length===0||A.length===0){const q=C.length===0?`No hay productos en el mes ${i.toLocaleString("es-ES",{month:"long",year:"numeric"})}`:`No hay productos en el mes ${t.toLocaleString("es-ES",{month:"long",year:"numeric"})}`;throw new Error(q)}if(i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear())throw new Error("Los meses deben ser diferentes");if(t<i){let q=i;i=t,t=q;let z=C;C=A,A=z}const k=C.map(q=>({...q,nombre:q.nombre.trim().toLowerCase()})),V=A.map(q=>({...q,nombre:q.nombre.trim().toLowerCase()})),U=k.map(q=>q.nombre).filter(q=>V.some(z=>z.nombre===q));if(U.length===0)throw new Error("No hay productos en comn entre los meses seleccionados");const N=k.filter(q=>U.includes(q.nombre)),de=V.filter(q=>U.includes(q.nombre));s([]),c([]),s(N),c(de)}catch(C){console.error("Error detallado:",C),y(C.message||"Error al comparar precios. Por favor intenta nuevamente."),s([]),c([])}finally{d(!1)}},H=(C,A=!0)=>{const k=r.find(z=>z.nombre.trim().toLowerCase()===C.trim().toLowerCase()),V=o.find(z=>z.nombre.trim().toLowerCase()===C.trim().toLowerCase());if(!k||!V)return"No disponible";const U=parseFloat(k.precio)||0,N=parseFloat(V.precio)||0;if(U===0)return"N/A";const de=(N-U)/U*100;return`${de.toFixed(2)}% ${de>0?"(Aumento)":de<0?"(Disminucin)":"(Sin cambios)"}`},Q=()=>{const C=r.map(A=>A.nombre.trim().toLowerCase());return{labels:C,datasets:[{label:`${i.toLocaleString("es-ES",{month:"long",year:"numeric"})}`,data:C.map(A=>{const k=r.find(V=>V.nombre.trim().toLowerCase()===A);return k&&parseFloat(k.precio)||0}),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:`${t.toLocaleString("es-ES",{month:"long",year:"numeric"})}`,data:C.map(A=>{const k=o.find(V=>V.nombre.trim().toLowerCase()===A);return k&&parseFloat(k.precio)||0}),backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]}},O=C=>{const A=(C.dataset.label.includes(i.getFullYear()),C.label),k=H(A);return k==="Mismo mes"?"Este producto est en el mismo mes":`Variacin: ${k}`};return R.jsxs("div",{className:"comparador-container",children:[R.jsx("button",{onClick:()=>{L("/seleccionar-tienda")},className:"back-button",title:"Volver a la pgina principal",children:" Volver a Tiendas"}),R.jsxs("h2",{className:"comparador-titulo",children:["Comparador de Precios por Mes ",E&&` - ${E.nombre}`]}),p&&R.jsx("div",{className:"error-message",children:p}),R.jsxs("div",{className:"comparador-controles",children:[R.jsxs("div",{className:"date-picker-group",children:[R.jsx("label",{children:"Mes 1:"}),R.jsx(yC,{selected:i,onChange:e,dateFormat:"MM/yyyy",showMonthYearPicker:!0,className:"date-picker"})]}),R.jsxs("div",{className:"date-picker-group",children:[R.jsx("label",{children:"Mes 2:"}),R.jsx(yC,{selected:t,onChange:n,dateFormat:"MM/yyyy",showMonthYearPicker:!0,className:"date-picker"})]}),R.jsx("button",{onClick:W,disabled:h,className:"comparar-btn",children:h?"Comparando...":"Comparar"})]}),r.length>0&&o.length>0&&!p&&R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"grafico-toggle",children:R.jsx("button",{onClick:()=>b(!v),className:"toggle-btn",children:v?"Mostrar Tabla":"Mostrar Grfico"})}),v?R.jsx("div",{className:"grafico-container",children:R.jsx(C6,{data:Q(),options:{responsive:!0,plugins:{title:{display:!0,text:`Comparacin de Precios por Producto ${E?"- "+E.nombre:""}`},tooltip:{callbacks:{afterLabel:O}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Precio ($)"}}}}})}):R.jsxs("div",{className:"tablas-comparacion",children:[R.jsxs("div",{className:"tabla-mes",children:[R.jsx("h3",{children:i.toLocaleString("es-ES",{month:"long",year:"numeric"})}),R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Producto"}),R.jsx("th",{children:"Precio"})]})}),R.jsx("tbody",{children:r.map(C=>R.jsxs("tr",{children:[R.jsx("td",{children:C.nombre}),R.jsxs("td",{children:["$",C.precio]})]},`mes1-${C.id}`))})]})]}),R.jsxs("div",{className:"tabla-mes",children:[R.jsx("h3",{children:t.toLocaleString("es-ES",{month:"long",year:"numeric"})}),R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Producto"}),R.jsx("th",{children:"Precio"})]})}),R.jsx("tbody",{children:o.map(C=>R.jsxs("tr",{children:[R.jsx("td",{children:C.nombre}),R.jsxs("td",{children:["$",C.precio]})]},`mes2-${C.id}`))})]})]}),R.jsxs("div",{className:"tabla-variacion",children:[R.jsx("h3",{children:"Variacin de Precios"}),R.jsxs("table",{children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Producto"}),R.jsx("th",{children:"Variacin"}),R.jsx("th",{children:"Diferencia"})]})}),R.jsx("tbody",{children:r.map(C=>{const A=r.find(de=>de.nombre===C.nombre),k=o.find(de=>de.nombre===C.nombre),V=parseFloat(A==null?void 0:A.precio)||0,N=(parseFloat(k==null?void 0:k.precio)||0)-V;return R.jsxs("tr",{children:[R.jsx("td",{children:C.nombre}),R.jsx("td",{children:H(C.nombre,!0)}),R.jsx("td",{children:N!==0?`$${N.toFixed(2)}`:"Sin cambios"})]},`variacion-${C.id}`)})})]})]})]})]}),R.jsx("div",{className:"cerrar-sesion-container",children:R.jsx(_g,{})})]})},QW=async()=>{if(!gt.currentUser)throw new Error("Usuario no autenticado");const i=gt.currentUser.uid,e=await Ka(Pi(Gt,"tiendas"));let t=0;for(const n of e.docs){const r=n.data().productos||[];for(const s of r){const o=iz(Pi(Gt,"productos"),n_("nombre","==",s.nombre),n_("tiendaId","==",n.id),n_("usuarioId","==",i));(await Ka(o)).empty&&(await xm(Pi(Gt,"productos"),{...s,tiendaId:n.id,usuarioId:i,fechaCompra:s.fechaCompra||new Date,activo:!0}),t++)}}return t};function XW(){const[i,e]=F.useState(!1),[t,n]=F.useState(""),r=async()=>{e(!0);try{if(!gt.currentUser)throw new Error("Debes iniciar sesin primero");const s=await QW();n(`Migracin exitosa. ${s} productos migrados.`)}catch(s){n(`Error: ${s.message}`)}finally{e(!1)}};return R.jsxs("div",{children:[R.jsx("h2",{children:"Migracin de Datos"}),R.jsx("button",{onClick:r,disabled:i,children:i?"Migrando...":"Iniciar Migracin"}),t&&R.jsx("p",{children:t})]})}const ZW=()=>{var C;const[i,e]=F.useState(!1),[t,n]=F.useState([]),[r,s]=F.useState(null),[o,c]=F.useState({nombre:"",marca:"",precio:"",unidad:"",categoria:""}),[h,d]=F.useState(null),[p,y]=F.useState(new Date().getMonth()),[v,b]=F.useState(new Date().getFullYear()),[E,S]=F.useState(null),[x,M]=F.useState(null),[L,j]=F.useState(null),W=eo(),H=Ls();F.useEffect(()=>{(async()=>{var k;try{if(!gt.currentUser)throw new Error("Usuario no autenticado");const V=gt.currentUser.uid;let U=((k=H.state)==null?void 0:k.tiendaId)||new URLSearchParams(window.location.search).get("tiendaId");if(!U){const N=localStorage.getItem("ultimaTiendaSeleccionada");console.log("Obteniendo tienda de localStorage:",N),N&&(U=N)}if(U){const N=_s(Gt,"usuarios",V,"tiendas",U),de=await Pc(N);if(de.exists()){const q={id:de.id,...de.data()};S(q),M(U),console.log("Tienda encontrada:",q.nombre)}else throw new Error("Tienda no encontrada")}else{console.log("No se encontr ID de tienda, buscando la primera tienda disponible");const N=Pi(Gt,"usuarios",V,"tiendas"),de=await Ka(N);if(de.empty)throw new Error("No hay tiendas disponibles");{const q=de.docs[0],z={id:q.id,...q.data()};S(z),M(q.id),console.log("Primera tienda encontrada:",z.nombre)}}}catch(V){console.error("Error al buscar tienda:",V),j("No se pudo encontrar la tienda seleccionada. Por favor, regresa y selecciona una tienda.")}})()},[H]);const Q=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];F.useEffect(()=>{x&&O()},[p,v,x]);const O=async()=>{try{if(!x)throw console.error("No hay ID de tienda para obtener resumen"),new Error("No se ha especificado una tienda");if(!gt.currentUser)throw new Error("Usuario no autenticado");const A=gt.currentUser.uid,k=_s(Gt,"usuarios",A,"tiendas",x),V=await Pc(k);if(!V.exists())throw new Error("Tienda no encontrada");const U=V.data();let N=0;const de={tienda:U.nombre,total:0,cantidadProductos:0};U.productos&&U.productos.forEach(q=>{if(!q.fechaCompra)return;let z;if(typeof q.fechaCompra=="object"&&q.fechaCompra.toDate?z=q.fechaCompra.toDate():z=new Date(q.fechaCompra),isNaN(z.getTime()))return;const te=new Date(v,p,1),re=new Date(v,p+1,0);if(z>=te&&z<=re){const fe=parseFloat(q.precio)||0;de.total+=fe,de.cantidadProductos+=1,N+=fe}}),d({total:N,porTienda:[de]})}catch(A){console.error("Error al obtener resumen:",A),alert("Error al cargar los gastos. Por favor, intenta nuevamente.")}};return R.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[R.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:R.jsx("div",{style:{display:"flex",gap:"10px"},children:R.jsxs("button",{onClick:()=>W("/seleccionar-tienda"),className:"back-button",title:"Volver a la tienda",children:[R.jsx("span",{children:""})," Volver a Tienda"]})})}),R.jsxs("h1",{style:{textAlign:"center",color:"#2c3e50"},children:["Resumen de Gastos Mensuales",E&&R.jsx("span",{style:{fontSize:"0.8em",display:"block",color:"#3498db",marginTop:"5px"},children:E.nombre})]}),L&&R.jsx("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"15px",borderRadius:"4px",marginBottom:"20px",textAlign:"center"},children:L}),R.jsx("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:R.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px"},children:[R.jsx("select",{value:p,onChange:A=>y(parseInt(A.target.value)),style:{padding:"8px",borderRadius:"4px"},children:Q.map((A,k)=>R.jsx("option",{value:k,children:A},k))}),R.jsx("select",{value:v,onChange:A=>b(parseInt(A.target.value)),style:{padding:"8px",borderRadius:"4px"},children:[2023,2024,2025].map(A=>R.jsx("option",{value:A,children:A},A))}),R.jsx("button",{onClick:O,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer"},children:"Ver Resumen"})]})}),h&&R.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[R.jsxs("h2",{style:{color:"#2c3e50",marginBottom:"20px"},children:["Total Gastado: $",h.total.toFixed(2)]}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[R.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[R.jsx("span",{style:{color:"#2c3e50",fontWeight:"bold"},children:"Tienda con ms gastos:"}),R.jsx("span",{style:{color:"#007bff"},children:(C=h.porTienda[0])==null?void 0:C.tienda})]}),R.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[R.jsx("span",{style:{color:"#2c3e50",fontWeight:"bold"},children:"Total productos:"}),R.jsx("span",{style:{color:"#007bff"},children:h.porTienda.reduce((A,k)=>A+k.cantidadProductos,0)})]})]}),R.jsx("h3",{children:"Gastos por Tienda:"}),R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{backgroundColor:"#f8f9fa"},children:[R.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Tienda"}),R.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Total"}),R.jsx("th",{style:{padding:"12px",textAlign:"right"},children:"Productos"})]})}),R.jsx("tbody",{children:h.porTienda.map((A,k)=>R.jsxs("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[R.jsx("td",{style:{padding:"12px"},children:A.tienda}),R.jsxs("td",{style:{padding:"12px",textAlign:"right"},children:["$",A.total.toFixed(2)]}),R.jsx("td",{style:{padding:"12px",textAlign:"right"},children:A.cantidadProductos})]},k))})]})]}),R.jsx("div",{style:{marginTop:"20px"},children:R.jsx(_g,{})})]})},JW=()=>{const[i,e]=F.useState({nombre:"",correo:"",asunto:"",mensaje:""}),[t,n]=F.useState(!1),[r,s]=F.useState(""),[o,c]=F.useState(""),h=p=>{const{name:y,value:v}=p.target;e(b=>({...b,[y]:v}))},d=async p=>{p.preventDefault(),n(!0),s(""),c("");try{if((await(await fetch("http://localhost:3001/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()).success)c("Mensaje enviado exitosamente! Nos contactaremos contigo pronto."),e({nombre:"",correo:"",asunto:"",mensaje:""});else throw new Error("Error al enviar el mensaje")}catch{s("Error al enviar el mensaje. Por favor, intenta de nuevo.")}finally{n(!1)}};return R.jsxs("div",{className:"soporte-container",children:[R.jsx("h2",{className:"soporte-title",children:"Soporte Tcnico"}),R.jsxs("form",{onSubmit:d,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"nombre",children:"Nombre:"}),R.jsx("input",{type:"text",id:"nombre",name:"nombre",value:i.nombre,onChange:h,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"correo",children:"Correo Electrnico:"}),R.jsx("input",{type:"email",id:"correo",name:"correo",value:i.correo,onChange:h,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"asunto",children:"Asunto:"}),R.jsx("input",{type:"text",id:"asunto",name:"asunto",value:i.asunto,onChange:h,required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"mensaje",children:"Mensaje:"}),R.jsx("textarea",{id:"mensaje",name:"mensaje",value:i.mensaje,onChange:h,required:!0})]}),r&&R.jsx("div",{className:"error-message",children:r}),o&&R.jsx("div",{className:"success-message",children:o}),R.jsx("button",{type:"submit",disabled:t,className:"submit-button",children:t?"Enviando...":"Enviar"})]})]})};class Od{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const e8=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},wn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:e8()},hw=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},t8=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=hw(i);wn.publicKey=t.publicKey,wn.blockHeadless=t.blockHeadless,wn.storageProvider=t.storageProvider,wn.blockList=t.blockList,wn.limitRate=t.limitRate,wn.origin=t.origin||e},gI=async(i,e,t={})=>{const n=await fetch(wn.origin+i,{method:"POST",headers:t,body:e}),r=await n.text(),s=new Od(n.status,r);if(n.ok)return s;throw s},yI=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},n8=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},vI=i=>i.webdriver||!i.languages||i.languages.length===0,_I=()=>new Od(451,"Unavailable For Headless Browser"),i8=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},r8=i=>{var e;return!((e=i.list)!=null&&e.length)||!i.watchVariable},s8=(i,e)=>i instanceof FormData?i.get(e):i[e],bI=(i,e)=>{if(r8(i))return!1;i8(i.list,i.watchVariable);const t=s8(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},wI=()=>new Od(403,"Forbidden"),a8=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},o8=async(i,e,t)=>{const n=Number(await t.get(i)||0);return e-Date.now()+n},EI=async(i,e,t)=>{if(!e.throttle||!t)return!1;a8(e.throttle,e.id);const n=e.id||i;return await o8(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},TI=()=>new Od(429,"Too Many Requests"),l8=async(i,e,t,n)=>{const r=hw(n),s=r.publicKey||wn.publicKey,o=r.blockHeadless||wn.blockHeadless,c=r.storageProvider||wn.storageProvider,h={...wn.blockList,...r.blockList},d={...wn.limitRate,...r.limitRate};return o&&vI(navigator)?Promise.reject(_I()):(yI(s,i,e),n8(t),t&&bI(h,t)?Promise.reject(wI()):await EI(location.pathname,d,c)?Promise.reject(TI()):gI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},c8=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},u8=i=>typeof i=="string"?document.querySelector(i):i,h8=async(i,e,t,n)=>{const r=hw(n),s=r.publicKey||wn.publicKey,o=r.blockHeadless||wn.blockHeadless,c=wn.storageProvider||r.storageProvider,h={...wn.blockList,...r.blockList},d={...wn.limitRate,...r.limitRate};if(o&&vI(navigator))return Promise.reject(_I());const p=u8(t);yI(s,i,e),c8(p);const y=new FormData(p);return bI(h,y)?Promise.reject(wI()):await EI(location.pathname,d,c)?Promise.reject(TI()):(y.append("lib_version","4.4.1"),y.append("service_id",i),y.append("template_id",e),y.append("user_id",s),gI("/api/v1.0/email/send-form",y))},SI={init:t8,send:l8,sendForm:h8,EmailJSResponseStatus:Od},pc="alexinholozano10@gmail.com",d8="t7WDI5DOd_GQq7Z2j";SI.init(d8);const f8=()=>{const[i,e]=F.useState(""),[t,n]=F.useState(""),[r,s]=F.useState(""),[o,c]=F.useState(""),[h,d]=F.useState(""),[p,y]=F.useState(!1),v=eo(),b=F.useRef(),E=async S=>{if(S.preventDefault(),!i.trim()||!t.trim()||!r.trim()){d("Por favor completa todos los campos");return}y(!0),d("");try{const x=await SI.sendForm("service_hi3fbu6","template_wxu2cur",b.current);console.log("Correo enviado con xito!",x.status,x.text),c(`Solicitud enviada con xito! Un correo ha sido enviado desde ${r} a ${pc}`),e(""),n(""),s("")}catch(x){console.error("Error al enviar correo:",x),d(`Error al enviar el correo: ${x.text||x.message}. Por favor, intenta de nuevo o contacta directamente a ${pc}`)}finally{y(!1)}};return R.jsxs("div",{className:"asistencia-container",children:[R.jsxs("div",{className:"header",children:[R.jsx("button",{onClick:()=>v("/seleccionar-tienda"),className:"back-button",children:" Volver"}),R.jsx("h1",{children:"Asistencia y Soporte"})]}),R.jsxs("div",{className:"asistencia-card",children:[R.jsx("h2",{children:"Enviar Solicitud de Asistencia"}),o&&R.jsx("div",{className:"mensaje-exito",children:o}),h&&R.jsx("div",{className:"mensaje-error",children:h}),R.jsxs("form",{ref:b,onSubmit:E,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"correoRemitente",children:"Tu correo electrnico (remitente):"}),R.jsx("input",{type:"email",id:"correoRemitente",name:"email",value:r,onChange:S=>s(S.target.value),placeholder:"Ingresa tu correo electrnico",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"asunto",children:"Asunto:"}),R.jsx("input",{type:"text",id:"asunto",name:"title",value:i,onChange:S=>e(S.target.value),placeholder:"Ej. Problema al agregar productos",required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"descripcion",children:"Descripcin del problema:"}),R.jsx("textarea",{id:"descripcion",name:"message",value:t,onChange:S=>n(S.target.value),placeholder:"Describe detalladamente el problema que ests experimentando...",rows:5,required:!0})]}),R.jsx("input",{type:"hidden",name:"subject",value:i}),R.jsx("input",{type:"hidden",name:"to_name",value:"Alexander"}),R.jsx("input",{type:"hidden",name:"reply_to",value:r}),R.jsx("input",{type:"hidden",name:"email",value:r}),R.jsx("div",{className:"botones-envio",children:R.jsx("button",{type:"submit",className:"enviar-btn",disabled:p,children:p?"Enviando...":"Enviar Solicitud"})})]}),R.jsx("div",{className:"contacto-directo",children:R.jsxs("p",{children:["O enva un correo directamente a: ",R.jsx("a",{href:`mailto:${pc}`,children:pc})]})})]}),R.jsxs("div",{className:"informacion-contacto",children:[R.jsx("h3",{children:"Informacin de Contacto"}),R.jsx("p",{children:"Si prefieres contactarnos directamente:"}),R.jsxs("ul",{children:[R.jsxs("li",{children:["Email: ",R.jsx("a",{href:`mailto:${pc}`,children:pc})]}),R.jsx("li",{children:"Telfono: 3142093407"}),R.jsx("li",{children:"Horario: Lunes a Viernes, 9:00 AM - 6:00 PM"})]})]}),R.jsxs("div",{className:"preguntas-frecuentes",children:[R.jsx("h3",{children:"Preguntas Frecuentes"}),R.jsxs("div",{className:"pregunta",children:[R.jsx("h4",{children:"Cmo agrego una nueva tienda?"}),R.jsx("p",{children:'Para agregar una nueva tienda, ve a la pgina principal, ingresa el nombre de la tienda en el campo "Nombre de la nueva tienda" y haz clic en "Agregar Tienda".'})]}),R.jsxs("div",{className:"pregunta",children:[R.jsx("h4",{children:"Cmo edito un producto?"}),R.jsx("p",{children:'Para editar un producto, selecciona la tienda donde se encuentra, luego haz clic en el botn "Editar" junto al producto que deseas modificar.'})]}),R.jsxs("div",{className:"pregunta",children:[R.jsx("h4",{children:"Cmo comparo precios entre meses?"}),R.jsx("p",{children:'Para comparar precios, selecciona una tienda y haz clic en "Comparar Precios por Mes". Luego selecciona los dos meses que deseas comparar y haz clic en "Comparar".'})]})]}),R.jsx("div",{className:"footer",children:R.jsx(_g,{})})]})},p8=()=>{const[i,e]=F.useState({seguridad:[],usabilidad:[],rendimiento:[]}),[t,n]=F.useState(!0),[r,s]=F.useState(null);F.useEffect(()=>{(async()=>{try{n(!0);const p=await o(),y=await c(),v=await h();e({seguridad:p,usabilidad:y,rendimiento:v})}catch(p){console.error("Error en pruebas:",p),s(p.message)}finally{n(!1)}})()},[]);const o=async()=>{const d=[];try{const p=gt.currentUser;d.push({nombre:"Autenticacin de usuario",resultado:p?"XITO":"FALLO",detalles:p?"Usuario autenticado correctamente":"No hay usuario autenticado"})}catch(p){d.push({nombre:"Autenticacin de usuario",resultado:"ERROR",detalles:p.message})}try{const p=Pi(Gt,"tiendas");await Ka(p),d.push({nombre:"Permisos de Firestore",resultado:"XITO",detalles:"Acceso correcto a la coleccin de tiendas"})}catch(p){d.push({nombre:"Permisos de Firestore",resultado:"FALLO",detalles:p.message})}return d},c=async()=>{const d=[];try{localStorage.setItem("test","test");const p=localStorage.getItem("test");localStorage.removeItem("test"),d.push({nombre:"Acceso a localStorage",resultado:p==="test"?"XITO":"FALLO",detalles:p==="test"?"Funcionamiento correcto":"No se pudo acceder a localStorage"})}catch(p){d.push({nombre:"Acceso a localStorage",resultado:"ERROR",detalles:p.message})}try{const p=localStorage.getItem("ultimaTiendaSeleccionada");d.push({nombre:"Memoria de ltima tienda",resultado:p?"XITO":"AVISO",detalles:p?`ltima tienda guardada: ${p}`:"No hay tienda en memoria. Es normal si es la primera vez que se usa la app."})}catch(p){d.push({nombre:"Memoria de ltima tienda",resultado:"ERROR",detalles:p.message})}return d},h=async()=>{const d=[];try{const p=performance.now(),y=Pi(Gt,"tiendas");await Ka(y);const b=performance.now()-p;d.push({nombre:"Tiempo de carga de tiendas",resultado:b<2e3?"XITO":"AVISO",detalles:`Tiempo de carga: ${b.toFixed(2)}ms (${b<2e3?"Aceptable":"Lento"})`})}catch(p){d.push({nombre:"Tiempo de carga de tiendas",resultado:"ERROR",detalles:p.message})}return d};return R.jsxs("div",{className:"prueba-seguridad-container",children:[R.jsx("h1",{className:"prueba-seguridad-titulo",children:"Pruebas de Seguridad y Usabilidad"}),r&&R.jsx("div",{className:"prueba-error",children:r}),t?R.jsx("div",{className:"prueba-cargando",children:"Ejecutando pruebas..."}):R.jsxs("div",{children:[R.jsxs("div",{className:"seccion-pruebas",children:[R.jsx("h2",{className:"seccion-titulo",children:"Seguridad"}),R.jsxs("table",{className:"tabla-pruebas",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Prueba"}),R.jsx("th",{children:"Resultado"}),R.jsx("th",{children:"Detalles"})]})}),R.jsx("tbody",{children:i.seguridad.map((d,p)=>R.jsxs("tr",{children:[R.jsx("td",{children:d.nombre}),R.jsx("td",{children:R.jsx("div",{className:d.resultado==="XITO"?"resultado-exito":d.resultado==="AVISO"?"resultado-aviso":"resultado-fallo",children:d.resultado})}),R.jsx("td",{children:d.detalles})]},p))})]})]}),R.jsxs("div",{className:"seccion-pruebas",children:[R.jsx("h2",{className:"seccion-titulo",children:"Usabilidad"}),R.jsxs("table",{className:"tabla-pruebas",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Prueba"}),R.jsx("th",{children:"Resultado"}),R.jsx("th",{children:"Detalles"})]})}),R.jsx("tbody",{children:i.usabilidad.map((d,p)=>R.jsxs("tr",{children:[R.jsx("td",{children:d.nombre}),R.jsx("td",{children:R.jsx("div",{className:d.resultado==="XITO"?"resultado-exito":d.resultado==="AVISO"?"resultado-aviso":"resultado-fallo",children:d.resultado})}),R.jsx("td",{children:d.detalles})]},p))})]})]}),R.jsxs("div",{className:"seccion-pruebas",children:[R.jsx("h2",{className:"seccion-titulo",children:"Rendimiento"}),R.jsxs("table",{className:"tabla-pruebas",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Prueba"}),R.jsx("th",{children:"Resultado"}),R.jsx("th",{children:"Detalles"})]})}),R.jsx("tbody",{children:i.rendimiento.map((d,p)=>R.jsxs("tr",{children:[R.jsx("td",{children:d.nombre}),R.jsx("td",{children:R.jsx("div",{className:d.resultado==="XITO"?"resultado-exito":d.resultado==="AVISO"?"resultado-aviso":"resultado-fallo",children:d.resultado})}),R.jsx("td",{children:d.detalles})]},p))})]})]}),R.jsx($o,{to:"/seleccionar-tienda",className:"boton-volver",children:"Volver a Tiendas"})]})]})};function m8(){const[i,e]=F.useState(null),[t,n]=F.useState(!0);return F.useEffect(()=>{const r=gV(gt,s=>{e(s),n(!1)});return()=>r()},[]),t?R.jsx("p",{children:"Cargando..."}):R.jsx(EN,{basename:"/Mercado",children:R.jsxs(JP,{children:[R.jsx(Mi,{path:"/",element:i?R.jsx(us,{to:"/seleccionar-tienda"}):R.jsx(uz,{})}),R.jsx(Mi,{path:"/seleccionar-tienda",element:i?R.jsx(hz,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/categorias",element:i?R.jsx(dz,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/agregar-producto",element:i?R.jsx(mz,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/comparar-precios",element:i?R.jsx(KW,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/migracion",element:R.jsx(XW,{})}),R.jsx(Mi,{path:"/resumen-gastos",element:i?R.jsx(ZW,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/soporte",element:i?R.jsx(JW,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/asistencia",element:i?R.jsx(f8,{}):R.jsx(us,{to:"/"})}),R.jsx(Mi,{path:"/prueba-seguridad",element:R.jsx(p8,{})}),R.jsx(Mi,{path:"*",element:R.jsx(us,{to:"/"})})]})})}lP.createRoot(document.getElementById("root")).render(R.jsx(ae.StrictMode,{children:R.jsx(m8,{})}));
